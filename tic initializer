[1mdiff --git a/app/assets/javascripts/datepicker.js b/app/assets/javascripts/datepicker.js[m
[1mindex 7c286f3..076d42f 100644[m
[1m--- a/app/assets/javascripts/datepicker.js[m
[1m+++ b/app/assets/javascripts/datepicker.js[m
[36m@@ -1,13 +1,13 @@[m
[31m-/*![m
[31m- * pickadate.js v3.5.6, 2015/04/20[m
[31m- * By Amsul, http://amsul.ca[m
[31m- * Hosted on http://amsul.github.io/pickadate.js[m
[31m- * Licensed under MIT[m
[31m- */[m
[31m-!function(a){"function"==typeof define&&define.amd?define("picker",["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):this.Picker=a(jQuery)}(function(a){function b(f,g,i,m){function n(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",B.component.nodes(w.open),y.box),y.wrap),y.frame),y.holder,'tabindex="-1"')}function o(){z.data(g,B).addClass(y.input).val(z.data("value")?B.get("select",x.format):f.value),x.editable||z.on("focus."+w.id+" click."+w.id,function(a){a.preventDefault(),B.open()}).on("keydown."+w.id,u),e(f,{haspopup:!0,expanded:!1,readonly:!1,owns:f.id+"_root"})}function p(){e(B.$root[0],"hidden",!0)}function q(){B.$holder.on({keydown:u,"focus.toOpen":t,blur:function(){z.removeClass(y.target)},focusin:function(a){B.$root.removeClass(y.focused),a.stopPropagation()},"mousedown click":function(b){var c=b.target;c!=B.$holder[0]&&(b.stopPropagation(),"mousedown"!=b.type||a(c).is("input, select, textarea, button, option")||(b.preventDefault(),B.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var b=a(this),c=b.data(),d=b.hasClass(y.navDisabled)||b.hasClass(y.disabled),e=h();e=e&&(e.type||e.href),(d||e&&!a.contains(B.$root[0],e))&&B.$holder[0].focus(),!d&&c.nav?B.set("highlight",B.component.item.highlight,{nav:c.nav}):!d&&"pick"in c?(B.set("select",c.pick),x.closeOnSelect&&B.close(!0)):c.clear?(B.clear(),x.closeOnClear&&B.close(!0)):c.close&&B.close(!0)})}function r(){var b;x.hiddenName===!0?(b=f.name,f.name=""):(b=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],b=b[0]+f.name+b[1]),B._hidden=a('<input type=hidden name="'+b+'"'+(z.data("value")||f.value?' value="'+B.get("select",x.formatSubmit)+'"':"")+">")[0],z.on("change."+w.id,function(){B._hidden.value=f.value?B.get("select",x.formatSubmit):""})}function s(){v&&l?B.$holder.find("."+y.frame).one("transitionend",function(){B.$holder[0].focus()}):B.$holder[0].focus()}function t(a){a.stopPropagation(),z.addClass(y.target),B.$root.addClass(y.focused),B.open()}function u(a){var b=a.keyCode,c=/^(8|46)$/.test(b);return 27==b?(B.close(!0),!1):void((32==b||c||!w.open&&B.component.key[b])&&(a.preventDefault(),a.stopPropagation(),c?B.clear().close():B.open()))}if(!f)return b;var v=!1,w={id:f.id||"P"+Math.abs(~~(Math.random()*new Date))},x=i?a.extend(!0,{},i.defaults,m):m||{},y=a.extend({},b.klasses(),x.klass),z=a(f),A=function(){return this.start()},B=A.prototype={constructor:A,$node:z,start:function(){return w&&w.start?B:(w.methods={},w.start=!0,w.open=!1,w.type=f.type,f.autofocus=f==h(),f.readOnly=!x.editable,f.id=f.id||w.id,"text"!=f.type&&(f.type="text"),B.component=new i(B,x),B.$root=a('<div class="'+y.picker+'" id="'+f.id+'_root" />'),p(),B.$holder=a(n()).appendTo(B.$root),q(),x.formatSubmit&&r(),o(),x.containerHidden?a(x.containerHidden).append(B._hidden):z.after(B._hidden),x.container?a(x.container).append(B.$root):z.after(B.$root),B.on({start:B.component.onStart,render:B.component.onRender,stop:B.component.onStop,open:B.component.onOpen,close:B.component.onClose,set:B.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),v=c(B.$holder[0]),f.autofocus&&B.open(),B.trigger("start").trigger("render"))},render:function(b){return b?(B.$holder=a(n()),q(),B.$root.html(B.$holder)):B.$root.find("."+y.box).html(B.component.nodes(w.open)),B.trigger("render")},stop:function(){return w.start?(B.close(),B._hidden&&B._hidden.parentNode.removeChild(B._hidden),B.$root.remove(),z.removeClass(y.input).removeData(g),setTimeout(function(){z.off("."+w.id)},0),f.type=w.type,f.readOnly=!1,B.trigger("stop"),w.methods={},w.start=!1,B):B},open:function(c){return w.open?B:(z.addClass(y.active),e(f,"expanded",!0),setTimeout(function(){B.$root.addClass(y.opened),e(B.$root[0],"hidden",!1)},0),c!==!1&&(w.open=!0,v&&k.css("overflow","hidden").css("padding-right","+="+d()),s(),j.on("click."+w.id+" focusin."+w.id,function(a){var b=a.target;b!=f&&b!=document&&3!=a.which&&B.close(b===B.$holder[0])}).on("keydown."+w.id,function(c){var d=c.keyCode,e=B.component.key[d],f=c.target;27==d?B.close(!0):f!=B.$holder[0]||!e&&13!=d?a.contains(B.$root[0],f)&&13==d&&(c.preventDefault(),f.click()):(c.preventDefault(),e?b._.trigger(B.component.key.go,B,[b._.trigger(e)]):B.$root.find("."+y.highlighted).hasClass(y.disabled)||(B.set("select",B.component.item.highlight),x.closeOnSelect&&B.close(!0)))})),B.trigger("open"))},close:function(a){return a&&(x.editable?f.focus():(B.$holder.off("focus.toOpen").focus(),setTimeout(function(){B.$holder.on("focus.toOpen",t)},0))),z.removeClass(y.active),e(f,"expanded",!1),setTimeout(function(){B.$root.removeClass(y.opened+" "+y.focused),e(B.$root[0],"hidden",!0)},0),w.open?(w.open=!1,v&&k.css("overflow","").css("padding-right","-="+d()),j.off("."+w.id),B.trigger("close")):B},clear:function(a){return B.set("clear",null,a)},set:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(d=g&&a.isPlainObject(c)?c:d||{},b){g||(h[b]=c);for(e in h)f=h[e],e in B.component.item&&(void 0===f&&(f=null),B.component.set(e,f,d)),("select"==e||"clear"==e)&&z.val("clear"==e?"":B.get(e,x.format)).trigger("change");B.render()}return d.muted?B:B.trigger("set",h)},get:function(a,c){if(a=a||"value",null!=w[a])return w[a];if("valueSubmit"==a){if(B._hidden)return B._hidden.value;a="value"}if("value"==a)return f.value;if(a in B.component.item){if("string"==typeof c){var d=B.component.get(a);return d?b._.trigger(B.component.formats.toString,B.component,[c,d]):""}return B.component.get(a)}},on:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(b){g||(h[b]=c);for(e in h)f=h[e],d&&(e="_"+e),w.methods[e]=w.methods[e]||[],w.methods[e].push(f)}return B},off:function(){var a,b,c=arguments;for(a=0,namesCount=c.length;a<namesCount;a+=1)b=c[a],b in w.methods&&delete w.methods[b];return B},trigger:function(a,c){var d=function(a){var d=w.methods[a];d&&d.map(function(a){b._.trigger(a,B,[c])})};return d("_"+a),d(a),B}};return new A}function c(a){var b,c="position";return a.currentStyle?b=a.currentStyle[c]:window.getComputedStyle&&(b=getComputedStyle(a)[c]),"fixed"==b}function d(){if(k.height()<=i.height())return 0;var b=a('<div style="visibility:hidden;width:100px" />').appendTo("body"),c=b[0].offsetWidth;b.css("overflow","scroll");var d=a('<div style="width:100%" />').appendTo(b),e=d[0].offsetWidth;return b.remove(),c-e}function e(b,c,d){if(a.isPlainObject(c))for(var e in c)f(b,e,c[e]);else f(b,c,d)}function f(a,b,c){a.setAttribute(("role"==b?"":"aria-")+b,c)}function g(b,c){a.isPlainObject(b)||(b={attribute:c}),c="";for(var d in b){var e=("role"==d?"":"aria-")+d,f=b[d];c+=null==f?"":e+'="'+b[d]+'"'}return c}function h(){try{return document.activeElement}catch(a){}}var i=a(window),j=a(document),k=a(document.documentElement),l=null!=document.documentElement.style.transition;return b.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",target:a+"__input--target",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},b._={group:function(a){for(var c,d="",e=b._.trigger(a.min,a);e<=b._.trigger(a.max,a,[e]);e+=a.i)c=b._.trigger(a.item,a,[e]),d+=b._.node(a.node,c[0],c[1],c[2]);return d},node:function(b,c,d,e){return c?(c=a.isArray(c)?c.join(""):c,d=d?' class="'+d+'"':"",e=e?" "+e:"","<"+b+d+e+">"+c+"</"+b+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&a%1===0},ariaAttr:g},b.extend=function(c,d){a.fn[c]=function(e,f){var g=this.data(c);return"picker"==e?g:g&&"string"==typeof e?b._.trigger(g[e],g,[f]):this.each(function(){var f=a(this);f.data(c)||new b(this,c,d,e)})},a.fn[c].defaults=d.defaults},b});[m
[31m-[m
[31m-/*![m
[31m- * Date picker for pickadate.js v3.5.6[m
[31m- * http://amsul.github.io/pickadate.js/date.htm[m
[31m- */[m
[32m+[m[32m/*![m[41m[m
[32m+[m[32m * pickadate.js v3.5.6, 2015/04/20[m[41m[m
[32m+[m[32m * By Amsul, http://amsul.ca[m[41m[m
[32m+[m[32m * Hosted on http://amsul.github.io/pickadate.js[m[41m[m
[32m+[m[32m * Licensed under MIT[m[41m[m
[32m+[m[32m */[m[41m[m
[32m+[m[32m!function(a){"function"==typeof define&&define.amd?define("picker",["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):this.Picker=a(jQuery)}(function(a){function b(f,g,i,m){function n(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",B.component.nodes(w.open),y.box),y.wrap),y.frame),y.holder,'tabindex="-1"')}function o(){z.data(g,B).addClass(y.input).val(z.data("value")?B.get("select",x.format):f.value),x.editable||z.on("focus."+w.id+" click."+w.id,function(a){a.preventDefault(),B.open()}).on("keydown."+w.id,u),e(f,{haspopup:!0,expanded:!1,readonly:!1,owns:f.id+"_root"})}function p(){e(B.$root[0],"hidden",!0)}function q(){B.$holder.on({keydown:u,"focus.toOpen":t,blur:function(){z.removeClass(y.target)},focusin:function(a){B.$root.removeClass(y.focused),a.stopPropagation()},"mousedown click":function(b){var c=b.target;c!=B.$holder[0]&&(b.stopPropagation(),"mousedown"!=b.type||a(c).is("input, select, textarea, button, option")||(b.preventDefault(),B.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var b=a(this),c=b.data(),d=b.hasClass(y.navDisabled)||b.hasClass(y.disabled),e=h();e=e&&(e.type||e.href),(d||e&&!a.contains(B.$root[0],e))&&B.$holder[0].focus(),!d&&c.nav?B.set("highlight",B.component.item.highlight,{nav:c.nav}):!d&&"pick"in c?(B.set("select",c.pick),x.closeOnSelect&&B.close(!0)):c.clear?(B.clear(),x.closeOnClear&&B.close(!0)):c.close&&B.close(!0)})}function r(){var b;x.hiddenName===!0?(b=f.name,f.name=""):(b=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],b=b[0]+f.name+b[1]),B._hidden=a('<input type=hidden name="'+b+'"'+(z.data("value")||f.value?' value="'+B.get("select",x.formatSubmit)+'"':"")+">")[0],z.on("change."+w.id,function(){B._hidden.value=f.value?B.get("select",x.formatSubmit):""})}function s(){v&&l?B.$holder.find("."+y.frame).one("transitionend",function(){B.$holder[0].focus()}):B.$holder[0].focus()}function t(a){a.stopPropagation(),z.addClass(y.target),B.$root.addClass(y.focused),B.open()}function u(a){var b=a.keyCode,c=/^(8|46)$/.test(b);return 27==b?(B.close(!0),!1):void((32==b||c||!w.open&&B.component.key[b])&&(a.preventDefault(),a.stopPropagation(),c?B.clear().close():B.open()))}if(!f)return b;var v=!1,w={id:f.id||"P"+Math.abs(~~(Math.random()*new Date))},x=i?a.extend(!0,{},i.defaults,m):m||{},y=a.extend({},b.klasses(),x.klass),z=a(f),A=function(){return this.start()},B=A.prototype={constructor:A,$node:z,start:function(){return w&&w.start?B:(w.methods={},w.start=!0,w.open=!1,w.type=f.type,f.autofocus=f==h(),f.readOnly=!x.editable,f.id=f.id||w.id,"text"!=f.type&&(f.type="text"),B.component=new i(B,x),B.$root=a('<div class="'+y.picker+'" id="'+f.id+'_root" />'),p(),B.$holder=a(n()).appendTo(B.$root),q(),x.formatSubmit&&r(),o(),x.containerHidden?a(x.containerHidden).append(B._hidden):z.after(B._hidden),x.container?a(x.container).append(B.$root):z.after(B.$root),B.on({start:B.component.onStart,render:B.component.onRender,stop:B.component.onStop,open:B.component.onOpen,close:B.component.onClose,set:B.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),v=c(B.$holder[0]),f.autofocus&&B.open(),B.trigger("start").trigger("render"))},render:function(b){return b?(B.$holder=a(n()),q(),B.$root.html(B.$holder)):B.$root.find("."+y.box).html(B.component.nodes(w.open)),B.trigger("render")},stop:function(){return w.start?(B.close(),B._hidden&&B._hidden.parentNode.removeChild(B._hidden),B.$root.remove(),z.removeClass(y.input).removeData(g),setTimeout(function(){z.off("."+w.id)},0),f.type=w.type,f.readOnly=!1,B.trigger("stop"),w.methods={},w.start=!1,B):B},open:function(c){return w.open?B:(z.addClass(y.active),e(f,"expanded",!0),setTimeout(function(){B.$root.addClass(y.opened),e(B.$root[0],"hidden",!1)},0),c!==!1&&(w.open=!0,v&&k.css("overflow","hidden").css("padding-right","+="+d()),s(),j.on("click."+w.id+" focusin."+w.id,function(a){var b=a.target;b!=f&&b!=document&&3!=a.which&&B.close(b===B.$holder[0])}).on("keydown."+w.id,function(c){var d=c.keyCode,e=B.component.key[d],f=c.target;27==d?B.close(!0):f!=B.$holder[0]||!e&&13!=d?a.contains(B.$root[0],f)&&13==d&&(c.preventDefault(),f.click()):(c.preventDefault(),e?b._.trigger(B.component.key.go,B,[b._.trigger(e)]):B.$root.find("."+y.highlighted).hasClass(y.disabled)||(B.set("select",B.component.item.highlight),x.closeOnSelect&&B.close(!0)))})),B.trigger("open"))},close:function(a){return a&&(x.editable?f.focus():(B.$holder.off("focus.toOpen").focus(),setTimeout(function(){B.$holder.on("focus.toOpen",t)},0))),z.removeClass(y.active),e(f,"expanded",!1),setTimeout(function(){B.$root.removeClass(y.opened+" "+y.focused),e(B.$root[0],"hidden",!0)},0),w.open?(w.open=!1,v&&k.css("overflow","").css("padding-right","-="+d()),j.off("."+w.id),B.trigger("close")):B},clear:function(a){return B.set("clear",null,a)},set:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(d=g&&a.isPlainObject(c)?c:d||{},b){g||(h[b]=c);for(e in h)f=h[e],e in B.component.item&&(void 0===f&&(f=null),B.component.set(e,f,d)),("select"==e||"clear"==e)&&z.val("clear"==e?"":B.get(e,x.format)).trigger("change");B.render()}return d.muted?B:B.trigger("set",h)},get:function(a,c){if(a=a||"value",null!=w[a])return w[a];if("valueSubmit"==a){if(B._hidden)return B._hidden.value;a="value"}if("value"==a)return f.value;if(a in B.component.item){if("string"==typeof c){var d=B.component.get(a);return d?b._.trigger(B.component.formats.toString,B.component,[c,d]):""}return B.component.get(a)}},on:function(b,c,d){var e,f,g=a.isPlainObject(b),h=g?b:{};if(b){g||(h[b]=c);for(e in h)f=h[e],d&&(e="_"+e),w.methods[e]=w.methods[e]||[],w.methods[e].push(f)}return B},off:function(){var a,b,c=arguments;for(a=0,namesCount=c.length;a<namesCount;a+=1)b=c[a],b in w.methods&&delete w.methods[b];return B},trigger:function(a,c){var d=function(a){var d=w.methods[a];d&&d.map(function(a){b._.trigger(a,B,[c])})};return d("_"+a),d(a),B}};return new A}function c(a){var b,c="position";return a.currentStyle?b=a.currentStyle[c]:window.getComputedStyle&&(b=getComputedStyle(a)[c]),"fixed"==b}function d(){if(k.height()<=i.height())return 0;var b=a('<div style="visibility:hidden;width:100px" />').appendTo("body"),c=b[0].offsetWidth;b.css("overflow","scroll");var d=a('<div style="width:100%" />').appendTo(b),e=d[0].offsetWidth;return b.remove(),c-e}function e(b,c,d){if(a.isPlainObject(c))for(var e in c)f(b,e,c[e]);else f(b,c,d)}function f(a,b,c){a.setAttribute(("role"==b?"":"aria-")+b,c)}function g(b,c){a.isPlainObject(b)||(b={attribute:c}),c="";for(var d in b){var e=("role"==d?"":"aria-")+d,f=b[d];c+=null==f?"":e+'="'+b[d]+'"'}return c}function h(){try{return document.activeElement}catch(a){}}var i=a(window),j=a(document),k=a(document.documentElement),l=null!=document.documentElement.style.transition;return b.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",target:a+"__input--target",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},b._={group:function(a){for(var c,d="",e=b._.trigger(a.min,a);e<=b._.trigger(a.max,a,[e]);e+=a.i)c=b._.trigger(a.item,a,[e]),d+=b._.node(a.node,c[0],c[1],c[2]);return d},node:function(b,c,d,e){return c?(c=a.isArray(c)?c.join(""):c,d=d?' class="'+d+'"':"",e=e?" "+e:"","<"+b+d+e+">"+c+"</"+b+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&a%1===0},ariaAttr:g},b.extend=function(c,d){a.fn[c]=function(e,f){var g=this.data(c);return"picker"==e?g:g&&"string"==typeof e?b._.trigger(g[e],g,[f]):this.each(function(){var f=a(this);f.data(c)||new b(this,c,d,e)})},a.fn[c].defaults=d.defaults},b});[m[41m[m
[32m+[m[41m[m
[32m+[m[32m/*![m[41m[m
[32m+[m[32m * Date picker for pickadate.js v3.5.6[m[41m[m
[32m+[m[32m * http://amsul.github.io/pickadate.js/date.htm[m[41m[m
[32m+[m[32m */[m[41m[m
 !function(a){"function"==typeof define&&define.amd?define(["picker","jquery"],a):"object"==typeof exports?module.exports=a(require("./picker.js"),require("jquery")):a(Picker,jQuery)}(function(a,b){function c(a,b){var c=this,d=a.$node[0],e=d.value,f=a.$node.data("value"),g=f||e,h=f?b.formatSubmit:b.format,i=function(){return d.currentStyle?"rtl"==d.currentStyle.direction:"rtl"==getComputedStyle(a.$root[0]).direction};c.settings=b,c.$node=a.$node,c.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},c.item={},c.item.clear=null,c.item.disable=(b.disable||[]).slice(0),c.item.enable=-function(a){return a[0]===!0?a.shift():-1}(c.item.disable),c.set("min",b.min).set("max",b.max).set("now"),g?c.set("select",g,{format:h,defaultValue:!0}):c.set("select",null).set("highlight",c.item.now),c.key={40:7,38:-7,39:function(){return i()?-1:1},37:function(){return i()?1:-1},go:function(a){var b=c.item.highlight,d=new Date(b.year,b.month,b.date+a);c.set("highlight",d,{interval:a}),this.render()}},a.on("render",function(){a.$root.find("."+b.klass.selectMonth).on("change",function(){var c=this.value;c&&(a.set("highlight",[a.get("view").year,c,a.get("highlight").date]),a.$root.find("."+b.klass.selectMonth).trigger("focus"))}),a.$root.find("."+b.klass.selectYear).on("change",function(){var c=this.value;c&&(a.set("highlight",[c,a.get("view").month,a.get("highlight").date]),a.$root.find("."+b.klass.selectYear).trigger("focus"))})},1).on("open",function(){var d="";c.disabled(c.get("now"))&&(d=":not(."+b.klass.buttonToday+")"),a.$root.find("button"+d+", select").attr("disabled",!1)},1).on("close",function(){a.$root.find("button, select").attr("disabled",!0)},1)}var d=7,e=6,f=a._;c.prototype.set=function(a,b,c){var d=this,e=d.item;return null===b?("clear"==a&&(a="select"),e[a]=b,d):(e["enable"==a?"disable":"flip"==a?"enable":a]=d.queue[a].split(" ").map(function(e){return b=d[e](a,b,c)}).pop(),"select"==a?d.set("highlight",e.select,c):"highlight"==a?d.set("view",e.highlight,c):a.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&d.disabled(e.select)&&d.set("select",e.select,c),e.highlight&&d.disabled(e.highlight)&&d.set("highlight",e.highlight,c)),d)},c.prototype.get=function(a){return this.item[a]},c.prototype.create=function(a,c,d){var e,g=this;return c=void 0===c?a:c,c==-(1/0)||c==1/0?e=c:b.isPlainObject(c)&&f.isInteger(c.pick)?c=c.obj:b.isArray(c)?(c=new Date(c[0],c[1],c[2]),c=f.isDate(c)?c:g.create().obj):c=f.isInteger(c)||f.isDate(c)?g.normalize(new Date(c),d):g.now(a,c,d),{year:e||c.getFullYear(),month:e||c.getMonth(),date:e||c.getDate(),day:e||c.getDay(),obj:e||c,pick:e||c.getTime()}},c.prototype.createRange=function(a,c){var d=this,e=function(a){return a===!0||b.isArray(a)||f.isDate(a)?d.create(a):a};return f.isInteger(a)||(a=e(a)),f.isInteger(c)||(c=e(c)),f.isInteger(a)&&b.isPlainObject(c)?a=[c.year,c.month,c.date+a]:f.isInteger(c)&&b.isPlainObject(a)&&(c=[a.year,a.month,a.date+c]),{from:e(a),to:e(c)}},c.prototype.withinRange=function(a,b){return a=this.createRange(a.from,a.to),b.pick>=a.from.pick&&b.pick<=a.to.pick},c.prototype.overlapRanges=function(a,b){var c=this;return a=c.createRange(a.from,a.to),b=c.createRange(b.from,b.to),c.withinRange(a,b.from)||c.withinRange(a,b.to)||c.withinRange(b,a.from)||c.withinRange(b,a.to)},c.prototype.now=function(a,b,c){return b=new Date,c&&c.rel&&b.setDate(b.getDate()+c.rel),this.normalize(b,c)},c.prototype.navigate=function(a,c,d){var e,f,g,h,i=b.isArray(c),j=b.isPlainObject(c),k=this.item.view;if(i||j){for(j?(f=c.year,g=c.month,h=c.date):(f=+c[0],g=+c[1],h=+c[2]),d&&d.nav&&k&&k.month!==g&&(f=k.year,g=k.month),e=new Date(f,g+(d&&d.nav?d.nav:0),1),f=e.getFullYear(),g=e.getMonth();new Date(f,g,h).getMonth()!==g;)h-=1;c=[f,g,h]}return c},c.prototype.normalize=function(a){return a.setHours(0,0,0,0),a},c.prototype.measure=function(a,b){var c=this;return b?"string"==typeof b?b=c.parse(a,b):f.isInteger(b)&&(b=c.now(a,b,{rel:b})):b="min"==a?-(1/0):1/0,b},c.prototype.viewset=function(a,b){return this.create([b.year,b.month,1])},c.prototype.validate=function(a,c,d){var e,g,h,i,j=this,k=c,l=d&&d.interval?d.interval:1,m=-1===j.item.enable,n=j.item.min,o=j.item.max,p=m&&j.item.disable.filter(function(a){if(b.isArray(a)){var d=j.create(a).pick;d<c.pick?e=!0:d>c.pick&&(g=!0)}return f.isInteger(a)}).length;if((!d||!d.nav&&!d.defaultValue)&&(!m&&j.disabled(c)||m&&j.disabled(c)&&(p||e||g)||!m&&(c.pick<=n.pick||c.pick>=o.pick)))for(m&&!p&&(!g&&l>0||!e&&0>l)&&(l*=-1);j.disabled(c)&&(Math.abs(l)>1&&(c.month<k.month||c.month>k.month)&&(c=k,l=l>0?1:-1),c.pick<=n.pick?(h=!0,l=1,c=j.create([n.year,n.month,n.date+(c.pick===n.pick?0:-1)])):c.pick>=o.pick&&(i=!0,l=-1,c=j.create([o.year,o.month,o.date+(c.pick===o.pick?0:1)])),!h||!i);)c=j.create([c.year,c.month,c.date+l]);return c},c.prototype.disabled=function(a){var c=this,d=c.item.disable.filter(function(d){return f.isInteger(d)?a.day===(c.settings.firstDay?d:d-1)%7:b.isArray(d)||f.isDate(d)?a.pick===c.create(d).pick:b.isPlainObject(d)?c.withinRange(d,a):void 0});return d=d.length&&!d.filter(function(a){return b.isArray(a)&&"inverted"==a[3]||b.isPlainObject(a)&&a.inverted}).length,-1===c.item.enable?!d:d||a.pick<c.item.min.pick||a.pick>c.item.max.pick},c.prototype.parse=function(a,b,c){var d=this,e={};return b&&"string"==typeof b?(c&&c.format||(c=c||{},c.format=d.settings.format),d.formats.toArray(c.format).map(function(a){var c=d.formats[a],g=c?f.trigger(c,d,[b,e]):a.replace(/^!/,"").length;c&&(e[a]=b.substr(0,g)),b=b.substr(g)}),[e.yyyy||e.yy,+(e.mm||e.m)-1,e.dd||e.d]):b},c.prototype.formats=function(){function a(a,b,c){var d=a.match(/[^\x00-\x7F]+|\w+/)[0];return c.mm||c.m||(c.m=b.indexOf(d)+1),d.length}function b(a){return a.match(/\w+/)[0].length}return{d:function(a,b){return a?f.digits(a):b.date},dd:function(a,b){return a?2:f.lead(b.date)},ddd:function(a,c){return a?b(a):this.settings.weekdaysShort[c.day]},dddd:function(a,c){return a?b(a):this.settings.weekdaysFull[c.day]},m:function(a,b){return a?f.digits(a):b.month+1},mm:function(a,b){return a?2:f.lead(b.month+1)},mmm:function(b,c){var d=this.settings.monthsShort;return b?a(b,d,c):d[c.month]},mmmm:function(b,c){var d=this.settings.monthsFull;return b?a(b,d,c):d[c.month]},yy:function(a,b){return a?2:(""+b.year).slice(2)},yyyy:function(a,b){return a?4:b.year},toArray:function(a){return a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(a,b){var c=this;return c.formats.toArray(a).map(function(a){return f.trigger(c.formats[a],c,[0,b])||a.replace(/^!/,"")}).join("")}}}(),c.prototype.isDateExact=function(a,c){var d=this;return f.isInteger(a)&&f.isInteger(c)||"boolean"==typeof a&&"boolean"==typeof c?a===c:(f.isDate(a)||b.isArray(a))&&(f.isDate(c)||b.isArray(c))?d.create(a).pick===d.create(c).pick:b.isPlainObject(a)&&b.isPlainObject(c)?d.isDateExact(a.from,c.from)&&d.isDateExact(a.to,c.to):!1},c.prototype.isDateOverlap=function(a,c){var d=this,e=d.settings.firstDay?1:0;return f.isInteger(a)&&(f.isDate(c)||b.isArray(c))?(a=a%7+e,a===d.create(c).day+1):f.isInteger(c)&&(f.isDate(a)||b.isArray(a))?(c=c%7+e,c===d.create(a).day+1):b.isPlainObject(a)&&b.isPlainObject(c)?d.overlapRanges(a,c):!1},c.prototype.flipEnable=function(a){var b=this.item;b.enable=a||(-1==b.enable?1:-1)},c.prototype.deactivate=function(a,c){var d=this,e=d.item.disable.slice(0);return"flip"==c?d.flipEnable():c===!1?(d.flipEnable(1),e=[]):c===!0?(d.flipEnable(-1),e=[]):c.map(function(a){for(var c,g=0;g<e.length;g+=1)if(d.isDateExact(a,e[g])){c=!0;break}c||(f.isInteger(a)||f.isDate(a)||b.isArray(a)||b.isPlainObject(a)&&a.from&&a.to)&&e.push(a)}),e},c.prototype.activate=function(a,c){var d=this,e=d.item.disable,g=e.length;return"flip"==c?d.flipEnable():c===!0?(d.flipEnable(1),e=[]):c===!1?(d.flipEnable(-1),e=[]):c.map(function(a){var c,h,i,j;for(i=0;g>i;i+=1){if(h=e[i],d.isDateExact(h,a)){c=e[i]=null,j=!0;break}if(d.isDateOverlap(h,a)){b.isPlainObject(a)?(a.inverted=!0,c=a):b.isArray(a)?(c=a,c[3]||c.push("inverted")):f.isDate(a)&&(c=[a.getFullYear(),a.getMonth(),a.getDate(),"inverted"]);break}}if(c)for(i=0;g>i;i+=1)if(d.isDateExact(e[i],a)){e[i]=null;break}if(j)for(i=0;g>i;i+=1)if(d.isDateOverlap(e[i],a)){e[i]=null;break}c&&e.push(c)}),e.filter(function(a){return null!=a})},c.prototype.nodes=function(a){var b=this,c=b.settings,g=b.item,h=g.now,i=g.select,j=g.highlight,k=g.view,l=g.disable,m=g.min,n=g.max,o=function(a,b){return c.firstDay&&(a.push(a.shift()),b.push(b.shift())),f.node("thead",f.node("tr",f.group({min:0,max:d-1,i:1,node:"th",item:function(d){return[a[d],c.klass.weekdays,'scope=col title="'+b[d]+'"']}})))}((c.showWeekdaysFull?c.weekdaysFull:c.weekdaysShort).slice(0),c.weekdaysFull.slice(0)),p=function(a){return f.node("div"," ",c.klass["nav"+(a?"Next":"Prev")]+(a&&k.year>=n.year&&k.month>=n.month||!a&&k.year<=m.year&&k.month<=m.month?" "+c.klass.navDisabled:""),"data-nav="+(a||-1)+" "+f.ariaAttr({role:"button",controls:b.$node[0].id+"_table"})+' title="'+(a?c.labelMonthNext:c.labelMonthPrev)+'"')},q=function(){var d=c.showMonthsShort?c.monthsShort:c.monthsFull;return c.selectMonths?f.node("select",f.group({min:0,max:11,i:1,node:"option",item:function(a){return[d[a],0,"value="+a+(k.month==a?" selected":"")+(k.year==m.year&&a<m.month||k.year==n.year&&a>n.month?" disabled":"")]}}),c.klass.selectMonth,(a?"":"disabled")+" "+f.ariaAttr({controls:b.$node[0].id+"_table"})+' title="'+c.labelMonthSelect+'"'):f.node("div",d[k.month],c.klass.month)},r=function(){var d=k.year,e=c.selectYears===!0?5:~~(c.selectYears/2);if(e){var g=m.year,h=n.year,i=d-e,j=d+e;if(g>i&&(j+=g-i,i=g),j>h){var l=i-g,o=j-h;i-=l>o?o:l,j=h}return f.node("select",f.group({min:i,max:j,i:1,node:"option",item:function(a){return[a,0,"value="+a+(d==a?" selected":"")]}}),c.klass.selectYear,(a?"":"disabled")+" "+f.ariaAttr({controls:b.$node[0].id+"_table"})+' title="'+c.labelYearSelect+'"')}return f.node("div",d,c.klass.year)};return f.node("div",(c.selectYears?r()+q():q()+r())+p()+p(1),c.klass.header)+f.node("table",o+f.node("tbody",f.group({min:0,max:e-1,i:1,node:"tr",item:function(a){var e=c.firstDay&&0===b.create([k.year,k.month,1]).day?-7:0;return[f.group({min:d*a-k.day+e+1,max:function(){return this.min+d-1},i:1,node:"td",item:function(a){a=b.create([k.year,k.month,a+(c.firstDay?1:0)]);var d=i&&i.pick==a.pick,e=j&&j.pick==a.pick,g=l&&b.disabled(a)||a.pick<m.pick||a.pick>n.pick,o=f.trigger(b.formats.toString,b,[c.format,a]);return[f.node("div",a.date,function(b){return b.push(k.month==a.month?c.klass.infocus:c.klass.outfocus),h.pick==a.pick&&b.push(c.klass.now),d&&b.push(c.klass.selected),e&&b.push(c.klass.highlighted),g&&b.push(c.klass.disabled),b.join(" ")}([c.klass.day]),"data-pick="+a.pick+" "+f.ariaAttr({role:"gridcell",label:o,selected:d&&b.$node.val()===o?!0:null,activedescendant:e?!0:null,disabled:g?!0:null})),"",f.ariaAttr({role:"presentation"})]}})]}})),c.klass.table,'id="'+b.$node[0].id+'_table" '+f.ariaAttr({role:"grid",controls:b.$node[0].id,readonly:!0}))+f.node("div",f.node("button",c.today,c.klass.buttonToday,"type=button data-pick="+h.pick+(a&&!b.disabled(h)?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id}))+f.node("button",c.clear,c.klass.buttonClear,"type=button data-clear=1"+(a?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id}))+f.node("button",c.close,c.klass.buttonClose,"type=button data-close=true "+(a?"":" disabled")+" "+f.ariaAttr({controls:b.$node[0].id})),c.klass.footer)},c.defaults=function(a){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:a+"table",header:a+"header",navPrev:a+"nav--prev",navNext:a+"nav--next",navDisabled:a+"nav--disabled",month:a+"month",year:a+"year",selectMonth:a+"select--month",selectYear:a+"select--year",weekdays:a+"weekday",day:a+"day",disabled:a+"day--disabled",selected:a+"day--selected",highlighted:a+"day--highlighted",now:a+"day--today",infocus:a+"day--infocus",outfocus:a+"day--outfocus",footer:a+"footer",buttonClear:a+"button--clear",buttonToday:a+"button--today",buttonClose:a+"button--close"}}}(a.klasses().picker+"__"),a.extend("pickadate",c)});[m
\ No newline at end of file[m
[1mdiff --git a/app/assets/javascripts/radio_player.js.erb b/app/assets/javascripts/radio_player.js.erb[m
[1mindex b2fa6cb..1d24171 100644[m
[1m--- a/app/assets/javascripts/radio_player.js.erb[m
[1m+++ b/app/assets/javascripts/radio_player.js.erb[m
[36m@@ -1,20 +1,20 @@[m
[31m-document.addEventListener("turbolinks:load", function() {[m
[31m-    if (document.querySelector('#radio_player')) {[m
[31m-        configureRadioPLayerPage();[m
[31m-    }[m
[31m-[m
[31m-   });[m
[31m-[m
[31m-function configureRadioPLayerPage() {[m
[31m-    var allBtnPlays = document.querySelectorAll('.play-js');[m
[31m-    var myRadioPlayer = document.querySelector('#radio_player').querySelector('audio');[m
[31m-    allBtnPlays.forEach(function(playlist) {[m
[31m-        playlist.addEventListener('click', function() {[m
[31m-[m
[31m-        	myRadioPlayer.src = playlist.getAttribute('data-source');[m
[31m-        	myRadioPlayer.play();[m
[31m-            [m
[31m-        });[m
[31m-    });[m
[31m-    [m
[32m+[m[32mdocument.addEventListener("turbolinks:load", function() {[m[41m[m
[32m+[m[32m    if (document.querySelector('#radio_player')) {[m[41m[m
[32m+[m[32m        configureRadioPLayerPage();[m[41m[m
[32m+[m[32m    }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m   });[m[41m[m
[32m+[m[41m[m
[32m+[m[32mfunction configureRadioPLayerPage() {[m[41m[m
[32m+[m[32m    var allBtnPlays = document.querySelectorAll('.play-js');[m[41m[m
[32m+[m[32m    var myRadioPlayer = document.querySelector('#radio_player').querySelector('audio');[m[41m[m
[32m+[m[32m    allBtnPlays.forEach(function(playlist) {[m[41m[m
[32m+[m[32m        playlist.addEventListener('click', function() {[m[41m[m
[32m+[m[41m[m
[32m+[m[41m        [m	[32mmyRadioPlayer.src = playlist.getAttribute('data-source');[m[41m[m
[32m+[m[41m        [m	[32mmyRadioPlayer.play();[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    });[m[41m[m
[32m+[m[41m    [m
 }[m
\ No newline at end of file[m
[1mdiff --git a/app/assets/javascripts/scripts.js b/app/assets/javascripts/scripts.js[m
[1mindex dfaec3a..d89212b 100644[m
[1m--- a/app/assets/javascripts/scripts.js[m
[1m+++ b/app/assets/javascripts/scripts.js[m
[36m@@ -650,143 +650,143 @@[m [mmr = (function (mr, $, window, document){[m
 [m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Dropdowns[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.dropdowns = mr.dropdowns || {};[m
[31m-[m
[31m-    mr.dropdowns.done = false;[m
[31m-    [m
[31m-    mr.dropdowns.documentReady = function($){[m
[31m-[m
[31m-        var rtl = false;[m
[31m-[m
[31m-        if($('html[dir="rtl"]').length){[m
[31m-            rtl = true;[m
[31m-        }[m
[31m-[m
[31m-        if(!mr.dropdowns.done){[m
[31m-            jQuery(document).on('click','body:not(.dropdowns--hover) .dropdown:not(.dropdown--hover), body.dropdowns--hover .dropdown.dropdown--click',function(event){[m
[31m-                var dropdown = jQuery(this);[m
[31m-                if(jQuery(event.target).is('.dropdown--active > .dropdown__trigger')){[m
[31m-                    dropdown.siblings().removeClass('dropdown--active').find('.dropdown').removeClass('dropdown--active');[m
[31m-                    dropdown.toggleClass('dropdown--active');[m
[31m-                }else{[m
[31m-                    $('.dropdown--active').removeClass('dropdown--active');[m
[31m-                    dropdown.addClass('dropdown--active');[m
[31m-                }[m
[31m-            });[m
[31m-            jQuery(document).on('click touchstart', 'body:not(.dropdowns--hover)', function(event){[m
[31m-                if(!jQuery(event.target).is('[class*="dropdown"], [class*="dropdown"] *')){[m
[31m-                    $('.dropdown--active').removeClass('dropdown--active');[m
[31m-                }[m
[31m-            });[m
[31m-            jQuery('body.dropdowns--hover .dropdown').on('click', function(event){[m
[31m-                event.stopPropagation();[m
[31m-                var hoverDropdown = jQuery(this);[m
[31m-                hoverDropdown.toggleClass('dropdown--active');[m
[31m-            });[m
[31m-[m
[31m-            // Append a container to the body for measuring purposes[m
[31m-            jQuery('body').append('<div class="container containerMeasure" style="opacity:0;pointer-events:none;"></div>');[m
[31m-[m
[31m-            [m
[31m-        [m
[31m-[m
[31m-            // Menu dropdown positioning[m
[31m-            if(rtl === false){[m
[31m-                mr.dropdowns.repositionDropdowns($);[m
[31m-                jQuery(window).on('resize', function(){mr.dropdowns.repositionDropdowns($);});[m
[31m-            }else{[m
[31m-                mr.dropdowns.repositionDropdownsRtl($);[m
[31m-                jQuery(window).on('resize', function(){mr.dropdowns.repositionDropdownsRtl($);});[m
[31m-            }[m
[31m-[m
[31m-            mr.dropdowns.done = true;[m
[31m-        }[m
[31m-    };[m
[31m-[m
[31m-    mr.dropdowns.repositionDropdowns = function($){[m
[31m-        $('.dropdown__container').each(function(){[m
[31m-            var container, containerOffset, masterOffset, menuItem, content;[m
[31m-[m
[31m-                jQuery(this).css('left', '');[m
[31m-[m
[31m-                container       = jQuery(this);  [m
[31m-                containerOffset = container.offset().left;[m
[31m-                masterOffset    = jQuery('.containerMeasure').offset().left;[m
[31m-                menuItem        = container.closest('.dropdown').offset().left;[m
[31m-                content         = null;[m
[31m-                [m
[31m-                container.css('left',((-containerOffset)+(masterOffset)));[m
[31m-[m
[31m-                if(container.find('.dropdown__content:not([class*="md-12"])').length){[m
[31m-                    content = container.find('.dropdown__content');[m
[31m-                    content.css('left', ((menuItem)-(masterOffset)));[m
[31m-                }[m
[31m-                [m
[31m-        });[m
[31m-        $('.dropdown__content').each(function(){[m
[31m-            var dropdown, offset, width, offsetRight, winWidth, leftCorrect;[m
[31m-[m
[31m-                dropdown    = jQuery(this);[m
[31m-                offset      = dropdown.offset().left;[m
[31m-                width       = dropdown.outerWidth(true);[m
[31m-                offsetRight = offset + width;[m
[31m-                winWidth    = jQuery(window).outerWidth(true);[m
[31m-                leftCorrect = jQuery('.containerMeasure').outerWidth() - width;[m
[31m-[m
[31m-            if(offsetRight > winWidth){[m
[31m-                dropdown.css('left', leftCorrect);[m
[31m-            }[m
[31m-[m
[31m-        });[m
[31m-    };[m
[31m-[m
[31m-    mr.dropdowns.repositionDropdownsRtl = function($){[m
[31m-[m
[31m-        var windowWidth = jQuery(window).width();[m
[31m-[m
[31m-        $('.dropdown__container').each(function(){[m
[31m-            var container, containerOffset, masterOffset, menuItem, content;[m
[31m- [m
[31m-                jQuery(this).css('left', '');[m
[31m-[m
[31m-                container   = jQuery(this);[m
[31m-                containerOffset = windowWidth - (container.offset().left + container.outerWidth(true));[m
[31m-                masterOffset    = jQuery('.containerMeasure').offset().left;[m
[31m-                menuItem        = windowWidth - (container.closest('.dropdown').offset().left + container.closest('.dropdown').outerWidth(true));[m
[31m-                content         = null;[m
[31m-                [m
[31m-                container.css('right',((-containerOffset)+(masterOffset)));[m
[31m-[m
[31m-                if(container.find('.dropdown__content:not([class*="md-12"])').length){[m
[31m-                    content = container.find('.dropdown__content');[m
[31m-                    content.css('right', ((menuItem)-(masterOffset)));[m
[31m-                }[m
[31m-        });[m
[31m-        $('.dropdown__content').each(function(){[m
[31m-            var dropdown, offset, width, offsetRight, winWidth, rightCorrect;[m
[31m-[m
[31m-                dropdown    = jQuery(this);[m
[31m-                offset      = windowWidth - (dropdown.offset().left + dropdown.outerWidth(true));[m
[31m-                width       = dropdown.outerWidth(true);[m
[31m-                offsetRight = offset + width;[m
[31m-                winWidth    = jQuery(window).outerWidth(true);[m
[31m-                rightCorrect = jQuery('.containerMeasure').outerWidth() - width;[m
[31m-[m
[31m-            if(offsetRight > winWidth){[m
[31m-               dropdown.css('right', rightCorrect);[m
[31m-            }[m
[31m-[m
[31m-        });[m
[31m-    };[m
[31m-    [m
[31m-[m
[31m-    mr.components.documentReady.push(mr.dropdowns.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Dropdowns[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.dropdowns = mr.dropdowns || {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.dropdowns.done = false;[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.dropdowns.documentReady = function($){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        var rtl = false;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        if($('html[dir="rtl"]').length){[m[41m[m
[32m+[m[32m            rtl = true;[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        if(!mr.dropdowns.done){[m[41m[m
[32m+[m[32m            jQuery(document).on('click','body:not(.dropdowns--hover) .dropdown:not(.dropdown--hover), body.dropdowns--hover .dropdown.dropdown--click',function(event){[m[41m[m
[32m+[m[32m                var dropdown = jQuery(this);[m[41m[m
[32m+[m[32m                if(jQuery(event.target).is('.dropdown--active > .dropdown__trigger')){[m[41m[m
[32m+[m[32m                    dropdown.siblings().removeClass('dropdown--active').find('.dropdown').removeClass('dropdown--active');[m[41m[m
[32m+[m[32m                    dropdown.toggleClass('dropdown--active');[m[41m[m
[32m+[m[32m                }else{[m[41m[m
[32m+[m[32m                    $('.dropdown--active').removeClass('dropdown--active');[m[41m[m
[32m+[m[32m                    dropdown.addClass('dropdown--active');[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[32m            jQuery(document).on('click touchstart', 'body:not(.dropdowns--hover)', function(event){[m[41m[m
[32m+[m[32m                if(!jQuery(event.target).is('[class*="dropdown"], [class*="dropdown"] *')){[m[41m[m
[32m+[m[32m                    $('.dropdown--active').removeClass('dropdown--active');[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[32m            jQuery('body.dropdowns--hover .dropdown').on('click', function(event){[m[41m[m
[32m+[m[32m                event.stopPropagation();[m[41m[m
[32m+[m[32m                var hoverDropdown = jQuery(this);[m[41m[m
[32m+[m[32m                hoverDropdown.toggleClass('dropdown--active');[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Append a container to the body for measuring purposes[m[41m[m
[32m+[m[32m            jQuery('body').append('<div class="container containerMeasure" style="opacity:0;pointer-events:none;"></div>');[m[41m[m
[32m+[m[41m[m
[32m+[m[41m            [m
[32m+[m[41m        [m
[32m+[m[41m[m
[32m+[m[32m            // Menu dropdown positioning[m[41m[m
[32m+[m[32m            if(rtl === false){[m[41m[m
[32m+[m[32m                mr.dropdowns.repositionDropdowns($);[m[41m[m
[32m+[m[32m                jQuery(window).on('resize', function(){mr.dropdowns.repositionDropdowns($);});[m[41m[m
[32m+[m[32m            }else{[m[41m[m
[32m+[m[32m                mr.dropdowns.repositionDropdownsRtl($);[m[41m[m
[32m+[m[32m                jQuery(window).on('resize', function(){mr.dropdowns.repositionDropdownsRtl($);});[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            mr.dropdowns.done = true;[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.dropdowns.repositionDropdowns = function($){[m[41m[m
[32m+[m[32m        $('.dropdown__container').each(function(){[m[41m[m
[32m+[m[32m            var container, containerOffset, masterOffset, menuItem, content;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                jQuery(this).css('left', '');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                container       = jQuery(this);[m[41m  [m
[32m+[m[32m                containerOffset = container.offset().left;[m[41m[m
[32m+[m[32m                masterOffset    = jQuery('.containerMeasure').offset().left;[m[41m[m
[32m+[m[32m                menuItem        = container.closest('.dropdown').offset().left;[m[41m[m
[32m+[m[32m                content         = null;[m[41m[m
[32m+[m[41m                [m
[32m+[m[32m                container.css('left',((-containerOffset)+(masterOffset)));[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                if(container.find('.dropdown__content:not([class*="md-12"])').length){[m[41m[m
[32m+[m[32m                    content = container.find('.dropdown__content');[m[41m[m
[32m+[m[32m                    content.css('left', ((menuItem)-(masterOffset)));[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[41m                [m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m        $('.dropdown__content').each(function(){[m[41m[m
[32m+[m[32m            var dropdown, offset, width, offsetRight, winWidth, leftCorrect;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                dropdown    = jQuery(this);[m[41m[m
[32m+[m[32m                offset      = dropdown.offset().left;[m[41m[m
[32m+[m[32m                width       = dropdown.outerWidth(true);[m[41m[m
[32m+[m[32m                offsetRight = offset + width;[m[41m[m
[32m+[m[32m                winWidth    = jQuery(window).outerWidth(true);[m[41m[m
[32m+[m[32m                leftCorrect = jQuery('.containerMeasure').outerWidth() - width;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            if(offsetRight > winWidth){[m[41m[m
[32m+[m[32m                dropdown.css('left', leftCorrect);[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.dropdowns.repositionDropdownsRtl = function($){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        var windowWidth = jQuery(window).width();[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.dropdown__container').each(function(){[m[41m[m
[32m+[m[32m            var container, containerOffset, masterOffset, menuItem, content;[m[41m[m
[32m+[m[41m [m
[32m+[m[32m                jQuery(this).css('left', '');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                container   = jQuery(this);[m[41m[m
[32m+[m[32m                containerOffset = windowWidth - (container.offset().left + container.outerWidth(true));[m[41m[m
[32m+[m[32m                masterOffset    = jQuery('.containerMeasure').offset().left;[m[41m[m
[32m+[m[32m                menuItem        = windowWidth - (container.closest('.dropdown').offset().left + container.closest('.dropdown').outerWidth(true));[m[41m[m
[32m+[m[32m                content         = null;[m[41m[m
[32m+[m[41m                [m
[32m+[m[32m                container.css('right',((-containerOffset)+(masterOffset)));[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                if(container.find('.dropdown__content:not([class*="md-12"])').length){[m[41m[m
[32m+[m[32m                    content = container.find('.dropdown__content');[m[41m[m
[32m+[m[32m                    content.css('right', ((menuItem)-(masterOffset)));[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m        $('.dropdown__content').each(function(){[m[41m[m
[32m+[m[32m            var dropdown, offset, width, offsetRight, winWidth, rightCorrect;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                dropdown    = jQuery(this);[m[41m[m
[32m+[m[32m                offset      = windowWidth - (dropdown.offset().left + dropdown.outerWidth(true));[m[41m[m
[32m+[m[32m                width       = dropdown.outerWidth(true);[m[41m[m
[32m+[m[32m                offsetRight = offset + width;[m[41m[m
[32m+[m[32m                winWidth    = jQuery(window).outerWidth(true);[m[41m[m
[32m+[m[32m                rightCorrect = jQuery('.containerMeasure').outerWidth() - width;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            if(offsetRight > winWidth){[m[41m[m
[32m+[m[32m               dropdown.css('right', rightCorrect);[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m    [m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.dropdowns.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
 //////////////// Forms[m
[36m@@ -1307,61 +1307,61 @@[m [mmr = (function (mr, $, window, document){[m
 [m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Instagram[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.instagram = mr.instagram || {};[m
[31m-[m
[31m-    mr.instagram.documentReady = function($){[m
[31m-[m
[31m-        var themeDefaults, options, ao = {};[m
[31m-        [m
[31m-        if($('.instafeed').length){[m
[31m-[m
[31m-            // Replace with your own Access Token and Client ID[m
[31m-            var token  = '4079540202.b9b1d8a.1d13c245c68d4a17bfbff87919aaeb14',[m
[31m-                client = 'b9b1d8ae049d4153b24a6332f0088686',[m
[31m-                elementToken, elementClient;[m
[31m-[m
[31m-            if($('.instafeed[data-access-token][data-client-id]').length){[m
[31m-                elementToken = $('.instafeed[data-access-token][data-client-id]').first().attr('data-access-token');[m
[31m-                elementClient = $('.instafeed[data-access-token][data-client-id]').first().attr('data-client-id');[m
[31m-[m
[31m-                if(elementToken !== ""){token = elementToken;}[m
[31m-                if(elementClient !== ""){client = elementClient;}[m
[31m-            }[m
[31m-[m
[31m-            jQuery.fn.spectragram.accessData = {[m
[31m-                accessToken: token,[m
[31m-                clientID: client[m
[31m-            };  [m
[31m-        }[m
[31m-[m
[31m-        $('.instafeed').each(function(){[m
[31m-            var feed   = $(this),[m
[31m-                feedID = feed.attr('data-user-name'),[m
[31m-                fetchNumber = 12;[m
[31m-            [m
[31m-            themeDefaults = {[m
[31m-                query: 'mediumrarethemes',[m
[31m-                max: 12[m
[31m-            };[m
[31m-[m
[31m-            // Attribute Overrides taken from data attributes allow for per-feed customization[m
[31m-            ao.max = feed.attr('data-amount')[m
[31m-            ao.query = feed.attr('data-user-name');[m
[31m-[m
[31m-            options = jQuery.extend({}, themeDefaults, mr.instagram.options, ao);[m
[31m-[m
[31m-            feed.append('<ul></ul>');[m
[31m-            feed.children('ul').spectragram('getUserFeed', options);[m
[31m-        });[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReadyDeferred.push(mr.instagram.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Instagram[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.instagram = mr.instagram || {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.instagram.documentReady = function($){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        var themeDefaults, options, ao = {};[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        if($('.instafeed').length){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Replace with your own Access Token and Client ID[m[41m[m
[32m+[m[32m            var token  = '4079540202.b9b1d8a.1d13c245c68d4a17bfbff87919aaeb14',[m[41m[m
[32m+[m[32m                client = 'b9b1d8ae049d4153b24a6332f0088686',[m[41m[m
[32m+[m[32m                elementToken, elementClient;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            if($('.instafeed[data-access-token][data-client-id]').length){[m[41m[m
[32m+[m[32m                elementToken = $('.instafeed[data-access-token][data-client-id]').first().attr('data-access-token');[m[41m[m
[32m+[m[32m                elementClient = $('.instafeed[data-access-token][data-client-id]').first().attr('data-client-id');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                if(elementToken !== ""){token = elementToken;}[m[41m[m
[32m+[m[32m                if(elementClient !== ""){client = elementClient;}[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            jQuery.fn.spectragram.accessData = {[m[41m[m
[32m+[m[32m                accessToken: token,[m[41m[m
[32m+[m[32m                clientID: client[m[41m[m
[32m+[m[32m            };[m[41m  [m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.instafeed').each(function(){[m[41m[m
[32m+[m[32m            var feed   = $(this),[m[41m[m
[32m+[m[32m                feedID = feed.attr('data-user-name'),[m[41m[m
[32m+[m[32m                fetchNumber = 12;[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            themeDefaults = {[m[41m[m
[32m+[m[32m                query: 'mediumrarethemes',[m[41m[m
[32m+[m[32m                max: 12[m[41m[m
[32m+[m[32m            };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Attribute Overrides taken from data attributes allow for per-feed customization[m[41m[m
[32m+[m[32m            ao.max = feed.attr('data-amount')[m[41m[m
[32m+[m[32m            ao.query = feed.attr('data-user-name');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            options = jQuery.extend({}, themeDefaults, mr.instagram.options, ao);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            feed.append('<ul></ul>');[m[41m[m
[32m+[m[32m            feed.children('ul').spectragram('getUserFeed', options);[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReadyDeferred.push(mr.instagram.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
 //////////////// Maps[m
[36m@@ -1524,744 +1524,744 @@[m [mmr = (function (mr, $, window, document){[m
 }(mr, jQuery, window, document));[m
 [m
 [m
[31m-//////////////// Masonry[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.masonry = mr.masonry || {};[m
[31m-[m
[31m-    mr.masonry.documentReady = function($){[m
[31m-[m
[31m-        mr.masonry.updateFilters();[m
[31m-[m
[31m-        $(document).on('click touchstart', '.masonry__filters li:not(.js-no-action)', function(){[m
[31m-            var masonryFilter = $(this);[m
[31m-            var masonryContainer = masonryFilter.closest('.masonry').find('.masonry__container');[m
[31m-            var filterValue = '*';[m
[31m-            if(masonryFilter.attr('data-masonry-filter') !== '*'){[m
[31m-                filterValue = '.filter-'+masonryFilter.attr('data-masonry-filter');[m
[31m-            }[m
[31m-            masonryFilter.siblings('li').removeClass('active');[m
[31m-            masonryFilter.addClass('active');[m
[31m-            masonryContainer.removeClass('masonry--animate');[m
[31m-            masonryContainer.on('layoutComplete',function(){[m
[31m-                $(this).addClass('masonry--active');[m
[31m-                if(typeof mr_parallax !== typeof undefined){[m
[31m-                    setTimeout(function(){ mr_parallax.profileParallaxElements(); },100);[m
[31m-                }[m
[31m-            });[m
[31m-            masonryContainer.isotope({ filter: filterValue });[m
[31m-            [m
[31m-        });[m
[31m-        [m
[31m-    };[m
[31m-[m
[31m-    mr.masonry.windowLoad = function(){[m
[31m-[m
[31m-        $('.masonry').each(function(){[m
[31m-            var masonry       = $(this).find('.masonry__container'),[m
[31m-                masonryParent = $(this),[m
[31m-                defaultFilter = '*',[m
[31m-                themeDefaults, ao = {};[m
[31m-[m
[31m-            themeDefaults = {[m
[31m-                itemSelector: '.masonry__item',[m
[31m-                filter: '*',[m
[31m-                masonry: {[m
[31m-                  columnWidth: '.masonry__item'[m
[31m-                }[m
[31m-            };[m
[31m-[m
[31m-            // Check for a default filter attribute[m
[31m-            if(masonryParent.is('[data-default-filter]')){[m
[31m-                defaultFilter = masonryParent.attr('data-default-filter').toLowerCase();[m
[31m-                defaultFilter = '.filter-'+defaultFilter;[m
[31m-                masonryParent.find('li[data-masonry-filter]').removeClass('active');[m
[31m-                masonryParent.find('li[data-masonry-filter="'+masonryParent.attr("data-default-filter").toLowerCase()+'"]').addClass('active');[m
[31m-            }[m
[31m-[m
[31m-            // Use data attributes to override the default settings and provide a per-masonry customisation where necessary.[m
[31m-            ao.filter = defaultFilter !== '*' ? defaultFilter : undefined;[m
[31m-[m
[31m-            masonry.on('layoutComplete',function(){[m
[31m-                masonry.addClass('masonry--active');[m
[31m-                if(typeof mr_parallax !== typeof undefined){[m
[31m-                    setTimeout(function(){ mr_parallax.profileParallaxElements(); },100);[m
[31m-                }[m
[31m-            });[m
[31m-[m
[31m-            [m
[31m-            masonry.isotope(jQuery.extend({}, themeDefaults, mr.masonry.options, ao));[m
[31m-[m
[31m-        });[m
[31m-    };[m
[31m-[m
[31m-    mr.masonry.updateFilters = function(masonry){[m
[31m-[m
[31m-        // If no argument is supplied, just apply the update to all masonry sets on the page.[m
[31m-        masonry = typeof masonry !== typeof undefined ? masonry : '.masonry';[m
[31m-        [m
[31m-        var $masonry = $(masonry);[m
[31m-        [m
[31m-        $masonry.each(function(){[m
[31m-            var $masonry         = $(this),[m
[31m-                masonryContainer = $masonry.find('.masonry__container'),[m
[31m-                filters          = $masonry.find('.masonry__filters'),[m
[31m-                // data-filter-all-text can be used to set the word for "all"[m
[31m-                filterAllText    = typeof filters.attr('data-filter-all-text') !== typeof undefined ? filters.attr('data-filter-all-text') : "All",[m
[31m-                filtersList;[m
[31m-            [m
[31m-            // Ensure we are working with a .masonry element[m
[31m-            if($masonry.is('.masonry')){[m
[31m-                // If a filterable masonry item exists[m
[31m-                if(masonryContainer.find('.masonry__item[data-masonry-filter]').length){[m
[31m-                    [m
[31m-                    // Create empty ul for filters[m
[31m-                    filtersList = filters.find('> ul');[m
[31m-[m
[31m-                    if(!filtersList.length){[m
[31m-                        filtersList = filters.append('<ul></ul>').find('> ul');[m
[31m-                    }[m
[31m-[m
[31m-                    // To avoid cases where user leave filter attribute blank[m
[31m-                    // only take items that have filter attribute[m
[31m-                    masonryContainer.find('.masonry__item[data-masonry-filter]').each(function(){[m
[31m-                        var masonryItem  = $(this),[m
[31m-                            filterString = masonryItem.attr('data-masonry-filter'),[m
[31m-                            filtersArray = [];[m
[31m-[m
[31m-                        // If not undefined or empty[m
[31m-                        if(typeof filterString !== typeof undefined && filterString !== ""){[m
[31m-                            // Split tags from string into array [m
[31m-                            filtersArray = filterString.split(',');[m
[31m-                        }[m
[31m-                        jQuery(filtersArray).each(function(index, tag){[m
[31m-[m
[31m-                            // Slugify the tag[m
[31m-[m
[31m-                            var slug = mr.util.slugify(tag);[m
[31m-[m
[31m-                            // Add the filter class to the masonry item[m
[31m-[m
[31m-                            masonryItem.addClass('filter-'+slug);[m
[31m-[m
[31m-                            // If this tag does not appear in the list already, add it[m
[31m-                            if(!filtersList.find('[data-masonry-filter="'+slug+'"]').length){[m
[31m-                                filtersList.append('<li data-masonry-filter="'+slug+'">'+tag+'</li>');[m
[31m-                                [m
[31m-                            }[m
[31m-                        }); [m
[31m-                    });[m
[31m-[m
[31m-                    mr.util.sortChildrenByText($(this).find('.masonry__filters ul'));[m
[31m-                    // Add a filter "all" option[m
[31m-                    if(!filtersList.find('[data-masonry-filter="*"]').length){[m
[31m-                        filtersList.prepend('<li class="active" data-masonry-filter="*">'+filterAllText+'</li>');[m
[31m-                    }[m
[31m-[m
[31m-                }[m
[31m-                //End of "if filterable masonry item exists"[m
[31m-            }[m
[31m-            //End of "if $masonry is .masonry"[m
[31m-        });[m
[31m-[m
[31m-    };[m
[31m-[m
[31m-    mr.masonry.updateLayout = function(masonry){[m
[31m-        [m
[31m-        // If no argument is supplied, just apply the update to all masonry sets on the page.[m
[31m-        masonry = typeof masonry !== typeof undefined ? masonry : '.masonry';[m
[31m-[m
[31m-        var $masonry = $(masonry);[m
[31m-        [m
[31m-[m
[31m-        $masonry.each(function(){[m
[31m-            var collection       = $(this),[m
[31m-                newItems         = collection.find('.masonry__item:not([style])'),[m
[31m-                masonryContainer = collection.find('.masonry__container');[m
[31m-[m
[31m-            if(collection.is('.masonry')){[m
[31m-                if(newItems.length){[m
[31m-                    masonryContainer.isotope('appended', newItems).isotope( 'layout');[m
[31m-                }[m
[31m-                [m
[31m-                masonryContainer.isotope('layout');[m
[31m-            }[m
[31m-        });[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReady.push(mr.masonry.documentReady);[m
[31m-    mr.components.windowLoad.push(mr.masonry.windowLoad);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Masonry[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.masonry = mr.masonry || {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.masonry.documentReady = function($){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        mr.masonry.updateFilters();[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $(document).on('click touchstart', '.masonry__filters li:not(.js-no-action)', function(){[m[41m[m
[32m+[m[32m            var masonryFilter = $(this);[m[41m[m
[32m+[m[32m            var masonryContainer = masonryFilter.closest('.masonry').find('.masonry__container');[m[41m[m
[32m+[m[32m            var filterValue = '*';[m[41m[m
[32m+[m[32m            if(masonryFilter.attr('data-masonry-filter') !== '*'){[m[41m[m
[32m+[m[32m                filterValue = '.filter-'+masonryFilter.attr('data-masonry-filter');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m            masonryFilter.siblings('li').removeClass('active');[m[41m[m
[32m+[m[32m            masonryFilter.addClass('active');[m[41m[m
[32m+[m[32m            masonryContainer.removeClass('masonry--animate');[m[41m[m
[32m+[m[32m            masonryContainer.on('layoutComplete',function(){[m[41m[m
[32m+[m[32m                $(this).addClass('masonry--active');[m[41m[m
[32m+[m[32m                if(typeof mr_parallax !== typeof undefined){[m[41m[m
[32m+[m[32m                    setTimeout(function(){ mr_parallax.profileParallaxElements(); },100);[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[32m            masonryContainer.isotope({ filter: filterValue });[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.masonry.windowLoad = function(){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.masonry').each(function(){[m[41m[m
[32m+[m[32m            var masonry       = $(this).find('.masonry__container'),[m[41m[m
[32m+[m[32m                masonryParent = $(this),[m[41m[m
[32m+[m[32m                defaultFilter = '*',[m[41m[m
[32m+[m[32m                themeDefaults, ao = {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            themeDefaults = {[m[41m[m
[32m+[m[32m                itemSelector: '.masonry__item',[m[41m[m
[32m+[m[32m                filter: '*',[m[41m[m
[32m+[m[32m                masonry: {[m[41m[m
[32m+[m[32m                  columnWidth: '.masonry__item'[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Check for a default filter attribute[m[41m[m
[32m+[m[32m            if(masonryParent.is('[data-default-filter]')){[m[41m[m
[32m+[m[32m                defaultFilter = masonryParent.attr('data-default-filter').toLowerCase();[m[41m[m
[32m+[m[32m                defaultFilter = '.filter-'+defaultFilter;[m[41m[m
[32m+[m[32m                masonryParent.find('li[data-masonry-filter]').removeClass('active');[m[41m[m
[32m+[m[32m                masonryParent.find('li[data-masonry-filter="'+masonryParent.attr("data-default-filter").toLowerCase()+'"]').addClass('active');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Use data attributes to override the default settings and provide a per-masonry customisation where necessary.[m[41m[m
[32m+[m[32m            ao.filter = defaultFilter !== '*' ? defaultFilter : undefined;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            masonry.on('layoutComplete',function(){[m[41m[m
[32m+[m[32m                masonry.addClass('masonry--active');[m[41m[m
[32m+[m[32m                if(typeof mr_parallax !== typeof undefined){[m[41m[m
[32m+[m[32m                    setTimeout(function(){ mr_parallax.profileParallaxElements(); },100);[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            masonry.isotope(jQuery.extend({}, themeDefaults, mr.masonry.options, ao));[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.masonry.updateFilters = function(masonry){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // If no argument is supplied, just apply the update to all masonry sets on the page.[m[41m[m
[32m+[m[32m        masonry = typeof masonry !== typeof undefined ? masonry : '.masonry';[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        var $masonry = $(masonry);[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        $masonry.each(function(){[m[41m[m
[32m+[m[32m            var $masonry         = $(this),[m[41m[m
[32m+[m[32m                masonryContainer = $masonry.find('.masonry__container'),[m[41m[m
[32m+[m[32m                filters          = $masonry.find('.masonry__filters'),[m[41m[m
[32m+[m[32m                // data-filter-all-text can be used to set the word for "all"[m[41m[m
[32m+[m[32m                filterAllText    = typeof filters.attr('data-filter-all-text') !== typeof undefined ? filters.attr('data-filter-all-text') : "All",[m[41m[m
[32m+[m[32m                filtersList;[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            // Ensure we are working with a .masonry element[m[41m[m
[32m+[m[32m            if($masonry.is('.masonry')){[m[41m[m
[32m+[m[32m                // If a filterable masonry item exists[m[41m[m
[32m+[m[32m                if(masonryContainer.find('.masonry__item[data-masonry-filter]').length){[m[41m[m
[32m+[m[41m                    [m
[32m+[m[32m                    // Create empty ul for filters[m[41m[m
[32m+[m[32m                    filtersList = filters.find('> ul');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                    if(!filtersList.length){[m[41m[m
[32m+[m[32m                        filtersList = filters.append('<ul></ul>').find('> ul');[m[41m[m
[32m+[m[32m                    }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                    // To avoid cases where user leave filter attribute blank[m[41m[m
[32m+[m[32m                    // only take items that have filter attribute[m[41m[m
[32m+[m[32m                    masonryContainer.find('.masonry__item[data-masonry-filter]').each(function(){[m[41m[m
[32m+[m[32m                        var masonryItem  = $(this),[m[41m[m
[32m+[m[32m                            filterString = masonryItem.attr('data-masonry-filter'),[m[41m[m
[32m+[m[32m                            filtersArray = [];[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                        // If not undefined or empty[m[41m[m
[32m+[m[32m                        if(typeof filterString !== typeof undefined && filterString !== ""){[m[41m[m
[32m+[m[32m                            // Split tags from string into array[m[41m [m
[32m+[m[32m                            filtersArray = filterString.split(',');[m[41m[m
[32m+[m[32m                        }[m[41m[m
[32m+[m[32m                        jQuery(filtersArray).each(function(index, tag){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                            // Slugify the tag[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                            var slug = mr.util.slugify(tag);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                            // Add the filter class to the masonry item[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                            masonryItem.addClass('filter-'+slug);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                            // If this tag does not appear in the list already, add it[m[41m[m
[32m+[m[32m                            if(!filtersList.find('[data-masonry-filter="'+slug+'"]').length){[m[41m[m
[32m+[m[32m                                filtersList.append('<li data-masonry-filter="'+slug+'">'+tag+'</li>');[m[41m[m
[32m+[m[41m                                [m
[32m+[m[32m                            }[m[41m[m
[32m+[m[32m                        });[m[41m [m
[32m+[m[32m                    });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                    mr.util.sortChildrenByText($(this).find('.masonry__filters ul'));[m[41m[m
[32m+[m[32m                    // Add a filter "all" option[m[41m[m
[32m+[m[32m                    if(!filtersList.find('[data-masonry-filter="*"]').length){[m[41m[m
[32m+[m[32m                        filtersList.prepend('<li class="active" data-masonry-filter="*">'+filterAllText+'</li>');[m[41m[m
[32m+[m[32m                    }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m                //End of "if filterable masonry item exists"[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m            //End of "if $masonry is .masonry"[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.masonry.updateLayout = function(masonry){[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        // If no argument is supplied, just apply the update to all masonry sets on the page.[m[41m[m
[32m+[m[32m        masonry = typeof masonry !== typeof undefined ? masonry : '.masonry';[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        var $masonry = $(masonry);[m[41m[m
[32m+[m[41m        [m
[32m+[m[41m[m
[32m+[m[32m        $masonry.each(function(){[m[41m[m
[32m+[m[32m            var collection       = $(this),[m[41m[m
[32m+[m[32m                newItems         = collection.find('.masonry__item:not([style])'),[m[41m[m
[32m+[m[32m                masonryContainer = collection.find('.masonry__container');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            if(collection.is('.masonry')){[m[41m[m
[32m+[m[32m                if(newItems.length){[m[41m[m
[32m+[m[32m                    masonryContainer.isotope('appended', newItems).isotope( 'layout');[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[41m                [m
[32m+[m[32m                masonryContainer.isotope('layout');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.masonry.documentReady);[m[41m[m
[32m+[m[32m    mr.components.windowLoad.push(mr.masonry.windowLoad);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m}(mr, jQuery, window, document));[m[41m[m
[32m+[m
[32m+[m
[32m+[m[32m//////////////// Modals[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.modals = mr.modals || {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.modals.documentReady = function($){[m[41m[m
[32m+[m[32m        var allPageModals = "<div class=\"all-page-modals\"></div>",[m[41m[m
[32m+[m[32m            mainContainer = $('div.main-container');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        if(mainContainer.length){[m[41m[m
[32m+[m[32m            jQuery(allPageModals).insertAfter(mainContainer);[m[41m[m
[32m+[m[32m            mr.modals.allModalsContainer = $('div.all-page-modals');[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m        else{[m[41m[m
[32m+[m[32m            jQuery('body').append(allPageModals);[m[41m[m
[32m+[m[32m            mr.modals.allModalsContainer = jQuery('body div.all-page-modals');[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.modal-container').each(function(){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Add modal close if none exists[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            var modal        = $(this),[m[41m[m
[32m+[m[32m                $window      = $(window),[m[41m[m
[32m+[m[32m                modalContent = modal.find('.modal-content');[m[41m[m
[32m+[m[41m                [m
[32m+[m[41m            [m
[32m+[m[32m            if(!modal.find('.modal-close').length){[m[41m[m
[32m+[m[32m                modal.find('.modal-content').append('<div class="modal-close modal-close-cross"></div>');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Set modal height[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            if(modalContent.attr('data-width') !== undefined){[m[41m[m
[32m+[m[32m                var modalWidth = modalContent.attr('data-width').substr(0,modalContent.attr('data-width').indexOf('%')) * 1;[m[41m[m
[32m+[m[32m                modalContent.css('width',modalWidth + '%');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m            if(modalContent.attr('data-height') !== undefined){[m[41m[m
[32m+[m[32m                var modalHeight = modalContent.attr('data-height').substr(0,modalContent.attr('data-height').indexOf('%')) * 1;[m[41m[m
[32m+[m[32m                modalContent.css('height',modalHeight + '%');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Set iframe's src to data-src to stop autoplaying iframes[m[41m[m
[32m+[m[32m            mr.util.idleSrc(modal, 'iframe');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.modal-instance').each(function(index){[m[41m[m
[32m+[m[32m            var modalInstance = $(this);[m[41m[m
[32m+[m[32m            var modal = modalInstance.find('.modal-container');[m[41m[m
[32m+[m[32m            var modalContent = modalInstance.find('.modal-content');[m[41m[m
[32m+[m[32m            var trigger = modalInstance.find('.modal-trigger');[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            // Link modal with modal-id attribute[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            trigger.attr('data-modal-index',index);[m[41m[m
[32m+[m[32m            modal.attr('data-modal-index',index);[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            // Set unique id for multiple triggers[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            if(typeof modal.attr('data-modal-id') !== typeof undefined){[m[41m[m
[32m+[m[32m                trigger.attr('data-modal-id', modal.attr('data-modal-id'));[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m            [m
[32m+[m[41m[m
[32m+[m[32m            // Attach the modal to the body[m[41m            [m
[32m+[m[32m            modal = modal.detach();[m[41m[m
[32m+[m[32m            mr.modals.allModalsContainer.append(modal);[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m        [m
[32m+[m[41m[m
[32m+[m[32m        $('.modal-trigger').on('click', function(){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            var modalTrigger = $(this);[m[41m[m
[32m+[m[32m            var uniqueID, targetModal;[m[41m[m
[32m+[m[32m            // Determine if the modal id is set by user or is set programatically[m[41m[m
[32m+[m[41m   [m
[32m+[m[32m            if(typeof modalTrigger.attr('data-modal-id') !== typeof undefined){[m[41m[m
[32m+[m[32m                uniqueID = modalTrigger.attr('data-modal-id');[m[41m[m
[32m+[m[32m                targetModal = mr.modals.allModalsContainer.find('.modal-container[data-modal-id="'+uniqueID+'"]');[m[41m    [m
[32m+[m[32m            }else{[m[41m[m
[32m+[m[32m                uniqueID = $(this).attr('data-modal-index');[m[41m[m
[32m+[m[32m                targetModal = mr.modals.allModalsContainer.find('.modal-container[data-modal-index="'+uniqueID+'"]');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            mr.util.activateIdleSrc(targetModal, 'iframe');[m[41m[m
[32m+[m[32m            mr.modals.autoplayVideo(targetModal);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            mr.modals.showModal(targetModal);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            return false;[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        jQuery(document).on('click', '.modal-close', mr.modals.closeActiveModal);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        jQuery(document).keyup(function(e) {[m[41m[m
[32m+[m[32m            if (e.keyCode === 27) { // escape key maps to keycode `27`[m[41m[m
[32m+[m[32m                mr.modals.closeActiveModal();[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.modal-container').on('click', function(e) {[m[41m [m
[32m+[m[32m            if( e.target !== this ) return;[m[41m[m
[32m+[m[32m            mr.modals.closeActiveModal();[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Trigger autoshow modals[m[41m[m
[32m+[m[32m        $('.modal-container[data-autoshow]').each(function(){[m[41m[m
[32m+[m[32m            var modal = $(this);[m[41m[m
[32m+[m[32m            var millisecondsDelay = modal.attr('data-autoshow')*1;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            mr.util.activateIdleSrc(modal);[m[41m[m
[32m+[m[32m            mr.modals.autoplayVideo(modal);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // If this modal has a cookie attribute, check to see if a cookie is set, and if so, don't show it.[m[41m[m
[32m+[m[32m            if(typeof modal.attr('data-cookie') !== typeof undefined){[m[41m[m
[32m+[m[32m                if(!mr.cookies.hasItem(modal.attr('data-cookie'))){[m[41m[m
[32m+[m[32m                    mr.modals.showModal(modal, millisecondsDelay);[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            }else{[m[41m[m
[32m+[m[32m                mr.modals.showModal(modal, millisecondsDelay);[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Exit modals[m[41m[m
[32m+[m[32m        $('.modal-container[data-show-on-exit]').each(function(){[m[41m[m
[32m+[m[32m            var modal        = jQuery(this),[m[41m[m
[32m+[m[32m                exitSelector = modal.attr('data-show-on-exit'),[m[41m[m
[32m+[m[32m                delay = 0;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            if(modal.attr('data-delay')){[m[41m[m
[32m+[m[32m                delay = parseInt(modal.attr('data-delay'), 10) || 0;[m[41m  [m
[32m+[m[32m            }[m[41m [m
[32m+[m[41m[m
[32m+[m[32m            // If a valid selector is found, attach leave event to show modal.[m[41m[m
[32m+[m[32m            if($(exitSelector).length){[m[41m[m
[32m+[m[32m                modal.prepend($('<i class="ti-close close-modal">'));[m[41m[m
[32m+[m[32m                jQuery(document).on('mouseleave', exitSelector, function(){[m[41m[m
[32m+[m[32m                    if(!$('.modal-active').length){[m[41m[m
[32m+[m[32m                        if(typeof modal.attr('data-cookie') !== typeof undefined){[m[41m[m
[32m+[m[32m                            if(!mr.cookies.hasItem(modal.attr('data-cookie'))){[m[41m[m
[32m+[m[32m                                mr.modals.showModal(modal, delay);[m[41m[m
[32m+[m[32m                            }[m[41m[m
[32m+[m[32m                        }else{[m[41m[m
[32m+[m[32m                            mr.modals.showModal(modal, delay);[m[41m[m
[32m+[m[32m                        }[m[41m[m
[32m+[m[32m                    }[m[41m[m
[32m+[m[32m                });[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Autoshow modal by ID from location href[m[41m[m
[32m+[m[32m        if(window.location.href.split('#').length === 2){[m[41m[m
[32m+[m[32m            var modalID = window.location.href.split('#').pop();[m[41m[m
[32m+[m[32m            if($('[data-modal-id="'+modalID+'"]').length){[m[41m[m
[32m+[m[32m                mr.modals.closeActiveModal();[m[41m[m
[32m+[m[32m                mr.modals.showModal($('[data-modal-id="'+modalID+'"]'));[m[41m[m
[32m+[m[32m            }[m[41m  [m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        jQuery(document).on('click','a[href^="#"]', function(){[m[41m[m
[32m+[m[32m            var modalID = $(this).attr('href').replace('#', '');[m[41m[m
[32m+[m[32m            mr.modals.closeActiveModal();[m[41m[m
[32m+[m[32m            setTimeout(mr.modals.showModal, 500,'[data-modal-id="'+modalID+'"]', 0);[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Make modal scrollable[m[41m[m
[32m+[m[32m        jQuery(document).on('wheel mousewheel scroll','.modal-content, .modal-content .scrollable', function(evt){[m[41m[m
[32m+[m[32m            if(evt.preventDefault){evt.preventDefault();}[m[41m[m
[32m+[m[32m            if(evt.stopPropagation){evt.stopPropagation();}[m[41m[m
[32m+[m[32m            this.scrollTop += (evt.originalEvent.deltaY);[m[41m [m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[32m    ////////////////[m[41m[m
[32m+[m[32m    //////////////// End documentReady[m[41m[m
[32m+[m[32m    ////////////////[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.modals.showModal = function(modal, millisecondsDelay){[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        var delay = (typeof millisecondsDelay !== typeof undefined) ? (1*millisecondsDelay) : 0, $modal = $(modal);[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m        if($modal.length){[m[41m[m
[32m+[m[32m            setTimeout(function(){[m[41m[m
[32m+[m[32m                var openEvent = document.createEvent('Event');[m[41m[m
[32m+[m[32m                openEvent.initEvent('modalOpened.modals.mr', true, true);[m[41m[m
[32m+[m[32m                $(modal).addClass('modal-active').trigger('modalOpened.modals.mr').get(0).dispatchEvent(openEvent);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            },delay);[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.modals.closeActiveModal = function(){[m[41m[m
[32m+[m[32m        var modal      = jQuery('body div.modal-active'),[m[41m [m
[32m+[m[32m            closeEvent = document.createEvent('Event');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        mr.util.idleSrc(modal, 'iframe');[m[41m[m
[32m+[m[32m        mr.util.pauseVideo(modal);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // If this modal requires to be closed permanently using a cookie, set the cookie now.[m[41m[m
[32m+[m[32m        if(typeof modal.attr('data-cookie') !== typeof undefined){[m[41m[m
[32m+[m[32m            mr.cookies.setItem(modal.attr('data-cookie'), "true", Infinity, '/');[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        if(modal.length){[m[41m[m
[32m+[m[32m            // Remove hash from URL bar if this modal was opened via url bar ID[m[41m[m
[32m+[m[32m            if(modal.is('[data-modal-id]') && window.location.hash === '#'+modal.attr('data-modal-id')){[m[41m[m
[32m+[m[32m                mr.util.removeHash();[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m            closeEvent.initEvent('modalClosed.modals.mr', true, true);[m[41m[m
[32m+[m[32m            modal.removeClass('modal-active').trigger('modalClosed.modals.mr').get(0).dispatchEvent(closeEvent);[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.modals.autoplayVideo = function(modal){[m[41m[m
[32m+[m[32m        // If modal contains HTML5 video with autoplay, play the video[m[41m[m
[32m+[m[32m        if(modal.find('video[autoplay]').length){[m[41m[m
[32m+[m[32m            var video = modal.find('video').get(0);[m[41m[m
[32m+[m[32m            video.play();[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.modals.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
[31m-[m
[31m-//////////////// Modals[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.modals = mr.modals || {};[m
[31m-[m
[31m-    mr.modals.documentReady = function($){[m
[31m-        var allPageModals = "<div class=\"all-page-modals\"></div>",[m
[31m-            mainContainer = $('div.main-container');[m
[31m-[m
[31m-        if(mainContainer.length){[m
[31m-            jQuery(allPageModals).insertAfter(mainContainer);[m
[31m-            mr.modals.allModalsContainer = $('div.all-page-modals');[m
[31m-        }[m
[31m-        else{[m
[31m-            jQuery('body').append(allPageModals);[m
[31m-            mr.modals.allModalsContainer = jQuery('body div.all-page-modals');[m
[31m-        }[m
[31m-[m
[31m-        $('.modal-container').each(function(){[m
[31m-[m
[31m-            // Add modal close if none exists[m
[31m-[m
[31m-            var modal        = $(this),[m
[31m-                $window      = $(window),[m
[31m-                modalContent = modal.find('.modal-content');[m
[31m-                [m
[31m-            [m
[31m-            if(!modal.find('.modal-close').length){[m
[31m-                modal.find('.modal-content').append('<div class="modal-close modal-close-cross"></div>');[m
[31m-            }[m
[31m-[m
[31m-            // Set modal height[m
[31m-            [m
[31m-            if(modalContent.attr('data-width') !== undefined){[m
[31m-                var modalWidth = modalContent.attr('data-width').substr(0,modalContent.attr('data-width').indexOf('%')) * 1;[m
[31m-                modalContent.css('width',modalWidth + '%');[m
[31m-            }[m
[31m-            if(modalContent.attr('data-height') !== undefined){[m
[31m-                var modalHeight = modalContent.attr('data-height').substr(0,modalContent.attr('data-height').indexOf('%')) * 1;[m
[31m-                modalContent.css('height',modalHeight + '%');[m
[31m-            }[m
[31m-[m
[31m-            // Set iframe's src to data-src to stop autoplaying iframes[m
[31m-            mr.util.idleSrc(modal, 'iframe');[m
[31m-[m
[31m-        });[m
[31m-[m
[31m-[m
[31m-        $('.modal-instance').each(function(index){[m
[31m-            var modalInstance = $(this);[m
[31m-            var modal = modalInstance.find('.modal-container');[m
[31m-            var modalContent = modalInstance.find('.modal-content');[m
[31m-            var trigger = modalInstance.find('.modal-trigger');[m
[31m-            [m
[31m-            // Link modal with modal-id attribute[m
[31m-            [m
[31m-            trigger.attr('data-modal-index',index);[m
[31m-            modal.attr('data-modal-index',index);[m
[31m-            [m
[31m-            // Set unique id for multiple triggers[m
[31m-            [m
[31m-            if(typeof modal.attr('data-modal-id') !== typeof undefined){[m
[31m-                trigger.attr('data-modal-id', modal.attr('data-modal-id'));[m
[31m-            }[m
[31m-            [m
[31m-[m
[31m-            // Attach the modal to the body            [m
[31m-            modal = modal.detach();[m
[31m-            mr.modals.allModalsContainer.append(modal);[m
[31m-        });[m
[31m-        [m
[31m-[m
[31m-        $('.modal-trigger').on('click', function(){[m
[31m-[m
[31m-            var modalTrigger = $(this);[m
[31m-            var uniqueID, targetModal;[m
[31m-            // Determine if the modal id is set by user or is set programatically[m
[31m-   [m
[31m-            if(typeof modalTrigger.attr('data-modal-id') !== typeof undefined){[m
[31m-                uniqueID = modalTrigger.attr('data-modal-id');[m
[31m-                targetModal = mr.modals.allModalsContainer.find('.modal-container[data-modal-id="'+uniqueID+'"]');    [m
[31m-            }else{[m
[31m-                uniqueID = $(this).attr('data-modal-index');[m
[31m-                targetModal = mr.modals.allModalsContainer.find('.modal-container[data-modal-index="'+uniqueID+'"]');[m
[31m-            }[m
[31m-            [m
[31m-            mr.util.activateIdleSrc(targetModal, 'iframe');[m
[31m-            mr.modals.autoplayVideo(targetModal);[m
[31m-[m
[31m-            mr.modals.showModal(targetModal);[m
[31m-[m
[31m-            return false;[m
[31m-        });[m
[31m-[m
[31m-        jQuery(document).on('click', '.modal-close', mr.modals.closeActiveModal);[m
[31m-[m
[31m-        jQuery(document).keyup(function(e) {[m
[31m-            if (e.keyCode === 27) { // escape key maps to keycode `27`[m
[31m-                mr.modals.closeActiveModal();[m
[31m-            }[m
[31m-        });[m
[31m-[m
[31m-        $('.modal-container').on('click', function(e) { [m
[31m-            if( e.target !== this ) return;[m
[31m-            mr.modals.closeActiveModal();[m
[31m-        });[m
[31m-[m
[31m-        // Trigger autoshow modals[m
[31m-        $('.modal-container[data-autoshow]').each(function(){[m
[31m-            var modal = $(this);[m
[31m-            var millisecondsDelay = modal.attr('data-autoshow')*1;[m
[31m-[m
[31m-            mr.util.activateIdleSrc(modal);[m
[31m-            mr.modals.autoplayVideo(modal);[m
[31m-[m
[31m-            // If this modal has a cookie attribute, check to see if a cookie is set, and if so, don't show it.[m
[31m-            if(typeof modal.attr('data-cookie') !== typeof undefined){[m
[31m-                if(!mr.cookies.hasItem(modal.attr('data-cookie'))){[m
[31m-                    mr.modals.showModal(modal, millisecondsDelay);[m
[31m-                }[m
[31m-            }else{[m
[31m-                mr.modals.showModal(modal, millisecondsDelay);[m
[31m-            }[m
[31m-        });[m
[31m-[m
[31m-        // Exit modals[m
[31m-        $('.modal-container[data-show-on-exit]').each(function(){[m
[31m-            var modal        = jQuery(this),[m
[31m-                exitSelector = modal.attr('data-show-on-exit'),[m
[31m-                delay = 0;[m
[31m-[m
[31m-            if(modal.attr('data-delay')){[m
[31m-                delay = parseInt(modal.attr('data-delay'), 10) || 0;  [m
[31m-            } [m
[31m-[m
[31m-            // If a valid selector is found, attach leave event to show modal.[m
[31m-            if($(exitSelector).length){[m
[31m-                modal.prepend($('<i class="ti-close close-modal">'));[m
[31m-                jQuery(document).on('mouseleave', exitSelector, function(){[m
[31m-                    if(!$('.modal-active').length){[m
[31m-                        if(typeof modal.attr('data-cookie') !== typeof undefined){[m
[31m-                            if(!mr.cookies.hasItem(modal.attr('data-cookie'))){[m
[31m-                                mr.modals.showModal(modal, delay);[m
[31m-                            }[m
[31m-                        }else{[m
[31m-                            mr.modals.showModal(modal, delay);[m
[31m-                        }[m
[31m-                    }[m
[31m-                });[m
[31m-            }[m
[31m-        });[m
[31m-[m
[31m-[m
[31m-        // Autoshow modal by ID from location href[m
[31m-        if(window.location.href.split('#').length === 2){[m
[31m-            var modalID = window.location.href.split('#').pop();[m
[31m-            if($('[data-modal-id="'+modalID+'"]').length){[m
[31m-                mr.modals.closeActiveModal();[m
[31m-                mr.modals.showModal($('[data-modal-id="'+modalID+'"]'));[m
[31m-            }  [m
[31m-        }[m
[31m-[m
[31m-        jQuery(document).on('click','a[href^="#"]', function(){[m
[31m-            var modalID = $(this).attr('href').replace('#', '');[m
[31m-            mr.modals.closeActiveModal();[m
[31m-            setTimeout(mr.modals.showModal, 500,'[data-modal-id="'+modalID+'"]', 0);[m
[31m-        });[m
[31m-[m
[31m-        // Make modal scrollable[m
[31m-        jQuery(document).on('wheel mousewheel scroll','.modal-content, .modal-content .scrollable', function(evt){[m
[31m-            if(evt.preventDefault){evt.preventDefault();}[m
[31m-            if(evt.stopPropagation){evt.stopPropagation();}[m
[31m-            this.scrollTop += (evt.originalEvent.deltaY); [m
[31m-        });[m
[31m-    };[m
[31m-    ////////////////[m
[31m-    //////////////// End documentReady[m
[31m-    ////////////////[m
[31m-[m
[31m-    mr.modals.showModal = function(modal, millisecondsDelay){[m
[31m-        [m
[31m-        var delay = (typeof millisecondsDelay !== typeof undefined) ? (1*millisecondsDelay) : 0, $modal = $(modal);[m
[31m-            [m
[31m-        if($modal.length){[m
[31m-            setTimeout(function(){[m
[31m-                var openEvent = document.createEvent('Event');[m
[31m-                openEvent.initEvent('modalOpened.modals.mr', true, true);[m
[31m-                $(modal).addClass('modal-active').trigger('modalOpened.modals.mr').get(0).dispatchEvent(openEvent);[m
[31m-[m
[31m-            },delay);[m
[31m-        }[m
[31m-    };[m
[31m-[m
[31m-    mr.modals.closeActiveModal = function(){[m
[31m-        var modal      = jQuery('body div.modal-active'), [m
[31m-            closeEvent = document.createEvent('Event');[m
[31m-[m
[31m-        mr.util.idleSrc(modal, 'iframe');[m
[31m-        mr.util.pauseVideo(modal);[m
[31m-[m
[31m-        // If this modal requires to be closed permanently using a cookie, set the cookie now.[m
[31m-        if(typeof modal.attr('data-cookie') !== typeof undefined){[m
[31m-            mr.cookies.setItem(modal.attr('data-cookie'), "true", Infinity, '/');[m
[31m-        }[m
[31m-[m
[31m-        if(modal.length){[m
[31m-            // Remove hash from URL bar if this modal was opened via url bar ID[m
[31m-            if(modal.is('[data-modal-id]') && window.location.hash === '#'+modal.attr('data-modal-id')){[m
[31m-                mr.util.removeHash();[m
[31m-            }[m
[31m-            closeEvent.initEvent('modalClosed.modals.mr', true, true);[m
[31m-            modal.removeClass('modal-active').trigger('modalClosed.modals.mr').get(0).dispatchEvent(closeEvent);[m
[31m-        }[m
[31m-    };[m
[31m-[m
[31m-    mr.modals.autoplayVideo = function(modal){[m
[31m-        // If modal contains HTML5 video with autoplay, play the video[m
[31m-        if(modal.find('video[autoplay]').length){[m
[31m-            var video = modal.find('video').get(0);[m
[31m-            video.play();[m
[31m-        }[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReady.push(mr.modals.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Newsletter Providers[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.newsletters = mr.newsletters || {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.newsletters.documentReady = function($){[m[41m[m
[32m+[m[41m  [m
[32m+[m[41m  [m	[32mvar form,checkbox,label,id,parent,radio;[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    // Treat Campaign Monitor forms[m[41m[m
[32m+[m[32m    $('form[action*="createsend.com"]').each(function(){[m[41m[m
[32m+[m[41m    [m	[32mform = $(this);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Override browser validation and allow us to use our own[m[41m[m
[32m+[m[32m        form.attr('novalidate', 'novalidate');[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32m// Give each text input a placeholder value[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32mif(!form.is('.form--no-placeholders')){[m[41m[m
[32m+[m[32m            form.find('input:not([checkbox]):not([radio])').each(function(){[m[41m[m
[32m+[m[32m                var $input = $(this);[m[41m[m
[32m+[m[32m                if(typeof $input.attr('placeholder') !== typeof undefined){[m[41m[m
[32m+[m[32m                    if($input.attr('placeholder') === ""){[m[41m[m
[32m+[m[32m                        if($input.siblings('label').length){[m[41m[m
[32m+[m[32m                            $input.attr('placeholder', $input.siblings('label').first().text());[m[41m[m
[32m+[m[32m                            if(form.is('.form--no-labels')){[m[41m   [m
[32m+[m[32m                                $input.siblings('label').first().remove();[m[41m[m
[32m+[m[32m                            }[m[41m[m
[32m+[m[32m                        }[m[41m[m
[32m+[m[32m                    }[m[41m[m
[32m+[m[32m                }else if($input.siblings('label').length){[m[41m[m
[32m+[m[32m                    $input.attr('placeholder', $input.siblings('label').first().text());[m[41m [m
[32m+[m[32m                    if(form.is('.form--no-labels')){[m[41m[m
[32m+[m[32m                        $input.siblings('label').first().remove();[m[41m[m
[32m+[m[32m                    }[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m                if($input.parent().is('p')){[m[41m[m
[32m+[m[32m                    $input.unwrap();[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[32m        }else{[m[41m[m
[32m+[m[32m            form.find('input[placeholder]').removeAttr('placeholder');[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32m// Wrap select elements in template code[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32mform.find('select').wrap('<div class="input-select"></div>');[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32m// Wrap radios elements in template code[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32mform.find('input[type="radio"]').wrap('<div class="input-radio"></div>');[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32m// Wrap checkbox elements in template code[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32mform.find('input[type="checkbox"]').each(function(){[m[41m[m
[32m+[m[41m    [m		[32mcheckbox = $(this);[m[41m[m
[32m+[m[41m    [m		[32mid = checkbox.attr('id');[m[41m[m
[32m+[m[41m    [m		[32mlabel = form.find('label[for='+id+']');[m[41m[m
[32m+[m[32m            if(!label.length){[m[41m[m
[32m+[m[32m                label = $('<label for="'+id+'"></label>');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m    		[m
[32m+[m[41m    [m		[32mcheckbox.before('<div class="input-checkbox" data-id="'+id+'"></div>');[m[41m[m
[32m+[m[41m    [m		[32m$('.input-checkbox[data-id="'+id+'"]').prepend(checkbox);[m[41m[m
[32m+[m[41m    [m		[32m$('.input-checkbox[data-id="'+id+'"]').prepend(label);[m[41m[m
[32m+[m[41m    [m	[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32mform.find('button[type="submit"]').each(function(){[m[41m[m
[32m+[m[32m            var button = $(this);[m[41m[m
[32m+[m[32m            button.addClass('btn');[m[41m[m
[32m+[m[32m            if(button.parent().is('p')){[m[41m[m
[32m+[m[32m                button.unwrap();[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        form.find('[required]').attr('required', 'required').addClass('validate-required');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        form.addClass('form--active');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        mr.newsletters.prepareAjaxAction(form);[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    // Treat MailChimp forms[m[41m[m
[32m+[m[32m    $('form[action*="list-manage.com"]').each(function(){[m[41m[m
[32m+[m[41m    [m	[32mform = $(this);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Override browser validation and allow us to use our own[m[41m[m
[32m+[m[32m        form.attr('novalidate', 'novalidate');[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32m// Give each text input a placeholder value[m[41m[m
[32m+[m[32m        if(!form.is('.form--no-placeholders')){[m[41m[m
[32m+[m[41m        [m	[32mform.find('input:not([checkbox]):not([radio])').each(function(){[m[41m[m
[32m+[m[41m        [m		[32mvar $input = $(this);[m[41m[m
[32m+[m[32m                if(typeof $input.attr('placeholder') !== typeof undefined){[m[41m[m
[32m+[m[32m                    if($input.attr('placeholder') === ""){[m[41m[m
[32m+[m[32m                        if($input.siblings('label').length){[m[41m[m
[32m+[m[32m                            $input.attr('placeholder', $input.siblings('label').first().text());[m[41m[m
[32m+[m[32m                            if(form.is('.form--no-labels')){[m[41m   [m
[32m+[m[32m                                $input.siblings('label').first().remove();[m[41m[m
[32m+[m[32m                            }[m[41m[m
[32m+[m[32m                        }[m[41m[m
[32m+[m[32m                    }[m[41m[m
[32m+[m[32m                }else if($input.siblings('label').length){[m[41m[m
[32m+[m[32m                    $input.attr('placeholder', $input.siblings('label').first().text());[m[41m [m
[32m+[m[32m                    if(form.is('.form--no-labels')){[m[41m[m
[32m+[m[32m                        $input.siblings('label').first().remove();[m[41m[m
[32m+[m[32m                    }[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[41m        [m	[32m});[m[41m[m
[32m+[m[32m        }else{[m[41m[m
[32m+[m[32m            form.find('input[placeholder]').removeAttr('placeholder');[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        if(form.is('.form--no-labels')){[m[41m[m
[32m+[m[32m            form.find('input:not([checkbox]):not([radio])').each(function(){[m[41m[m
[32m+[m[32m                var $input = $(this);[m[41m[m
[32m+[m[32m                if($input.siblings('label').length){[m[41m[m
[32m+[m[32m                    $input.siblings('label').first().remove();[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32m// Wrap select elements in template code[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32mform.find('select').wrap('<div class="input-select"></div>');[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32m// Wrap checboxes elements in template code[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32mform.find('input[type="checkbox"]').each(function(){[m[41m[m
[32m+[m[41m    [m		[32mcheckbox = jQuery(this);[m[41m[m
[32m+[m[41m    [m		[32mparent = checkbox.parent();[m[41m[m
[32m+[m[41m    [m		[32mlabel = parent.find('label');[m[41m[m
[32m+[m[32m            if(!label.length){[m[41m[m
[32m+[m[32m                label = jQuery('<label>');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m    [m		[32mcheckbox.before('<div class="input-checkbox"></div>');[m[41m[m
[32m+[m[41m    [m		[32mparent.find('.input-checkbox').append(checkbox);[m[41m[m
[32m+[m[41m    [m		[32mparent.find('.input-checkbox').append(label);[m[41m[m
[32m+[m[41m    [m	[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32m// Wrap radio elements in template code[m[41m[m
[32m+[m[41m[m
[32m+[m[41m    [m	[32mform.find('input[type="radio"]').each(function(){[m[41m[m
[32m+[m[41m    [m		[32mradio = jQuery(this);[m[41m[m
[32m+[m[41m    [m		[32mparent = radio.closest('li');[m[41m[m
[32m+[m[41m    [m		[32mlabel = parent.find('label');[m[41m[m
[32m+[m[32m            if(!label.length){[m[41m[m
[32m+[m[32m                label = jQuery('<label>');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m    [m		[32mradio.before('<div class="input-radio"></div>');[m[41m[m
[32m+[m[41m    [m		[32mparent.find('.input-radio').prepend(radio);[m[41m[m
[32m+[m[41m    [m		[32mparent.find('.input-radio').prepend(label);[m[41m[m
[32m+[m[41m    [m	[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Convert MailChimp input[type="submit"] to div.button[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        form.find('input[type="submit"]').each(function(){[m[41m[m
[32m+[m[32m            var submit = $(this);[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            var newButton = jQuery('<button/>').attr('type','submit').attr('class', submit.attr('class')).addClass('btn').text(submit.attr('value'));[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            if(submit.parent().is('div.clear')){[m[41m[m
[32m+[m[32m                submit.unwrap();[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            newButton.insertBefore(submit);[m[41m[m
[32m+[m[32m            submit.remove();[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        form.find('input').each(function(){[m[41m[m
[32m+[m[32m            var input = $(this);[m[41m[m
[32m+[m[32m            if(input.hasClass('required')){[m[41m[m
[32m+[m[32m                input.removeClass('required').addClass('validate-required');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        form.find('input[type="email"]').removeClass('email').addClass('validate-email');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        form.find('#mce-responses').remove();[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        form.find('.mc-field-group').each(function(){[m[41m[m
[32m+[m[32m            $(this).children().first().unwrap();[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        form.find('[required]').attr('required', 'required').addClass('validate-required');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        form.addClass('form--active');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        mr.newsletters.prepareAjaxAction(form);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    });[m[41m [m
[32m+[m[41m[m
[32m+[m	[32m// Reinitialize the forms so interactions work as they should[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mmr.forms.documentReady(mr.setContext('form.form--active'));[m[41m[m
[32m+[m[41m		[m
[32m+[m[32m  };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  mr.newsletters.prepareAjaxAction = function(form){[m[41m[m
[32m+[m[32m        var action = $(form).attr('action');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Alter action for a Mail Chimp-compatible ajax request url.[m[41m[m
[32m+[m[32m        if(/list-manage\.com/.test(action)){[m[41m[m
[32m+[m[32m           action = action.replace('/post?', '/post-json?') + "&c=?";[m[41m[m
[32m+[m[32m           if(action.substr(0,2) === "//"){[m[41m[m
[32m+[m[32m               action = 'http:' + action;[m[41m[m
[32m+[m[32m           }[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Alter action for a Campaign Monitor-compatible ajax request url.[m[41m[m
[32m+[m[32m        if(/createsend\.com/.test(action)){[m[41m[m
[32m+[m[32m           action = action + '?callback=?';[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // Set action on the form[m[41m[m
[32m+[m[32m        $(form).attr('action', action);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  mr.components.documentReady.push(mr.newsletters.documentReady);[m[41m[m
[32m+[m[32m  return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Newsletter Providers[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.newsletters = mr.newsletters || {};[m
[31m-[m
[31m-    mr.newsletters.documentReady = function($){[m
[31m-  [m
[31m-  	var form,checkbox,label,id,parent,radio;[m
[31m-    [m
[31m-    // Treat Campaign Monitor forms[m
[31m-    $('form[action*="createsend.com"]').each(function(){[m
[31m-    	form = $(this);[m
[31m-[m
[31m-        // Override browser validation and allow us to use our own[m
[31m-        form.attr('novalidate', 'novalidate');[m
[31m-[m
[31m-    	// Give each text input a placeholder value[m
[31m-[m
[31m-    	if(!form.is('.form--no-placeholders')){[m
[31m-            form.find('input:not([checkbox]):not([radio])').each(function(){[m
[31m-                var $input = $(this);[m
[31m-                if(typeof $input.attr('placeholder') !== typeof undefined){[m
[31m-                    if($input.attr('placeholder') === ""){[m
[31m-                        if($input.siblings('label').length){[m
[31m-                            $input.attr('placeholder', $input.siblings('label').first().text());[m
[31m-                            if(form.is('.form--no-labels')){   [m
[31m-                                $input.siblings('label').first().remove();[m
[31m-                            }[m
[31m-                        }[m
[31m-                    }[m
[31m-                }else if($input.siblings('label').length){[m
[31m-                    $input.attr('placeholder', $input.siblings('label').first().text()); [m
[31m-                    if(form.is('.form--no-labels')){[m
[31m-                        $input.siblings('label').first().remove();[m
[31m-                    }[m
[31m-                }[m
[31m-                if($input.parent().is('p')){[m
[31m-                    $input.unwrap();[m
[31m-                }[m
[31m-            });[m
[31m-        }else{[m
[31m-            form.find('input[placeholder]').removeAttr('placeholder');[m
[31m-        }[m
[31m-[m
[31m-[m
[31m-    	// Wrap select elements in template code[m
[31m-[m
[31m-    	form.find('select').wrap('<div class="input-select"></div>');[m
[31m-[m
[31m-    	// Wrap radios elements in template code[m
[31m-[m
[31m-    	form.find('input[type="radio"]').wrap('<div class="input-radio"></div>');[m
[31m-[m
[31m-    	// Wrap checkbox elements in template code[m
[31m-[m
[31m-    	form.find('input[type="checkbox"]').each(function(){[m
[31m-    		checkbox = $(this);[m
[31m-    		id = checkbox.attr('id');[m
[31m-    		label = form.find('label[for='+id+']');[m
[31m-            if(!label.length){[m
[31m-                label = $('<label for="'+id+'"></label>');[m
[31m-            }[m
[31m-    		[m
[31m-    		checkbox.before('<div class="input-checkbox" data-id="'+id+'"></div>');[m
[31m-    		$('.input-checkbox[data-id="'+id+'"]').prepend(checkbox);[m
[31m-    		$('.input-checkbox[data-id="'+id+'"]').prepend(label);[m
[31m-    	});[m
[31m-[m
[31m-    	form.find('button[type="submit"]').each(function(){[m
[31m-            var button = $(this);[m
[31m-            button.addClass('btn');[m
[31m-            if(button.parent().is('p')){[m
[31m-                button.unwrap();[m
[31m-            }[m
[31m-        });[m
[31m-        [m
[31m-        form.find('[required]').attr('required', 'required').addClass('validate-required');[m
[31m-[m
[31m-        form.addClass('form--active');[m
[31m-[m
[31m-        mr.newsletters.prepareAjaxAction(form);[m
[31m-[m
[31m-[m
[31m-    });[m
[31m-[m
[31m-    // Treat MailChimp forms[m
[31m-    $('form[action*="list-manage.com"]').each(function(){[m
[31m-    	form = $(this);[m
[31m-[m
[31m-        // Override browser validation and allow us to use our own[m
[31m-        form.attr('novalidate', 'novalidate');[m
[31m-[m
[31m-    	// Give each text input a placeholder value[m
[31m-        if(!form.is('.form--no-placeholders')){[m
[31m-        	form.find('input:not([checkbox]):not([radio])').each(function(){[m
[31m-        		var $input = $(this);[m
[31m-                if(typeof $input.attr('placeholder') !== typeof undefined){[m
[31m-                    if($input.attr('placeholder') === ""){[m
[31m-                        if($input.siblings('label').length){[m
[31m-                            $input.attr('placeholder', $input.siblings('label').first().text());[m
[31m-                            if(form.is('.form--no-labels')){   [m
[31m-                                $input.siblings('label').first().remove();[m
[31m-                            }[m
[31m-                        }[m
[31m-                    }[m
[31m-                }else if($input.siblings('label').length){[m
[31m-                    $input.attr('placeholder', $input.siblings('label').first().text()); [m
[31m-                    if(form.is('.form--no-labels')){[m
[31m-                        $input.siblings('label').first().remove();[m
[31m-                    }[m
[31m-                }[m
[31m-        	});[m
[31m-        }else{[m
[31m-            form.find('input[placeholder]').removeAttr('placeholder');[m
[31m-        }[m
[31m-[m
[31m-        if(form.is('.form--no-labels')){[m
[31m-            form.find('input:not([checkbox]):not([radio])').each(function(){[m
[31m-                var $input = $(this);[m
[31m-                if($input.siblings('label').length){[m
[31m-                    $input.siblings('label').first().remove();[m
[31m-                }[m
[31m-            });[m
[31m-        }[m
[31m-[m
[31m-    	// Wrap select elements in template code[m
[31m-[m
[31m-    	form.find('select').wrap('<div class="input-select"></div>');[m
[31m-[m
[31m-    	// Wrap checboxes elements in template code[m
[31m-[m
[31m-    	form.find('input[type="checkbox"]').each(function(){[m
[31m-    		checkbox = jQuery(this);[m
[31m-    		parent = checkbox.parent();[m
[31m-    		label = parent.find('label');[m
[31m-            if(!label.length){[m
[31m-                label = jQuery('<label>');[m
[31m-            }[m
[31m-    		checkbox.before('<div class="input-checkbox"></div>');[m
[31m-    		parent.find('.input-checkbox').append(checkbox);[m
[31m-    		parent.find('.input-checkbox').append(label);[m
[31m-    	});[m
[31m-[m
[31m-    	// Wrap radio elements in template code[m
[31m-[m
[31m-    	form.find('input[type="radio"]').each(function(){[m
[31m-    		radio = jQuery(this);[m
[31m-    		parent = radio.closest('li');[m
[31m-    		label = parent.find('label');[m
[31m-            if(!label.length){[m
[31m-                label = jQuery('<label>');[m
[31m-            }[m
[31m-    		radio.before('<div class="input-radio"></div>');[m
[31m-    		parent.find('.input-radio').prepend(radio);[m
[31m-    		parent.find('.input-radio').prepend(label);[m
[31m-    	});[m
[31m-[m
[31m-        // Convert MailChimp input[type="submit"] to div.button[m
[31m-[m
[31m-        form.find('input[type="submit"]').each(function(){[m
[31m-            var submit = $(this);[m
[31m-            [m
[31m-            var newButton = jQuery('<button/>').attr('type','submit').attr('class', submit.attr('class')).addClass('btn').text(submit.attr('value'));[m
[31m-            [m
[31m-            if(submit.parent().is('div.clear')){[m
[31m-                submit.unwrap();[m
[31m-            }[m
[31m-[m
[31m-            newButton.insertBefore(submit);[m
[31m-            submit.remove();[m
[31m-        });[m
[31m-[m
[31m-        form.find('input').each(function(){[m
[31m-            var input = $(this);[m
[31m-            if(input.hasClass('required')){[m
[31m-                input.removeClass('required').addClass('validate-required');[m
[31m-            }[m
[31m-        });[m
[31m-[m
[31m-        form.find('input[type="email"]').removeClass('email').addClass('validate-email');[m
[31m-[m
[31m-        form.find('#mce-responses').remove();[m
[31m-[m
[31m-        form.find('.mc-field-group').each(function(){[m
[31m-            $(this).children().first().unwrap();[m
[31m-        });[m
[31m-[m
[31m-        form.find('[required]').attr('required', 'required').addClass('validate-required');[m
[31m-[m
[31m-        form.addClass('form--active');[m
[31m-[m
[31m-        mr.newsletters.prepareAjaxAction(form);[m
[31m-[m
[31m-    }); [m
[31m-[m
[31m-	// Reinitialize the forms so interactions work as they should[m
[31m-[m
[31m-	mr.forms.documentReady(mr.setContext('form.form--active'));[m
[31m-		[m
[31m-  };[m
[31m-[m
[31m-  mr.newsletters.prepareAjaxAction = function(form){[m
[31m-        var action = $(form).attr('action');[m
[31m-[m
[31m-        // Alter action for a Mail Chimp-compatible ajax request url.[m
[31m-        if(/list-manage\.com/.test(action)){[m
[31m-           action = action.replace('/post?', '/post-json?') + "&c=?";[m
[31m-           if(action.substr(0,2) === "//"){[m
[31m-               action = 'http:' + action;[m
[31m-           }[m
[31m-        }[m
[31m-[m
[31m-        // Alter action for a Campaign Monitor-compatible ajax request url.[m
[31m-        if(/createsend\.com/.test(action)){[m
[31m-           action = action + '?callback=?';[m
[31m-        }[m
[31m-[m
[31m-        // Set action on the form[m
[31m-        $(form).attr('action', action);[m
[31m-[m
[31m-    };[m
[31m-[m
[31m-[m
[31m-[m
[31m-  mr.components.documentReady.push(mr.newsletters.documentReady);[m
[31m-  return mr;[m
[31m-[m
[31m-}(mr, jQuery, window, document));[m
[31m-[m
[31m-//////////////// Notifications[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.notifications = mr.notifications || {};[m
[31m-[m
[31m-    mr.notifications.documentReady = function($){[m
[31m-        [m
[31m-        $('.notification').each(function(){[m
[31m-            var notification = $(this);[m
[31m-            if(!notification.find('.notification-close').length){[m
[31m-                notification.append('<div class="notification-close-cross notification-close"></div>');[m
[31m-            }[m
[31m-        });[m
[31m-    [m
[31m-[m
[31m-        $('.notification[data-autoshow]').each(function(){[m
[31m-            var notification = $(this);[m
[31m-            var millisecondsDelay = parseInt(notification.attr('data-autoshow'),10);[m
[31m-[m
[31m-            // If this notification has a cookie attribute, check to see if a cookie is set, and if so, don't show it.[m
[31m-            if(typeof notification.attr('data-cookie') !== typeof undefined){[m
[31m-                if(!mr.cookies.hasItem(notification.attr('data-cookie'))){[m
[31m-                    mr.notifications.showNotification(notification, millisecondsDelay);[m
[31m-                }[m
[31m-            }else{[m
[31m-                mr.notifications.showNotification(notification, millisecondsDelay);[m
[31m-            }[m
[31m-        });[m
[31m-[m
[31m-        $('[data-notification-link]:not(.notification)').on('click', function(){[m
[31m-            var notificationID = jQuery(this).attr('data-notification-link');[m
[31m-            var notification = $('.notification[data-notification-link="'+notificationID+'"]');[m
[31m-            jQuery('.notification--reveal').addClass('notification--dismissed');[m
[31m-            notification.removeClass('notification--dismissed');[m
[31m-            mr.notifications.showNotification(notification, 0);[m
[31m-            return false;[m
[31m-        });[m
[31m-[m
[31m-        $('.notification-close').on('click', function(){[m
[31m-            var closeButton = jQuery(this);[m
[31m-            // Pass the closeNotification function a reference to the close button[m
[31m-            mr.notifications.closeNotification(closeButton);[m
[31m-[m
[31m-            if(closeButton.attr('href') === '#'){[m
[31m-                return false;[m
[31m-            }[m
[31m-        });[m
[31m-[m
[31m-        $('.notification .inner-link').on('click', function(){[m
[31m-            var notificationLink = jQuery(this).closest('.notification').attr('data-notification-link');[m
[31m-            mr.notifications.closeNotification(notificationLink);[m
[31m-        });[m
[31m-    [m
[31m-    };[m
[31m-[m
[31m-[m
[31m-    mr.notifications.showNotification = function(notification, millisecondsDelay){[m
[31m-        var $notification = jQuery(notification),[m
[31m-            delay         = (typeof millisecondsDelay !== typeof undefined) ? (1*millisecondsDelay) : 0,[m
[31m-            openEvent     = document.createEvent('Event');[m
[31m-            [m
[31m-        setTimeout(function(){[m
[31m-            openEvent.initEvent('notificationOpened.notifications.mr', true, true);[m
[31m-            $notification.addClass('notification--reveal').trigger('notificationOpened.notifications.mr').get(0).dispatchEvent(openEvent);[m
[31m-            $notification.closest('nav').addClass('notification--reveal');[m
[31m-            if($notification.find('input').length){[m
[31m-                $notification.find('input').first().focus();[m
[31m-            }[m
[31m-            [m
[31m-[m
[31m-[m
[31m-        },delay);[m
[31m-        // If notification has autohide attribute, set a timeout [m
[31m-        // for the autohide time plus the original delay time in case notification was called[m
[31m-        // on page load[m
[31m-        if(notification.is('[data-autohide]')){[m
[31m-            var hideDelay = parseInt(notification.attr('data-autohide'),10);[m
[31m-            setTimeout(function(){[m
[31m-                mr.notifications.closeNotification(notification);[m
[31m-            },hideDelay+delay);[m
[31m-        }[m
[31m-    };[m
[31m-[m
[31m-    mr.notifications.closeNotification = function(notification){[m
[31m-        var $notification = jQuery(notification),[m
[31m-            closeEvent    = document.createEvent('Event');[m
[31m-        notification = $notification.is('.notification') ? [m
[31m-                       $notification :[m
[31m-                       $notification.is('.notification-close') ? [m
[31m-                       $notification.closest('.notification') : [m
[31m-                       $('.notification[data-notification-link="'+notification+'"]');[m
[31m-        [m
[31m-        closeEvent.initEvent('notificationClosed.notifications.mr', true, true);[m
[31m-        notification.addClass('notification--dismissed').trigger('notificationClosed.notifications.mr').get(0).dispatchEvent(closeEvent);[m
[31m-        notification.closest('nav').removeClass('notification--reveal');[m
[31m-[m
[31m-        // If this notification requires to be closed permanently using a cookie, set the cookie now.[m
[31m-        if(typeof notification.attr('data-cookie') !== typeof undefined){[m
[31m-            mr.cookies.setItem(notification.attr('data-cookie'), "true", Infinity, '/');[m
[31m-        }[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReady.push(mr.notifications.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Notifications[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.notifications = mr.notifications || {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.notifications.documentReady = function($){[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        $('.notification').each(function(){[m[41m[m
[32m+[m[32m            var notification = $(this);[m[41m[m
[32m+[m[32m            if(!notification.find('.notification-close').length){[m[41m[m
[32m+[m[32m                notification.append('<div class="notification-close-cross notification-close"></div>');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m    [m
[32m+[m[41m[m
[32m+[m[32m        $('.notification[data-autoshow]').each(function(){[m[41m[m
[32m+[m[32m            var notification = $(this);[m[41m[m
[32m+[m[32m            var millisecondsDelay = parseInt(notification.attr('data-autoshow'),10);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // If this notification has a cookie attribute, check to see if a cookie is set, and if so, don't show it.[m[41m[m
[32m+[m[32m            if(typeof notification.attr('data-cookie') !== typeof undefined){[m[41m[m
[32m+[m[32m                if(!mr.cookies.hasItem(notification.attr('data-cookie'))){[m[41m[m
[32m+[m[32m                    mr.notifications.showNotification(notification, millisecondsDelay);[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            }else{[m[41m[m
[32m+[m[32m                mr.notifications.showNotification(notification, millisecondsDelay);[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('[data-notification-link]:not(.notification)').on('click', function(){[m[41m[m
[32m+[m[32m            var notificationID = jQuery(this).attr('data-notification-link');[m[41m[m
[32m+[m[32m            var notification = $('.notification[data-notification-link="'+notificationID+'"]');[m[41m[m
[32m+[m[32m            jQuery('.notification--reveal').addClass('notification--dismissed');[m[41m[m
[32m+[m[32m            notification.removeClass('notification--dismissed');[m[41m[m
[32m+[m[32m            mr.notifications.showNotification(notification, 0);[m[41m[m
[32m+[m[32m            return false;[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.notification-close').on('click', function(){[m[41m[m
[32m+[m[32m            var closeButton = jQuery(this);[m[41m[m
[32m+[m[32m            // Pass the closeNotification function a reference to the close button[m[41m[m
[32m+[m[32m            mr.notifications.closeNotification(closeButton);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            if(closeButton.attr('href') === '#'){[m[41m[m
[32m+[m[32m                return false;[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.notification .inner-link').on('click', function(){[m[41m[m
[32m+[m[32m            var notificationLink = jQuery(this).closest('.notification').attr('data-notification-link');[m[41m[m
[32m+[m[32m            mr.notifications.closeNotification(notificationLink);[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.notifications.showNotification = function(notification, millisecondsDelay){[m[41m[m
[32m+[m[32m        var $notification = jQuery(notification),[m[41m[m
[32m+[m[32m            delay         = (typeof millisecondsDelay !== typeof undefined) ? (1*millisecondsDelay) : 0,[m[41m[m
[32m+[m[32m            openEvent     = document.createEvent('Event');[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m        setTimeout(function(){[m[41m[m
[32m+[m[32m            openEvent.initEvent('notificationOpened.notifications.mr', true, true);[m[41m[m
[32m+[m[32m            $notification.addClass('notification--reveal').trigger('notificationOpened.notifications.mr').get(0).dispatchEvent(openEvent);[m[41m[m
[32m+[m[32m            $notification.closest('nav').addClass('notification--reveal');[m[41m[m
[32m+[m[32m            if($notification.find('input').length){[m[41m[m
[32m+[m[32m                $notification.find('input').first().focus();[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m            [m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        },delay);[m[41m[m
[32m+[m[32m        // If notification has autohide attribute, set a timeout[m[41m [m
[32m+[m[32m        // for the autohide time plus the original delay time in case notification was called[m[41m[m
[32m+[m[32m        // on page load[m[41m[m
[32m+[m[32m        if(notification.is('[data-autohide]')){[m[41m[m
[32m+[m[32m            var hideDelay = parseInt(notification.attr('data-autohide'),10);[m[41m[m
[32m+[m[32m            setTimeout(function(){[m[41m[m
[32m+[m[32m                mr.notifications.closeNotification(notification);[m[41m[m
[32m+[m[32m            },hideDelay+delay);[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.notifications.closeNotification = function(notification){[m[41m[m
[32m+[m[32m        var $notification = jQuery(notification),[m[41m[m
[32m+[m[32m            closeEvent    = document.createEvent('Event');[m[41m[m
[32m+[m[32m        notification = $notification.is('.notification') ?[m[41m [m
[32m+[m[32m                       $notification :[m[41m[m
[32m+[m[32m                       $notification.is('.notification-close') ?[m[41m [m
[32m+[m[32m                       $notification.closest('.notification') :[m[41m [m
[32m+[m[32m                       $('.notification[data-notification-link="'+notification+'"]');[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        closeEvent.initEvent('notificationClosed.notifications.mr', true, true);[m[41m[m
[32m+[m[32m        notification.addClass('notification--dismissed').trigger('notificationClosed.notifications.mr').get(0).dispatchEvent(closeEvent);[m[41m[m
[32m+[m[32m        notification.closest('nav').removeClass('notification--reveal');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        // If this notification requires to be closed permanently using a cookie, set the cookie now.[m[41m[m
[32m+[m[32m        if(typeof notification.attr('data-cookie') !== typeof undefined){[m[41m[m
[32m+[m[32m            mr.cookies.setItem(notification.attr('data-cookie'), "true", Infinity, '/');[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.notifications.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
 //////////////// Parallax[m
[36m@@ -2300,142 +2300,142 @@[m [mmr = (function (mr, $, window, document){[m
 [m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Progress Horizontal (bars)[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.progressHorizontal = mr.progressHorizontal || {};[m
[31m-[m
[31m-    mr.progressHorizontal.documentReady = function($){[m
[31m-[m
[31m-        var progressBars = [];[m
[31m-[m
[31m-        $('.progress-horizontal').each(function(){[m
[31m-            var bar       = jQuery(this).find('.progress-horizontal__bar'),[m
[31m-                barObject = {},[m
[31m-                progress  = jQuery('<div class="progress-horizontal__progress"></div>');[m
[31m-[m
[31m-                bar.prepend(progress);[m
[31m-[m
[31m-                barObject.element = bar;[m
[31m-                barObject.progress = progress;[m
[31m-                barObject.value = parseInt(bar.attr('data-value'),10)+"%";[m
[31m-                barObject.offsetTop = bar.offset().top;[m
[31m-                barObject.animate = false;[m
[31m-[m
[31m-                if(jQuery(this).hasClass('progress-horizontal--animate')){[m
[31m-                    barObject.animate = true;[m
[31m-                }else{[m
[31m-                    progress.css('width',barObject.value);[m
[31m-                }[m
[31m-                progressBars.push(barObject);[m
[31m-        });[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReady.push(mr.progressHorizontal.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Progress Horizontal (bars)[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.progressHorizontal = mr.progressHorizontal || {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.progressHorizontal.documentReady = function($){[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        var progressBars = [];[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.progress-horizontal').each(function(){[m[41m[m
[32m+[m[32m            var bar       = jQuery(this).find('.progress-horizontal__bar'),[m[41m[m
[32m+[m[32m                barObject = {},[m[41m[m
[32m+[m[32m                progress  = jQuery('<div class="progress-horizontal__progress"></div>');[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                bar.prepend(progress);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                barObject.element = bar;[m[41m[m
[32m+[m[32m                barObject.progress = progress;[m[41m[m
[32m+[m[32m                barObject.value = parseInt(bar.attr('data-value'),10)+"%";[m[41m[m
[32m+[m[32m                barObject.offsetTop = bar.offset().top;[m[41m[m
[32m+[m[32m                barObject.animate = false;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m                if(jQuery(this).hasClass('progress-horizontal--animate')){[m[41m[m
[32m+[m[32m                    barObject.animate = true;[m[41m[m
[32m+[m[32m                }else{[m[41m[m
[32m+[m[32m                    progress.css('width',barObject.value);[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m                progressBars.push(barObject);[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.progressHorizontal.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// EasyPiecharts[m
[31m-mr = (function (mr, $, window, document){[m
[31m-	  "use strict";[m
[31m-[m
[31m-		mr.easypiecharts = mr.easypiecharts || {};[m
[31m-		mr.easypiecharts.pies = [];[m
[31m-		mr.easypiecharts.options = mr.easypiecharts.options || {};[m
[31m-[m
[31m-		mr.easypiecharts.documentReady = function($){[m
[31m-[m
[31m-		  	$('.radial').each(function(){[m
[31m-		  		var chart              = jQuery(this),[m
[31m-		  			  value              = 0,[m
[31m-		  			  color              = '#000000',[m
[31m-		  			  time               = 2000,[m
[31m-		  			  pieSize            = 110,[m
[31m-		  			  barWidth           = 3,[m
[31m-		  			  defaults           = {},[m
[31m-		  			  attributeOverrides = {},[m
[31m-		  			  options;[m
[31m-[m
[31m-		  		defaults = {[m
[31m-		  			animate: ({duration: time, enabled: true}),[m
[31m-		  			barColor: color,[m
[31m-		  			scaleColor: false,[m
[31m-		  			size: pieSize,[m
[31m-		  			lineWidth: barWidth[m
[31m-		  		};[m
[31m-[m
[31m-		  		if(typeof mr.easypiecharts.options.size !== typeof undefined){[m
[31m-            pieSize = mr.easypiecharts.options.size;[m
[31m-		  		}[m
[31m-		  		if(typeof chart.attr('data-timing') !== typeof undefined){[m
[31m-		  			attributeOverrides.animate = {duration: parseInt(chart.attr('data-timing'), 10), enabled: true};[m
[31m-		  		}[m
[31m-		  		if(typeof chart.attr('data-color') !== typeof undefined){[m
[31m-		  			attributeOverrides.barColor = chart.attr('data-color');[m
[31m-		  		}[m
[31m-		  		if(typeof chart.attr('data-size') !== typeof undefined){[m
[31m-		  			pieSize = attributeOverrides.size = parseInt(chart.attr('data-size'), 10);[m
[31m-		  		}[m
[31m-		  		if(typeof chart.attr('data-bar-width') !== typeof undefined){[m
[31m-		  			attributeOverrides.lineWidth = parseInt(chart.attr('data-bar-width'), 10);[m
[31m-		  		}[m
[31m-[m
[31m-		  		chart.css('height',pieSize).css('width',pieSize);[m
[31m-[m
[31m-          [m
[31m-[m
[31m-		  		if(typeof mr.easypiecharts.options === 'object'){[m
[31m-            options = jQuery.extend({}, defaults, mr.easypiecharts.options, attributeOverrides);[m
[31m-		  		}[m
[31m-[m
[31m-		  		chart.easyPieChart(options);[m
[31m-		  		chart.data('easyPieChart').update(0);[m
[31m-		  	});[m
[31m-[m
[31m-		  	if($('.radial').length){[m
[31m-		  		mr.easypiecharts.init();[m
[31m-		  		mr.easypiecharts.activate();[m
[31m-		  		mr.scroll.listeners.push(mr.easypiecharts.activate);[m
[31m-		  	}[m
[31m-[m
[31m-	  };[m
[31m-[m
[31m-	  mr.easypiecharts.init = function(){[m
[31m-[m
[31m-			mr.easypiecharts.pies = [];[m
[31m-          [m
[31m-			$('.radial').each(function(){[m
[31m-			  var pieObject  = {},[m
[31m-				  currentPie = jQuery(this);[m
[31m-[m
[31m-				  pieObject.element = currentPie;[m
[31m-				  pieObject.value = parseInt(currentPie.attr('data-value'),10);[m
[31m-				  pieObject.top = currentPie.offset().top;[m
[31m-				  pieObject.height = currentPie.height()/2;[m
[31m-				  pieObject.active = false;[m
[31m-				  mr.easypiecharts.pies.push(pieObject);[m
[31m-			});[m
[31m-		};[m
[31m-[m
[31m-		mr.easypiecharts.activate = function(){[m
[31m-			mr.easypiecharts.pies.forEach(function(pie){[m
[31m-				if(Math.round((mr.scroll.y + mr.window.height)) >= Math.round(pie.top+pie.height)){[m
[31m-					if(pie.active === false){[m
[31m-						[m
[31m-	                	pie.element.data('easyPieChart').enableAnimation();[m
[31m-	                	pie.element.data('easyPieChart').update(pie.value);[m
[31m-	                	pie.element.addClass('radial--active');[m
[31m-	                	pie.active = true;[m
[31m-					}[m
[31m-	            }[m
[31m-        	});[m
[31m-		};[m
[31m-[m
[31m-	  mr.components.documentReadyDeferred.push(mr.easypiecharts.documentReady);[m
[31m-	  return mr;[m
[31m-[m
[32m+[m[32m//////////////// EasyPiecharts[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m	[32m  "use strict";[m[41m[m
[32m+[m[41m[m
[32m+[m		[32mmr.easypiecharts = mr.easypiecharts || {};[m[41m[m
[32m+[m		[32mmr.easypiecharts.pies = [];[m[41m[m
[32m+[m		[32mmr.easypiecharts.options = mr.easypiecharts.options || {};[m[41m[m
[32m+[m[41m[m
[32m+[m		[32mmr.easypiecharts.documentReady = function($){[m[41m[m
[32m+[m[41m[m
[32m+[m		[41m  [m	[32m$('.radial').each(function(){[m[41m[m
[32m+[m		[41m  [m		[32mvar chart              = jQuery(this),[m[41m[m
[32m+[m		[41m  [m			[32m  value              = 0,[m[41m[m
[32m+[m		[41m  [m			[32m  color              = '#000000',[m[41m[m
[32m+[m		[41m  [m			[32m  time               = 2000,[m[41m[m
[32m+[m		[41m  [m			[32m  pieSize            = 110,[m[41m[m
[32m+[m		[41m  [m			[32m  barWidth           = 3,[m[41m[m
[32m+[m		[41m  [m			[32m  defaults           = {},[m[41m[m
[32m+[m		[41m  [m			[32m  attributeOverrides = {},[m[41m[m
[32m+[m		[41m  [m			[32m  options;[m[41m[m
[32m+[m[41m[m
[32m+[m		[41m  [m		[32mdefaults = {[m[41m[m
[32m+[m		[41m  [m			[32manimate: ({duration: time, enabled: true}),[m[41m[m
[32m+[m		[41m  [m			[32mbarColor: color,[m[41m[m
[32m+[m		[41m  [m			[32mscaleColor: false,[m[41m[m
[32m+[m		[41m  [m			[32msize: pieSize,[m[41m[m
[32m+[m		[41m  [m			[32mlineWidth: barWidth[m[41m[m
[32m+[m		[41m  [m		[32m};[m[41m[m
[32m+[m[41m[m
[32m+[m		[41m  [m		[32mif(typeof mr.easypiecharts.options.size !== typeof undefined){[m[41m[m
[32m+[m[32m            pieSize = mr.easypiecharts.options.size;[m[41m[m
[32m+[m		[41m  [m		[32m}[m[41m[m
[32m+[m		[41m  [m		[32mif(typeof chart.attr('data-timing') !== typeof undefined){[m[41m[m
[32m+[m		[41m  [m			[32mattributeOverrides.animate = {duration: parseInt(chart.attr('data-timing'), 10), enabled: true};[m[41m[m
[32m+[m		[41m  [m		[32m}[m[41m[m
[32m+[m		[41m  [m		[32mif(typeof chart.attr('data-color') !== typeof undefined){[m[41m[m
[32m+[m		[41m  [m			[32mattributeOverrides.barColor = chart.attr('data-color');[m[41m[m
[32m+[m		[41m  [m		[32m}[m[41m[m
[32m+[m		[41m  [m		[32mif(typeof chart.attr('data-size') !== typeof undefined){[m[41m[m
[32m+[m		[41m  [m			[32mpieSize = attributeOverrides.size = parseInt(chart.attr('data-size'), 10);[m[41m[m
[32m+[m		[41m  [m		[32m}[m[41m[m
[32m+[m		[41m  [m		[32mif(typeof chart.attr('data-bar-width') !== typeof undefined){[m[41m[m
[32m+[m		[41m  [m			[32mattributeOverrides.lineWidth = parseInt(chart.attr('data-bar-width'), 10);[m[41m[m
[32m+[m		[41m  [m		[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m		[41m  [m		[32mchart.css('height',pieSize).css('width',pieSize);[m[41m[m
[32m+[m[41m[m
[32m+[m[41m          [m
[32m+[m[41m[m
[32m+[m		[41m  [m		[32mif(typeof mr.easypiecharts.options === 'object'){[m[41m[m
[32m+[m[32m            options = jQuery.extend({}, defaults, mr.easypiecharts.options, attributeOverrides);[m[41m[m
[32m+[m		[41m  [m		[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m		[41m  [m		[32mchart.easyPieChart(options);[m[41m[m
[32m+[m		[41m  [m		[32mchart.data('easyPieChart').update(0);[m[41m[m
[32m+[m		[41m  [m	[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m		[41m  [m	[32mif($('.radial').length){[m[41m[m
[32m+[m		[41m  [m		[32mmr.easypiecharts.init();[m[41m[m
[32m+[m		[41m  [m		[32mmr.easypiecharts.activate();[m[41m[m
[32m+[m		[41m  [m		[32mmr.scroll.listeners.push(mr.easypiecharts.activate);[m[41m[m
[32m+[m		[41m  [m	[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m  };[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m  mr.easypiecharts.init = function(){[m[41m[m
[32m+[m[41m[m
[32m+[m			[32mmr.easypiecharts.pies = [];[m[41m[m
[32m+[m[41m          [m
[32m+[m			[32m$('.radial').each(function(){[m[41m[m
[32m+[m			[32m  var pieObject  = {},[m[41m[m
[32m+[m				[32m  currentPie = jQuery(this);[m[41m[m
[32m+[m[41m[m
[32m+[m				[32m  pieObject.element = currentPie;[m[41m[m
[32m+[m				[32m  pieObject.value = parseInt(currentPie.attr('data-value'),10);[m[41m[m
[32m+[m				[32m  pieObject.top = currentPie.offset().top;[m[41m[m
[32m+[m				[32m  pieObject.height = currentPie.height()/2;[m[41m[m
[32m+[m				[32m  pieObject.active = false;[m[41m[m
[32m+[m				[32m  mr.easypiecharts.pies.push(pieObject);[m[41m[m
[32m+[m			[32m});[m[41m[m
[32m+[m		[32m};[m[41m[m
[32m+[m[41m[m
[32m+[m		[32mmr.easypiecharts.activate = function(){[m[41m[m
[32m+[m			[32mmr.easypiecharts.pies.forEach(function(pie){[m[41m[m
[32m+[m				[32mif(Math.round((mr.scroll.y + mr.window.height)) >= Math.round(pie.top+pie.height)){[m[41m[m
[32m+[m					[32mif(pie.active === false){[m[41m[m
[32m+[m[41m						[m
[32m+[m	[41m                [m	[32mpie.element.data('easyPieChart').enableAnimation();[m[41m[m
[32m+[m	[41m                [m	[32mpie.element.data('easyPieChart').update(pie.value);[m[41m[m
[32m+[m	[41m                [m	[32mpie.element.addClass('radial--active');[m[41m[m
[32m+[m	[41m                [m	[32mpie.active = true;[m[41m[m
[32m+[m					[32m}[m[41m[m
[32m+[m	[32m            }[m[41m[m
[32m+[m[41m        [m	[32m});[m[41m[m
[32m+[m		[32m};[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m  mr.components.documentReadyDeferred.push(mr.easypiecharts.documentReady);[m[41m[m
[32m+[m	[32m  return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
 //////////////// Flickity[m
[36m@@ -2599,344 +2599,344 @@[m [mmr = (function (mr, $, window, document){[m
 [m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Tabs[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-[m
[31m-    mr.tabs = mr.tabs || {};[m
[31m-    [m
[31m-    mr.tabs.documentReady = function($){[m
[31m-        $('.tabs').each(function(){[m
[31m-            var tabs = $(this);[m
[31m-            tabs.after('<ul class="tabs-content">');[m
[31m-            tabs.find('li').each(function(){[m
[31m-                var currentTab      = $(this),[m
[31m-                    tabContent      = currentTab.find('.tab__content').wrap('<li></li>').parent(),[m
[31m-                    tabContentClone = tabContent.clone(true,true);[m
[31m-                tabContent.remove();[m
[31m-                currentTab.closest('.tabs-container').find('.tabs-content').append(tabContentClone);[m
[31m-            });[m
[31m-        });[m
[31m-        [m
[31m-        $('.tabs > li').on('click', function(){[m
[31m-            var clickedTab = $(this), hash;[m
[31m-            mr.tabs.activateTab(clickedTab);[m
[31m-[m
[31m-            // Update the URL bar if the currently clicked tab has an ID[m
[31m-            if(clickedTab.is('[id]')){[m
[31m-                // Create the hash from the tab's ID[m
[31m-                hash = '#'+ clickedTab.attr('id');[m
[31m-                // Check we are in a newish browser with the history API[m
[31m-                if(history.pushState) {[m
[31m-                    history.pushState(null, null, hash);[m
[31m-                }[m
[31m-                else {[m
[31m-                    location.hash = hash;[m
[31m-                }[m
[31m-            }[m
[31m-        });[m
[31m-[m
[31m-        $('.tabs li.active').each(function(){[m
[31m-            mr.tabs.activateTab(this);[m
[31m-        });[m
[31m-[m
[31m-        if(window.location.hash !== ''){[m
[31m-            mr.tabs.activateTabById(window.location.hash);[m
[31m-        }[m
[31m-[m
[31m-        $('a[href^="#"]').on('click', function(){[m
[31m-            mr.tabs.activateTabById($(this).attr('href'));[m
[31m-        });[m
[31m-[m
[31m-    };[m
[31m-[m
[31m-    mr.tabs.activateTab = function(tab){[m
[31m-        var clickedTab    = $(tab),[m
[31m-            tabContainer  = clickedTab.closest('.tabs-container'),[m
[31m-            activeIndex   = (clickedTab.index()*1)+(1),[m
[31m-            activeContent = tabContainer.find('> .tabs-content > li:nth-of-type('+activeIndex+')'),[m
[31m-            openEvent     = document.createEvent('Event'),[m
[31m-            iframe, radial;[m
[31m-[m
[31m-            openEvent.initEvent('tabOpened.tabs.mr', true, true);[m
[31m-[m
[31m-[m
[31m-        tabContainer.find('> .tabs > li').removeClass('active');[m
[31m-        tabContainer.find('> .tabs-content > li').removeClass('active');[m
[31m-        [m
[31m-        clickedTab.addClass('active').trigger('tabOpened.tabs.mr').get(0).dispatchEvent(openEvent);[m
[31m-        activeContent.addClass('active');[m
[31m-[m
[31m-        [m
[31m-[m
[31m-        // If there is an <iframe> element in the tab, reload its content when the tab is made active.[m
[31m-        iframe = activeContent.find('iframe');[m
[31m-        if(iframe.length){[m
[31m-            iframe.attr('src', iframe.attr('src'));[m
[31m-        }[m
[31m-    };[m
[31m-[m
[31m-[m
[31m-[m
[31m-    mr.tabs.activateTabById = function(id){[m
[31m-        if(id !== '' && id !== '#'){[m
[31m-            $('.tabs > li#'+id.replace('#', '')).click();[m
[31m-        }[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReady.push(mr.tabs.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Tabs[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.tabs = mr.tabs || {};[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.tabs.documentReady = function($){[m[41m[m
[32m+[m[32m        $('.tabs').each(function(){[m[41m[m
[32m+[m[32m            var tabs = $(this);[m[41m[m
[32m+[m[32m            tabs.after('<ul class="tabs-content">');[m[41m[m
[32m+[m[32m            tabs.find('li').each(function(){[m[41m[m
[32m+[m[32m                var currentTab      = $(this),[m[41m[m
[32m+[m[32m                    tabContent      = currentTab.find('.tab__content').wrap('<li></li>').parent(),[m[41m[m
[32m+[m[32m                    tabContentClone = tabContent.clone(true,true);[m[41m[m
[32m+[m[32m                tabContent.remove();[m[41m[m
[32m+[m[32m                currentTab.closest('.tabs-container').find('.tabs-content').append(tabContentClone);[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        $('.tabs > li').on('click', function(){[m[41m[m
[32m+[m[32m            var clickedTab = $(this), hash;[m[41m[m
[32m+[m[32m            mr.tabs.activateTab(clickedTab);[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            // Update the URL bar if the currently clicked tab has an ID[m[41m[m
[32m+[m[32m            if(clickedTab.is('[id]')){[m[41m[m
[32m+[m[32m                // Create the hash from the tab's ID[m[41m[m
[32m+[m[32m                hash = '#'+ clickedTab.attr('id');[m[41m[m
[32m+[m[32m                // Check we are in a newish browser with the history API[m[41m[m
[32m+[m[32m                if(history.pushState) {[m[41m[m
[32m+[m[32m                    history.pushState(null, null, hash);[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m                else {[m[41m[m
[32m+[m[32m                    location.hash = hash;[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('.tabs li.active').each(function(){[m[41m[m
[32m+[m[32m            mr.tabs.activateTab(this);[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        if(window.location.hash !== ''){[m[41m[m
[32m+[m[32m            mr.tabs.activateTabById(window.location.hash);[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        $('a[href^="#"]').on('click', function(){[m[41m[m
[32m+[m[32m            mr.tabs.activateTabById($(this).attr('href'));[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.tabs.activateTab = function(tab){[m[41m[m
[32m+[m[32m        var clickedTab    = $(tab),[m[41m[m
[32m+[m[32m            tabContainer  = clickedTab.closest('.tabs-container'),[m[41m[m
[32m+[m[32m            activeIndex   = (clickedTab.index()*1)+(1),[m[41m[m
[32m+[m[32m            activeContent = tabContainer.find('> .tabs-content > li:nth-of-type('+activeIndex+')'),[m[41m[m
[32m+[m[32m            openEvent     = document.createEvent('Event'),[m[41m[m
[32m+[m[32m            iframe, radial;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            openEvent.initEvent('tabOpened.tabs.mr', true, true);[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        tabContainer.find('> .tabs > li').removeClass('active');[m[41m[m
[32m+[m[32m        tabContainer.find('> .tabs-content > li').removeClass('active');[m[41m[m
[32m+[m[41m        [m
[32m+[m[32m        clickedTab.addClass('active').trigger('tabOpened.tabs.mr').get(0).dispatchEvent(openEvent);[m[41m[m
[32m+[m[32m        activeContent.addClass('active');[m[41m[m
[32m+[m[41m[m
[32m+[m[41m        [m
[32m+[m[41m[m
[32m+[m[32m        // If there is an <iframe> element in the tab, reload its content when the tab is made active.[m[41m[m
[32m+[m[32m        iframe = activeContent.find('iframe');[m[41m[m
[32m+[m[32m        if(iframe.length){[m[41m[m
[32m+[m[32m            iframe.attr('src', iframe.attr('src'));[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.tabs.activateTabById = function(id){[m[41m[m
[32m+[m[32m        if(id !== '' && id !== '#'){[m[41m[m
[32m+[m[32m            $('.tabs > li#'+id.replace('#', '')).click();[m[41m[m
[32m+[m[32m        }[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.tabs.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Toggle Class[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.toggleClass = mr.toggleClass || {};[m
[31m-    [m
[31m-    mr.toggleClass.documentReady = function($){[m
[31m-        $('[data-toggle-class]').each(function(){[m
[31m-        	var element = $(this),[m
[31m-                data    = element.attr('data-toggle-class').split("|");[m
[31m-        		[m
[31m-[m
[31m-            $(data).each(function(){[m
[31m-                var candidate     = element,[m
[31m-                    dataArray     = [],[m
[31m-            	    toggleClass   = '',[m
[31m-            	    toggleElement = '',[m
[31m-                    dataArray = this.split(";");[m
[31m-[m
[31m-            	if(dataArray.length === 2){[m
[31m-            		toggleElement = dataArray[0];[m
[31m-            		toggleClass   = dataArray[1];[m
[31m-            		$(candidate).on('click',function(){[m
[31m-                        if(!candidate.hasClass('toggled-class')){[m
[31m-                            candidate.toggleClass('toggled-class');[m
[31m-                        }else{[m
[31m-                            candidate.removeClass('toggled-class');[m
[31m-                        }[m
[31m-            			$(toggleElement).toggleClass(toggleClass);[m
[31m-            			return false;[m
[31m-            		});[m
[31m-            	}else{[m
[31m-            		console.log('Error in [data-toggle-class] attribute. This attribute accepts an element, or comma separated elements terminated witha ";" followed by a class name to toggle');[m
[31m-            	}[m
[31m-            });[m
[31m-        });[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReady.push(mr.toggleClass.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Toggle Class[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.toggleClass = mr.toggleClass || {};[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.toggleClass.documentReady = function($){[m[41m[m
[32m+[m[32m        $('[data-toggle-class]').each(function(){[m[41m[m
[32m+[m[41m        [m	[32mvar element = $(this),[m[41m[m
[32m+[m[32m                data    = element.attr('data-toggle-class').split("|");[m[41m[m
[32m+[m[41m        		[m
[32m+[m[41m[m
[32m+[m[32m            $(data).each(function(){[m[41m[m
[32m+[m[32m                var candidate     = element,[m[41m[m
[32m+[m[32m                    dataArray     = [],[m[41m[m
[32m+[m[41m            [m	[32m    toggleClass   = '',[m[41m[m
[32m+[m[41m            [m	[32m    toggleElement = '',[m[41m[m
[32m+[m[32m                    dataArray = this.split(";");[m[41m[m
[32m+[m[41m[m
[32m+[m[41m            [m	[32mif(dataArray.length === 2){[m[41m[m
[32m+[m[41m            [m		[32mtoggleElement = dataArray[0];[m[41m[m
[32m+[m[41m            [m		[32mtoggleClass   = dataArray[1];[m[41m[m
[32m+[m[41m            [m		[32m$(candidate).on('click',function(){[m[41m[m
[32m+[m[32m                        if(!candidate.hasClass('toggled-class')){[m[41m[m
[32m+[m[32m                            candidate.toggleClass('toggled-class');[m[41m[m
[32m+[m[32m                        }else{[m[41m[m
[32m+[m[32m                            candidate.removeClass('toggled-class');[m[41m[m
[32m+[m[32m                        }[m[41m[m
[32m+[m[41m            [m			[32m$(toggleElement).toggleClass(toggleClass);[m[41m[m
[32m+[m[41m            [m			[32mreturn false;[m[41m[m
[32m+[m[41m            [m		[32m});[m[41m[m
[32m+[m[41m            [m	[32m}else{[m[41m[m
[32m+[m[41m            [m		[32mconsole.log('Error in [data-toggle-class] attribute. This attribute accepts an element, or comma separated elements terminated witha ";" followed by a class name to toggle');[m[41m[m
[32m+[m[41m            [m	[32m}[m[41m[m
[32m+[m[32m            });[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.toggleClass.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Typed Headline Effect[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.typed = mr.typed || {};[m
[31m-    [m
[31m-[m
[31m-    mr.typed.documentReady = function($){[m
[31m-        $('.typed-text').each(function(){[m
[31m-            var text = $(this);[m
[31m-            var strings = text.attr("data-typed-strings") ? text.attr("data-typed-strings").split(",") : [],[m
[31m-                themeDefaults = {[m
[31m-                    strings: [],[m
[31m-                    typeSpeed: 100,[m
[31m-                    loop: true,[m
[31m-                    showCursor: false[m
[31m-                }, ao = {};[m
[31m-[m
[31m-            ao.strings = text.attr("data-typed-strings") ? text.attr("data-typed-strings").split(",") : undefined;[m
[31m-[m
[31m-            $(text).typed(jQuery.extend({}, themeDefaults, mr.typed.options, ao));[m
[31m-            [m
[31m-        });[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReady.push(mr.typed.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Typed Headline Effect[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.typed = mr.typed || {};[m[41m[m
[32m+[m[41m    [m
[32m+[m[41m[m
[32m+[m[32m    mr.typed.documentReady = function($){[m[41m[m
[32m+[m[32m        $('.typed-text').each(function(){[m[41m[m
[32m+[m[32m            var text = $(this);[m[41m[m
[32m+[m[32m            var strings = text.attr("data-typed-strings") ? text.attr("data-typed-strings").split(",") : [],[m[41m[m
[32m+[m[32m                themeDefaults = {[m[41m[m
[32m+[m[32m                    strings: [],[m[41m[m
[32m+[m[32m                    typeSpeed: 100,[m[41m[m
[32m+[m[32m                    loop: true,[m[41m[m
[32m+[m[32m                    showCursor: false[m[41m[m
[32m+[m[32m                }, ao = {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            ao.strings = text.attr("data-typed-strings") ? text.attr("data-typed-strings").split(",") : undefined;[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            $(text).typed(jQuery.extend({}, themeDefaults, mr.typed.options, ao));[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.typed.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Twitter Feeds[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.twitter = mr.twitter || {};[m
[31m-    mr.twitter.options = mr.twitter.options || {};[m
[31m-[m
[31m-    mr.twitter.documentReady = function($){[m
[31m-        $('.tweets-feed').each(function(index) {[m
[31m-            $(this).attr('id', 'tweets-' + index);[m
[31m-        }).each(function(index) {[m
[31m-            var element = $('#tweets-' + index);[m
[31m-            [m
[31m-            var TweetConfig = {[m
[31m-               "domId": '',[m
[31m-               "maxTweets": 6,[m
[31m-               "enableLinks": true,[m
[31m-               "showUser": true,[m
[31m-               "showTime": true,[m
[31m-               "dateFunction": '',[m
[31m-               "showRetweet": false,[m
[31m-               "customCallback": handleTweets[m
[31m-            };[m
[31m-[m
[31m-            TweetConfig = jQuery.extend(TweetConfig, mr.twitter.options);[m
[31m-           [m
[31m-[m
[31m-[m
[31m-            if(typeof element.attr('data-widget-id') !== typeof undefined){[m
[31m-                TweetConfig.id = element.attr('data-widget-id');[m
[31m-            }else if(typeof element.attr('data-feed-name') !== typeof undefined && element.attr('data-feed-name') !== ""){[m
[31m-                TweetConfig.profile = {"screenName": element.attr('data-feed-name').replace('@', '')};[m
[31m-            }else if(typeof mr.twitter.options.profile !== typeof undefined){[m
[31m-                TweetConfig.profile = {"screenName": mr.twitter.options.profile.replace('@', '')};[m
[31m-            }else{[m
[31m-                TweetConfig.profile = {"screenName": 'twitter'};[m
[31m-            }[m
[31m-[m
[31m-            TweetConfig.maxTweets = element.attr('data-amount') ? element.attr('data-amount'): TweetConfig.maxTweets; [m
[31m-[m
[31m-            if(element.closest('.twitter-feed--slider').length){[m
[31m-                element.addClass('slider');[m
[31m-            }[m
[31m-[m
[31m-            function handleTweets(tweets) {[m
[31m-                var x = tweets.length;[m
[31m-                var n = 0;[m
[31m-                var html = '<ul class="slides">';[m
[31m-                while (n < x) {[m
[31m-                    html += '<li>' + tweets[n] + '</li>';[m
[31m-                    n++;[m
[31m-                }[m
[31m-                html += '</ul>';[m
[31m-                element.html(html);[m
[31m-                [m
[31m-                // Initialize twitter feed slider[m
[31m-                if(element.closest('.slider').length){[m
[31m-                    mr.sliders.documentReady(mr.setContext());[m
[31m-                     [m
[31m-                    return html;[m
[31m-                }[m
[31m-            }[m
[31m-            twitterFetcher.fetch(TweetConfig);[m
[31m-        });[m
[31m-    };[m
[31m-[m
[31m-    mr.components.documentReady.push(mr.twitter.documentReady);[m
[31m-    return mr;[m
[31m-[m
[32m+[m[32m//////////////// Twitter Feeds[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.twitter = mr.twitter || {};[m[41m[m
[32m+[m[32m    mr.twitter.options = mr.twitter.options || {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.twitter.documentReady = function($){[m[41m[m
[32m+[m[32m        $('.tweets-feed').each(function(index) {[m[41m[m
[32m+[m[32m            $(this).attr('id', 'tweets-' + index);[m[41m[m
[32m+[m[32m        }).each(function(index) {[m[41m[m
[32m+[m[32m            var element = $('#tweets-' + index);[m[41m[m
[32m+[m[41m            [m
[32m+[m[32m            var TweetConfig = {[m[41m[m
[32m+[m[32m               "domId": '',[m[41m[m
[32m+[m[32m               "maxTweets": 6,[m[41m[m
[32m+[m[32m               "enableLinks": true,[m[41m[m
[32m+[m[32m               "showUser": true,[m[41m[m
[32m+[m[32m               "showTime": true,[m[41m[m
[32m+[m[32m               "dateFunction": '',[m[41m[m
[32m+[m[32m               "showRetweet": false,[m[41m[m
[32m+[m[32m               "customCallback": handleTweets[m[41m[m
[32m+[m[32m            };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            TweetConfig = jQuery.extend(TweetConfig, mr.twitter.options);[m[41m[m
[32m+[m[41m           [m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            if(typeof element.attr('data-widget-id') !== typeof undefined){[m[41m[m
[32m+[m[32m                TweetConfig.id = element.attr('data-widget-id');[m[41m[m
[32m+[m[32m            }else if(typeof element.attr('data-feed-name') !== typeof undefined && element.attr('data-feed-name') !== ""){[m[41m[m
[32m+[m[32m                TweetConfig.profile = {"screenName": element.attr('data-feed-name').replace('@', '')};[m[41m[m
[32m+[m[32m            }else if(typeof mr.twitter.options.profile !== typeof undefined){[m[41m[m
[32m+[m[32m                TweetConfig.profile = {"screenName": mr.twitter.options.profile.replace('@', '')};[m[41m[m
[32m+[m[32m            }else{[m[41m[m
[32m+[m[32m                TweetConfig.profile = {"screenName": 'twitter'};[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            TweetConfig.maxTweets = element.attr('data-amount') ? element.attr('data-amount'): TweetConfig.maxTweets;[m[41m [m
[32m+[m[41m[m
[32m+[m[32m            if(element.closest('.twitter-feed--slider').length){[m[41m[m
[32m+[m[32m                element.addClass('slider');[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            function handleTweets(tweets) {[m[41m[m
[32m+[m[32m                var x = tweets.length;[m[41m[m
[32m+[m[32m                var n = 0;[m[41m[m
[32m+[m[32m                var html = '<ul class="slides">';[m[41m[m
[32m+[m[32m                while (n < x) {[m[41m[m
[32m+[m[32m                    html += '<li>' + tweets[n] + '</li>';[m[41m[m
[32m+[m[32m                    n++;[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m                html += '</ul>';[m[41m[m
[32m+[m[32m                element.html(html);[m[41m[m
[32m+[m[41m                [m
[32m+[m[32m                // Initialize twitter feed slider[m[41m[m
[32m+[m[32m                if(element.closest('.slider').length){[m[41m[m
[32m+[m[32m                    mr.sliders.documentReady(mr.setContext());[m[41m[m
[32m+[m[41m                     [m
[32m+[m[32m                    return html;[m[41m[m
[32m+[m[32m                }[m[41m[m
[32m+[m[32m            }[m[41m[m
[32m+[m[32m            twitterFetcher.fetch(TweetConfig);[m[41m[m
[32m+[m[32m        });[m[41m[m
[32m+[m[32m    };[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    mr.components.documentReady.push(mr.twitter.documentReady);[m[41m[m
[32m+[m[32m    return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Video[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.video = mr.video || {};[m
[31m-    mr.video.options = mr.video.options || {};[m
[31m-    mr.video.options.ytplayer = mr.video.options.ytplayer || {};[m
[31m-    [m
[31m-	  mr.video.documentReady = function($){[m
[31m-	      [m
[31m-			//////////////// Youtube Background[m
[31m-[m
[31m-			if($('.youtube-background').length){[m
[31m-				$('.youtube-background').each(function(){[m
[31m-[m
[31m-[m
[31m-					var player = $(this),[m
[31m-					[m
[31m-					themeDefaults = {[m
[31m-						containment: "self",[m
[31m-						autoPlay: true,[m
[31m-						mute: true,[m
[31m-						opacity: 1[m
[31m-					}, ao = {};[m
[31m-[m
[31m-          // Attribute overrides - provides overrides to the global options on a per-video basis[m
[31m-					ao.videoURL = $(this).attr('data-video-url');[m
[31m-					ao.startAt = $(this).attr('data-start-at')? parseInt($(this).attr('data-start-at'), 10): undefined;[m
[31m-[m
[31m-[m
[31m-					player.closest('.videobg').append('<div class="loading-indicator"></div>');[m
[31m-					player.YTPlayer(jQuery.extend({}, themeDefaults, mr.video.options.ytplayer, ao));[m
[31m-					player.on("YTPStart",function(){[m
[31m-				  		player.closest('.videobg').addClass('video-active');[m
[31m-					});	[m
[31m-[m
[31m-				});[m
[31m-			}[m
[31m-[m
[31m-			if($('.videobg').find('video').length){[m
[31m-				$('.videobg').find('video').closest('.videobg').addClass('video-active');[m
[31m-			} [m
[31m-[m
[31m-			//////////////// Video Cover Play Icons[m
[31m-[m
[31m-			$('.video-cover').each(function(){[m
[31m-			    var videoCover = $(this);[m
[31m-			    if(videoCover.find('iframe[src]').length){[m
[31m-			        videoCover.find('iframe').attr('data-src', videoCover.find('iframe').attr('src'));[m
[31m-			        videoCover.find('iframe').attr('src','');[m
[31m-			    }[m
[31m-			});[m
[31m-[m
[31m-			$('.video-cover .video-play-icon').on("click", function(){[m
[31m-			    var playIcon = $(this);[m
[31m-			    var videoCover = playIcon.closest('.video-cover');[m
[31m-			    if(videoCover.find('video').length){[m
[31m-			        var video = videoCover.find('video').get(0);[m
[31m-			        videoCover.addClass('reveal-video');[m
[31m-			        video.play();[m
[31m-			        return false;[m
[31m-			    }else if(videoCover.find('iframe').length){[m
[31m-			        var iframe = videoCover.find('iframe');[m
[31m-			        iframe.attr('src',iframe.attr('data-src'));[m
[31m-			        videoCover.addClass('reveal-video');[m
[31m-			        return false;[m
[31m-			    }[m
[31m-			});[m
[31m-	  };[m
[31m-[m
[31m-	  mr.components.documentReady.push(mr.video.documentReady);[m
[31m-	  return mr;[m
[31m-[m
[32m+[m[32m//////////////// Video[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.video = mr.video || {};[m[41m[m
[32m+[m[32m    mr.video.options = mr.video.options || {};[m[41m[m
[32m+[m[32m    mr.video.options.ytplayer = mr.video.options.ytplayer || {};[m[41m[m
[32m+[m[41m    [m
[32m+[m	[32m  mr.video.documentReady = function($){[m[41m[m
[32m+[m[41m	      [m
[32m+[m			[32m//////////////// Youtube Background[m[41m[m
[32m+[m[41m[m
[32m+[m			[32mif($('.youtube-background').length){[m[41m[m
[32m+[m				[32m$('.youtube-background').each(function(){[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m					[32mvar player = $(this),[m[41m[m
[32m+[m[41m					[m
[32m+[m					[32mthemeDefaults = {[m[41m[m
[32m+[m						[32mcontainment: "self",[m[41m[m
[32m+[m						[32mautoPlay: true,[m[41m[m
[32m+[m						[32mmute: true,[m[41m[m
[32m+[m						[32mopacity: 1[m[41m[m
[32m+[m					[32m}, ao = {};[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          // Attribute overrides - provides overrides to the global options on a per-video basis[m[41m[m
[32m+[m					[32mao.videoURL = $(this).attr('data-video-url');[m[41m[m
[32m+[m					[32mao.startAt = $(this).attr('data-start-at')? parseInt($(this).attr('data-start-at'), 10): undefined;[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m					[32mplayer.closest('.videobg').append('<div class="loading-indicator"></div>');[m[41m[m
[32m+[m					[32mplayer.YTPlayer(jQuery.extend({}, themeDefaults, mr.video.options.ytplayer, ao));[m[41m[m
[32m+[m					[32mplayer.on("YTPStart",function(){[m[41m[m
[32m+[m				[41m  [m		[32mplayer.closest('.videobg').addClass('video-active');[m[41m[m
[32m+[m					[32m});[m[41m	[m
[32m+[m[41m[m
[32m+[m				[32m});[m[41m[m
[32m+[m			[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m			[32mif($('.videobg').find('video').length){[m[41m[m
[32m+[m				[32m$('.videobg').find('video').closest('.videobg').addClass('video-active');[m[41m[m
[32m+[m			[32m}[m[41m [m
[32m+[m[41m[m
[32m+[m			[32m//////////////// Video Cover Play Icons[m[41m[m
[32m+[m[41m[m
[32m+[m			[32m$('.video-cover').each(function(){[m[41m[m
[32m+[m			[32m    var videoCover = $(this);[m[41m[m
[32m+[m			[32m    if(videoCover.find('iframe[src]').length){[m[41m[m
[32m+[m			[32m        videoCover.find('iframe').attr('data-src', videoCover.find('iframe').attr('src'));[m[41m[m
[32m+[m			[32m        videoCover.find('iframe').attr('src','');[m[41m[m
[32m+[m			[32m    }[m[41m[m
[32m+[m			[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m			[32m$('.video-cover .video-play-icon').on("click", function(){[m[41m[m
[32m+[m			[32m    var playIcon = $(this);[m[41m[m
[32m+[m			[32m    var videoCover = playIcon.closest('.video-cover');[m[41m[m
[32m+[m			[32m    if(videoCover.find('video').length){[m[41m[m
[32m+[m			[32m        var video = videoCover.find('video').get(0);[m[41m[m
[32m+[m			[32m        videoCover.addClass('reveal-video');[m[41m[m
[32m+[m			[32m        video.play();[m[41m[m
[32m+[m			[32m        return false;[m[41m[m
[32m+[m			[32m    }else if(videoCover.find('iframe').length){[m[41m[m
[32m+[m			[32m        var iframe = videoCover.find('iframe');[m[41m[m
[32m+[m			[32m        iframe.attr('src',iframe.attr('data-src'));[m[41m[m
[32m+[m			[32m        videoCover.addClass('reveal-video');[m[41m[m
[32m+[m			[32m        return false;[m[41m[m
[32m+[m			[32m    }[m[41m[m
[32m+[m			[32m});[m[41m[m
[32m+[m	[32m  };[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m  mr.components.documentReady.push(mr.video.documentReady);[m[41m[m
[32m+[m	[32m  return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
 [m
[31m-//////////////// Wizard[m
[31m-mr = (function (mr, $, window, document){[m
[31m-    "use strict";[m
[31m-    [m
[31m-    mr.wizard = mr.wizard || {};[m
[31m-[m
[31m-	  mr.wizard.documentReady = function($){[m
[31m-[m
[31m-			$('.wizard').each(function(){[m
[31m-				var wizard = jQuery(this), themeDefaults = {};[m
[31m- [m
[31m-        themeDefaults = {[m
[31m-					headerTag: "h5",[m
[31m-				  bodyTag: "section",[m
[31m-					transitionEffect: "slideLeft",[m
[31m-					autoFocus: true[m
[31m-				}      [m
[31m-				[m
[31m-[m
[31m-				if(!wizard.is('[role="application"][id^="steps-uid"]')){  	[m
[31m-						wizard.steps(jQuery.extend({}, themeDefaults, mr.wizard.options));[m
[31m-		[m
[31m-		   	    wizard.addClass('active');[m
[31m-		    }[m
[31m-				[m
[31m-		  });[m
[31m-		};[m
[31m-[m
[31m-	  mr.components.documentReady.push(mr.wizard.documentReady);[m
[31m-	  return mr;[m
[31m-[m
[32m+[m[32m//////////////// Wizard[m[41m[m
[32m+[m[32mmr = (function (mr, $, window, document){[m[41m[m
[32m+[m[32m    "use strict";[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    mr.wizard = mr.wizard || {};[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m  mr.wizard.documentReady = function($){[m[41m[m
[32m+[m[41m[m
[32m+[m			[32m$('.wizard').each(function(){[m[41m[m
[32m+[m				[32mvar wizard = jQuery(this), themeDefaults = {};[m[41m[m
[32m+[m[41m [m
[32m+[m[32m        themeDefaults = {[m[41m[m
[32m+[m					[32mheaderTag: "h5",[m[41m[m
[32m+[m				[32m  bodyTag: "section",[m[41m[m
[32m+[m					[32mtransitionEffect: "slideLeft",[m[41m[m
[32m+[m					[32mautoFocus: true[m[41m[m
[32m+[m				[32m}[m[41m      [m
[32m+[m[41m				[m
[32m+[m[41m[m
[32m+[m				[32mif(!wizard.is('[role="application"][id^="steps-uid"]')){[m[41m  	[m
[32m+[m						[32mwizard.steps(jQuery.extend({}, themeDefaults, mr.wizard.options));[m[41m[m
[32m+[m[41m		[m
[32m+[m		[41m   [m	[32m    wizard.addClass('active');[m[41m[m
[32m+[m		[32m    }[m[41m[m
[32m+[m[41m				[m
[32m+[m		[32m  });[m[41m[m
[32m+[m		[32m};[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m  mr.components.documentReady.push(mr.wizard.documentReady);[m[41m[m
[32m+[m	[32m  return mr;[m[41m[m
[32m+[m[41m[m
 }(mr, jQuery, window, document));[m
\ No newline at end of file[m
[1mdiff --git a/app/assets/javascripts/twitterfetcher.min.js b/app/assets/javascripts/twitterfetcher.min.js[m
[1mindex d9d1a8c..6ba9f18 100644[m
[1m--- a/app/assets/javascripts/twitterfetcher.min.js[m
[1m+++ b/app/assets/javascripts/twitterfetcher.min.js[m
[36m@@ -1,63 +1,63 @@[m
[31m-/*********************************************************************[m
[31m-*  #### Twitter Post Fetcher v17.0.0 ####[m
[31m-*  Coded by Jason Mayes 2015. A present to all the developers out there.[m
[31m-*  www.jasonmayes.com[m
[31m-*  Please keep this disclaimer with my code if you use it. Thanks. :-)[m
[31m-*  Got feedback or questions, ask here:[m
[31m-*  http://www.jasonmayes.com/projects/twitterApi/[m
[31m-*  Github: https://github.com/jasonmayes/Twitter-Post-Fetcher[m
[31m-*  Updates will be posted to this site.[m
[31m-*********************************************************************/[m
[31m-(function(root,factory){if(typeof define==='function'&&define.amd){define([],factory);}else if(typeof exports==='object'){module.exports=factory();}else{factory();}}(this,function(){var domNode='';var maxTweets=20;var parseLinks=true;var queue=[];var inProgress=false;var printTime=true;var printUser=true;var formatterFunction=null;var supportsClassName=true;var showRts=true;var customCallbackFunction=null;var showInteractionLinks=true;var showImages=false;var targetBlank=true;var lang='en';var permalinks=true;var dataOnly=false;var script=null;var scriptAdded=false;function handleTweets(tweets){if(customCallbackFunction===null){var x=tweets.length;var n=0;var element=document.getElementById(domNode);var html='<ul>';while(n<x){html+='<li>'+tweets[n]+'</li>';n++;}[m
[31m-html+='</ul>';element.innerHTML=html;}else{customCallbackFunction(tweets);}}[m
[31m-function strip(data){return data.replace(/<b[^>]*>(.*?)<\/b>/gi,function(a,s){return s;}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,'');}[m
[31m-function targetLinksToNewWindow(el){var links=el.getElementsByTagName('a');for(var i=links.length-1;i>=0;i--){links[i].setAttribute('target','_blank');}}[m
[31m-function getElementsByClassName(node,classname){var a=[];var regex=new RegExp('(^| )'+classname+'( |$)');var elems=node.getElementsByTagName('*');for(var i=0,j=elems.length;i<j;i++){if(regex.test(elems[i].className)){a.push(elems[i]);}}[m
[31m-return a;}[m
[31m-function extractImageUrl(image_data){if(image_data!==undefined&&image_data.innerHTML.indexOf('data-srcset')>=0){var data_src=image_data.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(data_src).split('"')[1];}}[m
[31m-var twitterFetcher={fetch:function(config){if(config.maxTweets===undefined){config.maxTweets=20;}[m
[31m-if(config.enableLinks===undefined){config.enableLinks=true;}[m
[31m-if(config.showUser===undefined){config.showUser=true;}[m
[31m-if(config.showTime===undefined){config.showTime=true;}[m
[31m-if(config.dateFunction===undefined){config.dateFunction='default';}[m
[31m-if(config.showRetweet===undefined){config.showRetweet=true;}[m
[31m-if(config.customCallback===undefined){config.customCallback=null;}[m
[31m-if(config.showInteraction===undefined){config.showInteraction=true;}[m
[31m-if(config.showImages===undefined){config.showImages=false;}[m
[31m-if(config.linksInNewWindow===undefined){config.linksInNewWindow=true;}[m
[31m-if(config.showPermalinks===undefined){config.showPermalinks=true;}[m
[31m-if(config.dataOnly===undefined){config.dataOnly=false;}[m
[31m-if(inProgress){queue.push(config);}else{inProgress=true;domNode=config.domId;maxTweets=config.maxTweets;parseLinks=config.enableLinks;printUser=config.showUser;printTime=config.showTime;showRts=config.showRetweet;formatterFunction=config.dateFunction;customCallbackFunction=config.customCallback;showInteractionLinks=config.showInteraction;showImages=config.showImages;targetBlank=config.linksInNewWindow;permalinks=config.showPermalinks;dataOnly=config.dataOnly;var head=document.getElementsByTagName('head')[0];if(script!==null){head.removeChild(script);}[m
[31m-script=document.createElement('script');script.type='text/javascript';if(config.list!==undefined){script.src='https://syndication.twitter.com/timeline/list?'+'callback=__twttrf.callback&dnt=false&list_slug='+[m
[31m-config.list.listSlug+'&screen_name='+config.list.screenName+'&suppress_response_codes=true&lang='+(config.lang||lang)+'&rnd='+Math.random();}else if(config.profile!==undefined){script.src='https://syndication.twitter.com/timeline/profile?'+'callback=__twttrf.callback&dnt=false'+'&screen_name='+config.profile.screenName+'&suppress_response_codes=true&lang='+(config.lang||lang)+'&rnd='+Math.random();}else if(config.likes!==undefined){script.src='https://syndication.twitter.com/timeline/likes?'+'callback=__twttrf.callback&dnt=false'+'&screen_name='+config.likes.screenName+'&suppress_response_codes=true&lang='+(config.lang||lang)+'&rnd='+Math.random();}else{script.src='https://cdn.syndication.twimg.com/widgets/timelines/'+[m
[31m-config.id+'?&lang='+(config.lang||lang)+'&callback=__twttrf.callback&'+'suppress_response_codes=true&rnd='+Math.random();}[m
[31m-head.appendChild(script);}},callback:function(data){if(data===undefined||data.body===undefined){inProgress=false;if(queue.length>0){twitterFetcher.fetch(queue[0]);queue.splice(0,1);}[m
[31m-return;}[m
[31m-data.body=data.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g,'');if(!showImages){data.body=data.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g,'');}[m
[31m-if(!printUser){data.body=data.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g,'');}[m
[31m-var div=document.createElement('div');div.innerHTML=data.body;if(typeof(div.getElementsByClassName)==='undefined'){supportsClassName=false;}[m
[31m-function swapDataSrc(element){var avatarImg=element.getElementsByTagName('img')[0];avatarImg.src=avatarImg.getAttribute('data-src-2x');return element;}[m
[31m-var tweets=[];var authors=[];var times=[];var images=[];var rts=[];var tids=[];var permalinksURL=[];var x=0;if(supportsClassName){var tmp=div.getElementsByClassName('timeline-Tweet');while(x<tmp.length){if(tmp[x].getElementsByClassName('timeline-Tweet-retweetCredit').length>0){rts.push(true);}else{rts.push(false);}[m
[31m-if(!rts[x]||rts[x]&&showRts){tweets.push(tmp[x].getElementsByClassName('timeline-Tweet-text')[0]);tids.push(tmp[x].getAttribute('data-tweet-id'));if(printUser){authors.push(swapDataSrc(tmp[x].getElementsByClassName('timeline-Tweet-author')[0]));}[m
[31m-times.push(tmp[x].getElementsByClassName('dt-updated')[0]);permalinksURL.push(tmp[x].getElementsByClassName('timeline-Tweet-timestamp')[0]);if(tmp[x].getElementsByClassName('timeline-Tweet-media')[0]!==undefined){images.push(tmp[x].getElementsByClassName('timeline-Tweet-media')[0]);}else{images.push(undefined);}}[m
[31m-x++;}}else{var tmp=getElementsByClassName(div,'timeline-Tweet');while(x<tmp.length){if(getElementsByClassName(tmp[x],'timeline-Tweet-retweetCredit').length>0){rts.push(true);}else{rts.push(false);}[m
[31m-if(!rts[x]||rts[x]&&showRts){tweets.push(getElementsByClassName(tmp[x],'timeline-Tweet-text')[0]);tids.push(tmp[x].getAttribute('data-tweet-id'));if(printUser){authors.push(swapDataSrc(getElementsByClassName(tmp[x],'timeline-Tweet-author')[0]));}[m
[31m-times.push(getElementsByClassName(tmp[x],'dt-updated')[0]);permalinksURL.push(getElementsByClassName(tmp[x],'timeline-Tweet-timestamp')[0]);if(getElementsByClassName(tmp[x],'timeline-Tweet-media')[0]!==undefined){images.push(getElementsByClassName(tmp[x],'timeline-Tweet-media')[0]);}else{images.push(undefined);}}[m
[31m-x++;}}[m
[31m-if(tweets.length>maxTweets){tweets.splice(maxTweets,(tweets.length-maxTweets));authors.splice(maxTweets,(authors.length-maxTweets));times.splice(maxTweets,(times.length-maxTweets));rts.splice(maxTweets,(rts.length-maxTweets));images.splice(maxTweets,(images.length-maxTweets));permalinksURL.splice(maxTweets,(permalinksURL.length-maxTweets));}[m
[31m-var arrayTweets=[];var x=tweets.length;var n=0;if(dataOnly){while(n<x){arrayTweets.push({tweet:tweets[n].innerHTML,author:authors[n]?authors[n].innerHTML:'Unknown Author',time:times[n].textContent,timestamp:times[n].getAttribute('datetime').replace('+0000','Z').replace(/([\+\-])(\d\d)(\d\d)/,'$1$2:$3'),image:extractImageUrl(images[n]),rt:rts[n],tid:tids[n],permalinkURL:(permalinksURL[n]===undefined)?'':permalinksURL[n].href});n++;}}else{while(n<x){if(typeof(formatterFunction)!=='string'){var datetimeText=times[n].getAttribute('datetime');var newDate=new Date(times[n].getAttribute('datetime').replace(/-/g,'/').replace('T',' ').split('+')[0]);var dateString=formatterFunction(newDate,datetimeText);times[n].setAttribute('aria-label',dateString);if(tweets[n].textContent){if(supportsClassName){times[n].textContent=dateString;}else{var h=document.createElement('p');var t=document.createTextNode(dateString);h.appendChild(t);h.setAttribute('aria-label',dateString);times[n]=h;}}else{times[n].textContent=dateString;}}[m
[31m-var op='';if(parseLinks){if(targetBlank){targetLinksToNewWindow(tweets[n]);if(printUser){targetLinksToNewWindow(authors[n]);}}[m
[31m-if(printUser){op+='<div class="user">'+strip(authors[n].innerHTML)+'</div>';}[m
[31m-op+='<p class="tweet">'+strip(tweets[n].innerHTML)+'</p>';if(printTime){if(permalinks){op+='<p class="timePosted"><a href="'+permalinksURL[n]+'">'+times[n].getAttribute('aria-label')+'</a></p>';}else{op+='<p class="timePosted">'+[m
[31m-times[n].getAttribute('aria-label')+'</p>';}}}else{if(tweets[n].textContent){if(printUser){op+='<p class="user">'+authors[n].textContent+'</p>';}[m
[31m-op+='<p class="tweet">'+tweets[n].textContent+'</p>';if(printTime){op+='<p class="timePosted">'+times[n].textContent+'</p>';}}else{if(printUser){op+='<p class="user">'+authors[n].textContent+'</p>';}[m
[31m-op+='<p class="tweet">'+tweets[n].textContent+'</p>';if(printTime){op+='<p class="timePosted">'+times[n].textContent+'</p>';}}}[m
[31m-if(showInteractionLinks){op+='<p class="interact"><a href="https://twitter.com/intent/'+'tweet?in_reply_to='+tids[n]+'" class="twitter_reply_icon"'+[m
[31m-(targetBlank?' target="_blank">':'>')+'Reply</a><a href="https://twitter.com/intent/retweet?'+'tweet_id='+tids[n]+'" class="twitter_retweet_icon"'+[m
[31m-(targetBlank?' target="_blank">':'>')+'Retweet</a>'+'<a href="https://twitter.com/intent/favorite?tweet_id='+[m
[31m-tids[n]+'" class="twitter_fav_icon"'+[m
[31m-(targetBlank?' target="_blank">':'>')+'Favorite</a></p>';}[m
[31m-if(showImages&&images[n]!==undefined&&extractImageUrl(images[n])!==undefined){op+='<div class="media">'+'<img src="'+extractImageUrl(images[n])+'" alt="Image from tweet" />'+'</div>';}[m
[31m-if(showImages){arrayTweets.push(op);}else if(!showImages&&tweets[n].textContent.length){arrayTweets.push(op);}[m
[31m-n++;}}[m
[32m+[m[32m/*********************************************************************[m[41m[m
[32m+[m[32m*  #### Twitter Post Fetcher v17.0.0 ####[m[41m[m
[32m+[m[32m*  Coded by Jason Mayes 2015. A present to all the developers out there.[m[41m[m
[32m+[m[32m*  www.jasonmayes.com[m[41m[m
[32m+[m[32m*  Please keep this disclaimer with my code if you use it. Thanks. :-)[m[41m[m
[32m+[m[32m*  Got feedback or questions, ask here:[m[41m[m
[32m+[m[32m*  http://www.jasonmayes.com/projects/twitterApi/[m[41m[m
[32m+[m[32m*  Github: https://github.com/jasonmayes/Twitter-Post-Fetcher[m[41m[m
[32m+[m[32m*  Updates will be posted to this site.[m[41m[m
[32m+[m[32m*********************************************************************/[m[41m[m
[32m+[m[32m(function(root,factory){if(typeof define==='function'&&define.amd){define([],factory);}else if(typeof exports==='object'){module.exports=factory();}else{factory();}}(this,function(){var domNode='';var maxTweets=20;var parseLinks=true;var queue=[];var inProgress=false;var printTime=true;var printUser=true;var formatterFunction=null;var supportsClassName=true;var showRts=true;var customCallbackFunction=null;var showInteractionLinks=true;var showImages=false;var targetBlank=true;var lang='en';var permalinks=true;var dataOnly=false;var script=null;var scriptAdded=false;function handleTweets(tweets){if(customCallbackFunction===null){var x=tweets.length;var n=0;var element=document.getElementById(domNode);var html='<ul>';while(n<x){html+='<li>'+tweets[n]+'</li>';n++;}[m[41m[m
[32m+[m[32mhtml+='</ul>';element.innerHTML=html;}else{customCallbackFunction(tweets);}}[m[41m[m
[32m+[m[32mfunction strip(data){return data.replace(/<b[^>]*>(.*?)<\/b>/gi,function(a,s){return s;}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,'');}[m[41m[m
[32m+[m[32mfunction targetLinksToNewWindow(el){var links=el.getElementsByTagName('a');for(var i=links.length-1;i>=0;i--){links[i].setAttribute('target','_blank');}}[m[41m[m
[32m+[m[32mfunction getElementsByClassName(node,classname){var a=[];var regex=new RegExp('(^| )'+classname+'( |$)');var elems=node.getElementsByTagName('*');for(var i=0,j=elems.length;i<j;i++){if(regex.test(elems[i].className)){a.push(elems[i]);}}[m[41m[m
[32m+[m[32mreturn a;}[m[41m[m
[32m+[m[32mfunction extractImageUrl(image_data){if(image_data!==undefined&&image_data.innerHTML.indexOf('data-srcset')>=0){var data_src=image_data.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(data_src).split('"')[1];}}[m[41m[m
[32m+[m[32mvar twitterFetcher={fetch:function(config){if(config.maxTweets===undefined){config.maxTweets=20;}[m[41m[m
[32m+[m[32mif(config.enableLinks===undefined){config.enableLinks=true;}[m[41m[m
[32m+[m[32mif(config.showUser===undefined){config.showUser=true;}[m[41m[m
[32m+[m[32mif(config.showTime===undefined){config.showTime=true;}[m[41m[m
[32m+[m[32mif(config.dateFunction===undefined){config.dateFunction='default';}[m[41m[m
[32m+[m[32mif(config.showRetweet===undefined){config.showRetweet=true;}[m[41m[m
[32m+[m[32mif(config.customCallback===undefined){config.customCallback=null;}[m[41m[m
[32m+[m[32mif(config.showInteraction===undefined){config.showInteraction=true;}[m[41m[m
[32m+[m[32mif(config.showImages===undefined){config.showImages=false;}[m[41m[m
[32m+[m[32mif(config.linksInNewWindow===undefined){config.linksInNewWindow=true;}[m[41m[m
[32m+[m[32mif(config.showPermalinks===undefined){config.showPermalinks=true;}[m[41m[m
[32m+[m[32mif(config.dataOnly===undefined){config.dataOnly=false;}[m[41m[m
[32m+[m[32mif(inProgress){queue.push(config);}else{inProgress=true;domNode=config.domId;maxTweets=config.maxTweets;parseLinks=config.enableLinks;printUser=config.showUser;printTime=config.showTime;showRts=config.showRetweet;formatterFunction=config.dateFunction;customCallbackFunction=config.customCallback;showInteractionLinks=config.showInteraction;showImages=config.showImages;targetBlank=config.linksInNewWindow;permalinks=config.showPermalinks;dataOnly=config.dataOnly;var head=document.getElementsByTagName('head')[0];if(script!==null){head.removeChild(script);}[m[41m[m
[32m+[m[32mscript=document.createElement('script');script.type='text/javascript';if(config.list!==undefined){script.src='https://syndication.twitter.com/timeline/list?'+'callback=__twttrf.callback&dnt=false&list_slug='+[m[41m[m
[32m+[m[32mconfig.list.listSlug+'&screen_name='+config.list.screenName+'&suppress_response_codes=true&lang='+(config.lang||lang)+'&rnd='+Math.random();}else if(config.profile!==undefined){script.src='https://syndication.twitter.com/timeline/profile?'+'callback=__twttrf.callback&dnt=false'+'&screen_name='+config.profile.screenName+'&suppress_response_codes=true&lang='+(config.lang||lang)+'&rnd='+Math.random();}else if(config.likes!==undefined){script.src='https://syndication.twitter.com/timeline/likes?'+'callback=__twttrf.callback&dnt=false'+'&screen_name='+config.likes.screenName+'&suppress_response_codes=true&lang='+(config.lang||lang)+'&rnd='+Math.random();}else{script.src='https://cdn.syndication.twimg.com/widgets/timelines/'+[m[41m[m
[32m+[m[32mconfig.id+'?&lang='+(config.lang||lang)+'&callback=__twttrf.callback&'+'suppress_response_codes=true&rnd='+Math.random();}[m[41m[m
[32m+[m[32mhead.appendChild(script);}},callback:function(data){if(data===undefined||data.body===undefined){inProgress=false;if(queue.length>0){twitterFetcher.fetch(queue[0]);queue.splice(0,1);}[m[41m[m
[32m+[m[32mreturn;}[m[41m[m
[32m+[m[32mdata.body=data.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g,'');if(!showImages){data.body=data.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g,'');}[m[41m[m
[32m+[m[32mif(!printUser){data.body=data.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g,'');}[m[41m[m
[32m+[m[32mvar div=document.createElement('div');div.innerHTML=data.body;if(typeof(div.getElementsByClassName)==='undefined'){supportsClassName=false;}[m[41m[m
[32m+[m[32mfunction swapDataSrc(element){var avatarImg=element.getElementsByTagName('img')[0];avatarImg.src=avatarImg.getAttribute('data-src-2x');return element;}[m[41m[m
[32m+[m[32mvar tweets=[];var authors=[];var times=[];var images=[];var rts=[];var tids=[];var permalinksURL=[];var x=0;if(supportsClassName){var tmp=div.getElementsByClassName('timeline-Tweet');while(x<tmp.length){if(tmp[x].getElementsByClassName('timeline-Tweet-retweetCredit').length>0){rts.push(true);}else{rts.push(false);}[m[41m[m
[32m+[m[32mif(!rts[x]||rts[x]&&showRts){tweets.push(tmp[x].getElementsByClassName('timeline-Tweet-text')[0]);tids.push(tmp[x].getAttribute('data-tweet-id'));if(printUser){authors.push(swapDataSrc(tmp[x].getElementsByClassName('timeline-Tweet-author')[0]));}[m[41m[m
[32m+[m[32mtimes.push(tmp[x].getElementsByClassName('dt-updated')[0]);permalinksURL.push(tmp[x].getElementsByClassName('timeline-Tweet-timestamp')[0]);if(tmp[x].getElementsByClassName('timeline-Tweet-media')[0]!==undefined){images.push(tmp[x].getElementsByClassName('timeline-Tweet-media')[0]);}else{images.push(undefined);}}[m[41m[m
[32m+[m[32mx++;}}else{var tmp=getElementsByClassName(div,'timeline-Tweet');while(x<tmp.length){if(getElementsByClassName(tmp[x],'timeline-Tweet-retweetCredit').length>0){rts.push(true);}else{rts.push(false);}[m[41m[m
[32m+[m[32mif(!rts[x]||rts[x]&&showRts){tweets.push(getElementsByClassName(tmp[x],'timeline-Tweet-text')[0]);tids.push(tmp[x].getAttribute('data-tweet-id'));if(printUser){authors.push(swapDataSrc(getElementsByClassName(tmp[x],'timeline-Tweet-author')[0]));}[m[41m[m
[32m+[m[32mtimes.push(getElementsByClassName(tmp[x],'dt-updated')[0]);permalinksURL.push(getElementsByClassName(tmp[x],'timeline-Tweet-timestamp')[0]);if(getElementsByClassName(tmp[x],'timeline-Tweet-media')[0]!==undefined){images.push(getElementsByClassName(tmp[x],'timeline-Tweet-media')[0]);}else{images.push(undefined);}}[m[41m[m
[32m+[m[32mx++;}}[m[41m[m
[32m+[m[32mif(tweets.length>maxTweets){tweets.splice(maxTweets,(tweets.length-maxTweets));authors.splice(maxTweets,(authors.length-maxTweets));times.splice(maxTweets,(times.length-maxTweets));rts.splice(maxTweets,(rts.length-maxTweets));images.splice(maxTweets,(images.length-maxTweets));permalinksURL.splice(maxTweets,(permalinksURL.length-maxTweets));}[m[41m[m
[32m+[m[32mvar arrayTweets=[];var x=tweets.length;var n=0;if(dataOnly){while(n<x){arrayTweets.push({tweet:tweets[n].innerHTML,author:authors[n]?authors[n].innerHTML:'Unknown Author',time:times[n].textContent,timestamp:times[n].getAttribute('datetime').replace('+0000','Z').replace(/([\+\-])(\d\d)(\d\d)/,'$1$2:$3'),image:extractImageUrl(images[n]),rt:rts[n],tid:tids[n],permalinkURL:(permalinksURL[n]===undefined)?'':permalinksURL[n].href});n++;}}else{while(n<x){if(typeof(formatterFunction)!=='string'){var datetimeText=times[n].getAttribute('datetime');var newDate=new Date(times[n].getAttribute('datetime').replace(/-/g,'/').replace('T',' ').split('+')[0]);var dateString=formatterFunction(newDate,datetimeText);times[n].setAttribute('aria-label',dateString);if(tweets[n].textContent){if(supportsClassName){times[n].textContent=dateString;}else{var h=document.createElement('p');var t=document.createTextNode(dateString);h.appendChild(t);h.setAttribute('aria-label',dateString);times[n]=h;}}else{times[n].textContent=dateString;}}[m[41m[m
[32m+[m[32mvar op='';if(parseLinks){if(targetBlank){targetLinksToNewWindow(tweets[n]);if(printUser){targetLinksToNewWindow(authors[n]);}}[m[41m[m
[32m+[m[32mif(printUser){op+='<div class="user">'+strip(authors[n].innerHTML)+'</div>';}[m[41m[m
[32m+[m[32mop+='<p class="tweet">'+strip(tweets[n].innerHTML)+'</p>';if(printTime){if(permalinks){op+='<p class="timePosted"><a href="'+permalinksURL[n]+'">'+times[n].getAttribute('aria-label')+'</a></p>';}else{op+='<p class="timePosted">'+[m[41m[m
[32m+[m[32mtimes[n].getAttribute('aria-label')+'</p>';}}}else{if(tweets[n].textContent){if(printUser){op+='<p class="user">'+authors[n].textContent+'</p>';}[m[41m[m
[32m+[m[32mop+='<p class="tweet">'+tweets[n].textContent+'</p>';if(printTime){op+='<p class="timePosted">'+times[n].textContent+'</p>';}}else{if(printUser){op+='<p class="user">'+authors[n].textContent+'</p>';}[m[41m[m
[32m+[m[32mop+='<p class="tweet">'+tweets[n].textContent+'</p>';if(printTime){op+='<p class="timePosted">'+times[n].textContent+'</p>';}}}[m[41m[m
[32m+[m[32mif(showInteractionLinks){op+='<p class="interact"><a href="https://twitter.com/intent/'+'tweet?in_reply_to='+tids[n]+'" class="twitter_reply_icon"'+[m[41m[m
[32m+[m[32m(targetBlank?' target="_blank">':'>')+'Reply</a><a href="https://twitter.com/intent/retweet?'+'tweet_id='+tids[n]+'" class="twitter_retweet_icon"'+[m[41m[m
[32m+[m[32m(targetBlank?' target="_blank">':'>')+'Retweet</a>'+'<a href="https://twitter.com/intent/favorite?tweet_id='+[m[41m[m
[32m+[m[32mtids[n]+'" class="twitter_fav_icon"'+[m[41m[m
[32m+[m[32m(targetBlank?' target="_blank">':'>')+'Favorite</a></p>';}[m[41m[m
[32m+[m[32mif(showImages&&images[n]!==undefined&&extractImageUrl(images[n])!==undefined){op+='<div class="media">'+'<img src="'+extractImageUrl(images[n])+'" alt="Image from tweet" />'+'</div>';}[m[41m[m
[32m+[m[32mif(showImages){arrayTweets.push(op);}else if(!showImages&&tweets[n].textContent.length){arrayTweets.push(op);}[m[41m[m
[32m+[m[32mn++;}}[m[41m[m
 handleTweets(arrayTweets);inProgress=false;if(queue.length>0){twitterFetcher.fetch(queue[0]);queue.splice(0,1);}}};window.__twttrf=twitterFetcher;window.twitterFetcher=twitterFetcher;return twitterFetcher;}));[m
\ No newline at end of file[m
[1mdiff --git a/app/assets/javascripts/ytplayer.min.js b/app/assets/javascripts/ytplayer.min.js[m
[1mindex f85c0d2..d297115 100644[m
[1m--- a/app/assets/javascripts/ytplayer.min.js[m
[1m+++ b/app/assets/javascripts/ytplayer.min.js[m
[36m@@ -1,9 +1,9 @@[m
[31m-/*jquery.mb.YTPlayer 02-07-2017[m
[31m- _ jquery.mb.components [m
[31m- _ email: matteo@open-lab.com [m
[31m- _ Copyright (c) 2001-2017. Matteo Bicocchi (Pupunzi); [m
[31m- _ blog: http://pupunzi.open-lab.com [m
[31m- _ Open Lab s.r.l., Florence - Italy [m
[31m- */[m
[31m-function onYouTubeIframeAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}function uncamel(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function setUnit(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+jQuery/)?""+a+b:a}function setFilter(a,b,c){var d=uncamel(b),e=jQuery.browser.mozilla?"":jQuery.CSS.sfx;a[e+"filter"]=a[e+"filter"]||"",c=setUnit(c>jQuery.CSS.filters[b].max?jQuery.CSS.filters[b].max:c,jQuery.CSS.filters[b].unit),a[e+"filter"]+=d+"("+c+") ",delete a[b]}function isTouchSupported(){var a=nAgt.msMaxTouchPoints,b="ontouchstart"in document.createElement("div");return a||b?!0:!1}var ytp=ytp||{},getYTPVideoID=function(a){var b,c;return a.indexOf("youtu.be")>0?(b=a.substr(a.lastIndexOf("/")+1,a.length),c=b.indexOf("?list=")>0?b.substr(b.lastIndexOf("="),b.length):null,b=c?b.substr(0,b.lastIndexOf("?")):b):a.indexOf("http")>-1?(b=a.match(/[\\?&]v=([^&#]*)/)[1],c=a.indexOf("list=")>0?a.match(/[\\?&]list=([^&#]*)/)[1]:null):(b=a.length>15?null:a,c=b?null:a),{videoID:b,playlistID:c}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"3.0.20",build:"6258",author:"Matteo Bicocchi (pupunzi)",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,mask:!1,opacity:1,quality:"default",mute:!1,loop:!0,fadeOnStartTime:500,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,mobileFallbackImage:null,gaTrack:!0,optimizeDisplay:!0,remember_last_time:!1,anchor:"center,center",onReady:function(a){},onError:function(a,b){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},controlBar:null,loading:null,locationProtocol:"https:",filters:{grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filters=jQuery.mbYTPlayer.filters,YTPlayer.filtersEnabled=!0,YTPlayer.id=YTPlayer.id||"YTP_"+(new Date).getTime(),$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options)),"true"==YTPlayer.opt.loop&&(YTPlayer.opt.loop=9999),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var a=!1;try{self.location.href!=top.location.href&&(a=!0)}catch(b){a=!0}return a};YTPlayer.canGoFullScreen=!(jQuery.mbBrowser.msie||jQuery.mbBrowser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","ytp_"+(new Date).getTime());var playerID="iframe_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0,YTPlayer.videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,YTPlayer.playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"1":"3";var start_from_last=0;jQuery.mbCookie.get("YTPlayer_"+YTPlayer.videoID)&&(start_from_last=parseFloat(jQuery.mbCookie.get("YTPlayer_"+YTPlayer.videoID))),YTPlayer.opt.remember_last_time&&start_from_last&&(YTPlayer.start_from_last=start_from_last,jQuery.mbCookie.remove("YTPlayer_"+YTPlayer.videoID));var playerVars={modestbranding:1,autoplay:0,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};if(document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.mbBrowser.msie&&jQuery.mbBrowser.version<9&&(this.opt.opacity=1),YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground=YTPlayer.opt.containment.is("body"),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,YTPlayer.isPlayer=!1,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide();var overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");YTPlayer.isPlayer&&overlay.on("click",function(){$YTPlayer.YTPTogglePlay()});var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+YTPlayer.id);wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0});var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox");if(playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.mbBrowser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.length&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.length&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}if(jQuery.mbBrowser.mobile&&!YTPlayer.canPlayOnMobile)return YTPlayer.opt.mobileFallbackImage&&wrapper.css({backgroundImage:"url("+YTPlayer.opt.mobileFallbackImage+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundRepeat:"no-repeat",opacity:1}),YTPlayer.isPlayer||$YTPlayer.remove(),void jQuery(document).trigger("YTPUnavailable");jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?YTPlayer.isBackground?!0:!1:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.mbBrowser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.563*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),width:"100%",height:h,playerVars:playerVars,events:{onReady:function(a){YTPlayer.player=a.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(a){YTPlayer.player=a.target,YTPlayer.isReady||(YTPlayer.isReady=YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay?!1:!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),jQuery(YTPlayer.playerEl).unselectable(),$YTPlayer.optimizeDisplay(),jQuery(window).off("resize.YTP_"+YTPlayer.id).on("resize.YTP_"+YTPlayer.id,function(){$YTPlayer.optimizeDisplay()}),YTPlayer.opt.remember_last_time&&jQuery(window).on("unload.YTP_"+YTPlayer.id,function(){var a=YTPlayer.player.getCurrentTime();jQuery.mbCookie.set("YTPlayer_"+YTPlayer.videoID,a,0)}),jQuery.mbYTPlayer.checkForState(YTPlayer))},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.preventTrigger)return void(YTPlayer.preventTrigger=!1);YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPRealEnd";break;case 1:eventType="YTPPlay",YTPlayer.controlBar.length&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar.length&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar.length&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.currentTime,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}},onPlaybackQualityChange:function(a){var b=a.target.getPlaybackQuality(),c=jQuery.Event("YTPQualityChange");c.quality=b,jQuery(YTPlayer).trigger(c)},onError:function(a){150==a.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==a.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,a)}}})}}))}),$YTPlayer.off("YTPTime.mask"),jQuery.mbYTPlayer.applyMask(YTPlayer)}})},getDataFromAPI:function(a){if(a.videoData=jQuery.mbStorage.get("YTPlayer_data_"+a.videoID),jQuery(a).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(a.hasData&&a.isPlayer&&!a.opt.autoPlay){var b=a.videoData.thumb_max||a.videoData.thumb_high||a.videoData.thumb_medium;a.opt.containment.css({background:"rgba(0,0,0,0.5) url("+b+") center center",backgroundSize:"cover"}),a.opt.backgroundUrl=b}}),a.videoData)setTimeout(function(){a.opt.ratio="auto"==a.opt.ratio?"16/9":a.opt.ratio,a.dataReceived=!0,jQuery(a).trigger("YTPChanged");var b=jQuery.Event("YTPData");b.prop={};for(var c in a.videoData)b.prop[c]=a.videoData[c];jQuery(a).trigger(b)},a.opt.fadeOnStartTime),a.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+a.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(b){function c(b){a.videoData={},a.videoData.id=a.videoID,a.videoData.channelTitle=b.channelTitle,a.videoData.title=b.title,a.videoData.description=b.description.length<400?b.description:b.description.substring(0,400)+" ...",a.videoData.aspectratio="auto"==a.opt.ratio?"16/9":a.opt.ratio,a.opt.ratio=a.videoData.aspectratio,a.videoData.thumb_max=b.thumbnails.maxres?b.thumbnails.maxres.url:null,a.videoData.thumb_high=b.thumbnails.high?b.thumbnails.high.url:null,a.videoData.thumb_medium=b.thumbnails.medium?b.thumbnails.medium.url:null,jQuery.mbStorage.set("YTPlayer_data_"+a.videoID,a.videoData)}a.dataReceived=!0,jQuery(a).trigger("YTPChanged"),c(b.items[0].snippet),a.hasData=!0;var d=jQuery.Event("YTPData");d.prop={};for(var e in a.videoData)d.prop[e]=a.videoData[e];jQuery(a).trigger(d)});else{if(setTimeout(function(){jQuery(a).trigger("YTPChanged")},50),a.isPlayer&&!a.opt.autoPlay){var b=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+a.videoID+"/hqdefault.jpg";b&&a.opt.containment.css({background:"rgba(0,0,0,0.5) url("+b+") center center",backgroundSize:"cover"}),a.opt.backgroundUrl=b}a.videoData=null,a.opt.ratio="auto"==a.opt.ratio?"16/9":a.opt.ratio}!a.isPlayer||a.opt.autoPlay||jQuery.mbBrowser.mobile||(a.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(a).append(a.loading),a.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){var a=this.get(0);return a.videoData},getVideoID:function(){var a=this.get(0);return a.videoID||!1},setVideoQuality:function(a){var b=this.get(0);b.player.setPlaybackQuality(a)},playlist:function(a,b,c){var d=this,e=d.get(0);return e.isPlayList=!0,b&&(a=jQuery.shuffle(a)),e.videoID||(e.videos=a,e.videoCounter=0,e.videoLength=a.length,jQuery(e).data("property",a[0]),jQuery(e).mb_YTPlayer()),"function"==typeof c&&jQuery(e).one("YTPChanged",function(){c(e)}),jQuery(e).on("YTPEnd",function(){jQuery(e).playNext()}),this},playNext:function(){var a=this.get(0);return a.checkForStartAt&&(clearInterval(a.checkForStartAt),clearInterval(a.getState)),a.videoCounter++,a.videoCounter>=a.videoLength&&(a.videoCounter=0),jQuery(a).YTPChangeMovie(a.videos[a.videoCounter]),this},playPrev:function(){var a=this.get(0);return a.checkForStartAt&&(clearInterval(a.checkForStartAt),clearInterval(a.getState)),a.videoCounter--,a.videoCounter<0&&(a.videoCounter=a.videoLength-1),jQuery(a).YTPChangeMovie(a.videos[a.videoCounter]),this},playIndex:function(a){var b=this.get(0);return a-=1,b.checkForStartAt&&(clearInterval(b.checkForStartAt),clearInterval(b.getState)),b.videoCounter=a,b.videoCounter>=b.videoLength-1&&(b.videoCounter=b.videoLength-1),jQuery(b).YTPChangeMovie(b.videos[b.videoCounter]),this},changeMovie:function(a){var b=this,c=b.get(0);c.opt.startAt=0,c.opt.stopAt=0,c.opt.mask=!1,c.opt.mute=!0,c.hasData=!1,c.hasChanged=!0,c.player.loopTime=void 0,a&&jQuery.extend(c.opt,a),c.videoID=getYTPVideoID(c.opt.videoURL).videoID,"true"==c.opt.loop&&(c.opt.loop=9999),jQuery(c.playerEl).CSSAnimate({opacity:0},c.opt.fadeOnStartTime,function(){var a=jQuery.Event("YTPChangeMovie");a.time=c.currentTime,a.videoId=c.videoID,jQuery(c).trigger(a),jQuery(c).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+c.videoID),1,c.opt.quality),jQuery(c).optimizeDisplay(),jQuery.mbYTPlayer.checkForState(c),jQuery.mbYTPlayer.getDataFromAPI(c)}),jQuery.mbYTPlayer.applyMask(c)},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var a=this.get(0);ytp.YTAPIReady=!0,ytp.backgroundIsInited=!1,a.isInit=!1,a.videoID=null,a.isReady=!1;var b=a.wrapper;return b.remove(),jQuery("#controlBar_"+a.id).remove(),clearInterval(a.checkForStartAt),clearInterval(a.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(a,b){for(var c,d,e=["webkit","moz","ms","o",""],f=0;f<e.length&&!a[c];){if(c=b,""==e[f]&&(c=c.substr(0,1).toLowerCase()+c.substr(1)),c=e[f]+c,d=typeof a[c],"undefined"!=d)return e=[e[f]],"function"==d?a[c]():a[c];f++}}function launchFullscreen(a){RunPrefixMethod(a,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.mbBrowser.mozilla?"mozfullscreenchange":jQuery.mbBrowser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var a=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");a?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("YTPFullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},YTPlayer.opt.fadeOnStartTime),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),clearTimeout(YTPlayer.hideCursor),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},YTPlayer.opt.fadeOnStartTime),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(a){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(a.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("YTPFullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},2*YTPlayer.opt.fadeOnStartTime),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},YTPlayer.opt.fadeOnStartTime)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},2*YTPlayer.opt.fadeOnStartTime),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var a=this.get(0),b=a.opt;return 1==b.loop?b.loop=0:(b.startAt?a.player.seekTo(b.startAt):a.player.playVideo(),b.loop=1),this},play:function(){var a=this.get(0);if(!a.isReady)return this;a.player.playVideo(),a.wrapper.CSSAnimate({opacity:a.isAlone?1:a.opt.opacity},4*a.opt.fadeOnStartTime),jQuery(a.playerEl).CSSAnimate({opacity:1},2*a.opt.fadeOnStartTime);var b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPPlaypause");return c.html(jQuery.mbYTPlayer.controls.pause),a.state=1,a.orig_background=jQuery(a).css("background-image"),this},togglePlay:function(a){var b=this.get(0);return 1==b.state?this.YTPPause():this.YTPPlay(),"function"==typeof a&&a(b.state),this},stop:function(){var a=this.get(0),b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPPlaypause");return c.html(jQuery.mbYTPlayer.controls.play),a.player.stopVideo(),this},pause:function(){var a=this.get(0);return a.player.pauseVideo(),a.state=2,this},seekTo:function(a){var b=this.get(0);return b.player.seekTo(a,!0),this},setVolume:function(a){var b=this.get(0);return a||b.opt.vol||0!=b.player.getVolume()?!a&&b.player.getVolume()>0||a&&b.opt.vol==a?b.isMute?jQuery(b).YTPUnmute():jQuery(b).YTPMute():(b.opt.vol=a,b.player.setVolume(b.opt.vol),b.volumeBar&&b.volumeBar.length&&b.volumeBar.updateSliderVal(a)):jQuery(b).YTPUnmute(),this},toggleVolume:function(){var a=this.get(0);if(a)return a.player.isMuted()?(jQuery(a).YTPUnmute(),!0):(jQuery(a).YTPMute(),!1)},mute:function(){var a=this.get(0);if(!a.isMute){a.player.mute(),a.isMute=!0,a.player.setVolume(0),a.volumeBar&&a.volumeBar.length&&a.volumeBar.width()>10&&a.volumeBar.updateSliderVal(0);var b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPMuteUnmute");c.html(jQuery.mbYTPlayer.controls.unmute),jQuery(a).addClass("isMuted"),a.volumeBar&&a.volumeBar.length&&a.volumeBar.addClass("muted");var d=jQuery.Event("YTPMuted");return d.time=a.currentTime,a.canTrigger&&jQuery(a).trigger(d),this}},unmute:function(){var a=this.get(0);if(a.isMute){a.player.unMute(),a.isMute=!1,a.player.setVolume(a.opt.vol),a.volumeBar&&a.volumeBar.length&&a.volumeBar.updateSliderVal(a.opt.vol>10?a.opt.vol:10);var b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPMuteUnmute");c.html(jQuery.mbYTPlayer.controls.mute),jQuery(a).removeClass("isMuted"),a.volumeBar&&a.volumeBar.length&&a.volumeBar.removeClass("muted");var d=jQuery.Event("YTPUnmuted");return d.time=a.currentTime,a.canTrigger&&jQuery(a).trigger(d),this}},applyFilter:function(a,b){return this.each(function(){var c=this;c.filters[a].value=b,c.filtersEnabled&&jQuery(c).YTPEnableFilters()})},applyFilters:function(a){return this.each(function(){var b=this;if(!b.isReady)return void jQuery(b).on("YTPReady",function(){jQuery(b).YTPApplyFilters(a)});for(var c in a)jQuery(b).YTPApplyFilter(c,a[c]);jQuery(b).trigger("YTPFiltersApplied")})},toggleFilter:function(a,b){return this.each(function(){var c=this;c.filters[a].value?c.filters[a].value=0:c.filters[a].value=b,c.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(a){return this.each(function(){var b=this;b.filtersEnabled?(jQuery(b).trigger("YTPDisableFilters"),jQuery(b).YTPDisableFilters()):(jQuery(b).YTPEnableFilters(),jQuery(b).trigger("YTPEnableFilters")),"function"==typeof a&&a(b.filtersEnabled)})},disableFilters:function(){return this.each(function(){var a=this,b=jQuery(a.playerEl);b.css("-webkit-filter",""),b.css("filter",""),a.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var a=this,b=jQuery(a.playerEl),c="";for(var d in a.filters)a.filters[d].value&&(c+=d.replace("_","-")+"("+a.filters[d].value+a.filters[d].unit+") ");b.css("-webkit-filter",c),b.css("filter",c),a.filtersEnabled=!0})},removeFilter:function(a,b){return this.each(function(){var c=this;if("function"==typeof a&&(b=a,a=null),a)jQuery(this).YTPApplyFilter(a,0),"function"==typeof b&&b(a);else for(var d in c.filters)jQuery(this).YTPApplyFilter(d,0),"function"==typeof b&&b(d)})},getFilters:function(){var a=this.get(0);return a.filters},addMask:function(a){var b=this.get(0),c=b.overlay;a||(a=b.actualMask);var d=jQuery("<img/>").attr("src",a).on("load",function(){c.CSSAnimate({opacity:0},b.opt.fadeOnStartTime,function(){b.hasMask=!0,d.remove(),c.css({backgroundImage:"url("+a+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover"}),c.CSSAnimate({opacity:1},b.opt.fadeOnStartTime)})});return this},removeMask:function(){var a=this.get(0),b=a.overlay;return b.CSSAnimate({opacity:0},a.opt.fadeOnStartTime,function(){a.hasMask=!1,b.css({backgroundImage:"",backgroundRepeat:"",backgroundPosition:"",backgroundSize:""}),b.CSSAnimate({opacity:1},a.opt.fadeOnStartTime)}),this},applyMask:function(a){var b=jQuery(a);if(b.off("YTPTime.mask"),a.opt.mask)if("string"==typeof a.opt.mask)b.YTPAddMask(a.opt.mask),a.actualMask=a.opt.mask;else if("object"==typeof a.opt.mask){for(var c in a.opt.mask)if(a.opt.mask[c]){jQuery("<img/>").attr("src",a.opt.mask[c])}a.opt.mask[0]&&b.YTPAddMask(a.opt.mask[0]),b.on("YTPTime.mask",function(c){for(var d in a.opt.mask)c.time==d&&(a.opt.mask[d]?(b.YTPAddMask(a.opt.mask[d]),a.actualMask=a.opt.mask[d]):b.YTPRemoveMask())})}},toggleMask:function(){var a=this.get(0),b=$(a);return a.hasMask?b.YTPRemoveMask():b.YTPAddMask(),this},manageProgress:function(){var a=this.get(0),b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPProgress"),d=b.find(".mb_YTPLoaded"),e=b.find(".mb_YTPseekbar"),f=c.outerWidth(),g=Math.floor(a.player.getCurrentTime()),h=Math.floor(a.player.getDuration()),i=g*f/h,j=0,k=100*a.player.getVideoLoadedFraction();return d.css({left:j,width:k+"%"}),e.css({left:0,width:i}),{totalTime:h,currentTime:g}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(a){timeBar.css({width:a.clientX-timeBar.offset().left}),YTPlayer.timeW=a.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var b=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*b/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(a){0==a.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(a.value),YTPlayer.isMute||(YTPlayer.opt.vol=a.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:400;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.start_from_last?YTPlayer.start_from_last:YTPlayer.opt.startAt?YTPlayer.opt.startAt:1;YTPlayer.start_from_last=null;var stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.currentTime!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.currentTime,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.currentTime=prog.currentTime,YTPlayer.totalTime=YTPlayer.player.getDuration(),0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar.length&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar.length&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-.5)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){if(!data.loop||data.loop>0&&YTPlayer.player.loopTime===data.loop-1){YTPlayer.player.loopTime=void 0,clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.currentTime,void jQuery(YTPlayer).trigger(YTPEnd)}}else if(!data.loop||data.loop>0&&YTPlayer.player.loopTime===data.loop-1)return YTPlayer.player.loopTime=void 0,YTPlayer.preventTrigger=!0,YTPlayer.state=2,jQuery(YTPlayer).YTPPause(),void YTPlayer.wrapper.CSSAnimate({opacity:0},YTPlayer.opt.fadeOnStartTime,function(){YTPlayer.controlBar.length&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);var a=jQuery.Event("YTPEnd");a.time=YTPlayer.currentTime,jQuery(YTPlayer).trigger(a),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground?YTPlayer.orig_background&&jQuery(YTPlayer).css("background-image",YTPlayer.orig_background):YTPlayer.opt.backgroundUrl&&YTPlayer.isPlayer&&(YTPlayer.opt.backgroundUrl=YTPlayer.opt.backgroundUrl||YTPlayer.orig_background,YTPlayer.opt.containment.css({background:"url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"}))});YTPlayer.player.loopTime=YTPlayer.player.loopTime?++YTPlayer.player.loopTime:1,startAt=startAt||1,YTPlayer.preventTrigger=!0,YTPlayer.state=2,jQuery(YTPlayer).YTPPause(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},getTime:function(){var a=this.get(0);return jQuery.mbYTPlayer.formatTime(a.currentTime)},getTotalTime:function(){var a=this.get(0);return jQuery.mbYTPlayer.formatTime(a.totalTime)},checkForStart:function(a){var b=jQuery(a);if(!jQuery.contains(document,a))return void jQuery(a).YTPPlayerDestroy();if(a.preventTrigger=!0,a.state=2,jQuery(a).YTPPause(),jQuery(a).muteYTPVolume(),jQuery("#controlBar_"+a.id).remove(),a.controlBar=!1,a.opt.showControls&&jQuery.mbYTPlayer.buildControls(a),a.opt.addRaster){var c="dot"==a.opt.addRaster?"raster-dot":"raster";a.overlay.addClass(a.isRetina?c+" retina":c)}else a.overlay.removeClass(function(a,b){var c=b.split(" "),d=[];return jQuery.each(c,function(a,b){/raster.*/.test(b)&&d.push(b)}),d.push("retina"),d.join(" ")});var d=a.start_from_last?a.start_from_last:a.opt.startAt?a.opt.startAt:1;a.start_from_last=null,a.player.playVideo(),a.player.seekTo(d,!0),clearInterval(a.checkForStartAt),a.checkForStartAt=setInterval(function(){jQuery(a).YTPMute();var c=a.player.getVideoLoadedFraction()>=d/a.player.getDuration();if(a.player.getDuration()>0&&a.player.getCurrentTime()>=d&&c){clearInterval(a.checkForStartAt),"function"==typeof a.opt.onReady&&a.opt.onReady(a),a.isReady=!0;var e=jQuery.Event("YTPReady");if(e.time=a.currentTime,jQuery(a).trigger(e),a.preventTrigger=!0,a.state=2,jQuery(a).YTPPause(),a.opt.mute||jQuery(a).YTPUnmute(),a.canTrigger=!0,a.opt.autoPlay){var f=jQuery.Event("YTPStart");f.time=a.currentTime,jQuery(a).trigger(f),jQuery(a.playerEl).CSSAnimate({opacity:1},1e3),b.YTPPlay(),a.wrapper.CSSAnimate({opacity:a.isAlone?1:a.opt.opacity},2*a.opt.fadeOnStartTime),"mac"==jQuery.mbBrowser.os.name&&jQuery.mbBrowser.safari&&jQuery.mbBrowser.versionCompare(jQuery.mbBrowser.fullVersion,"10.1")<0&&(a.safariPlay=setInterval(function(){1!=a.state?b.YTPPlay():clearInterval(a.safariPlay)},10)),b.one("YTPReady",function(){b.YTPPlay()})}else a.player.pauseVideo(),a.isPlayer||(jQuery(a.playerEl).CSSAnimate({opacity:1[m
[32m+[m[32m/*jquery.mb.YTPlayer 02-07-2017[m[41m[m
[32m+[m[32m _ jquery.mb.components[m[41m [m
[32m+[m[32m _ email: matteo@open-lab.com[m[41m [m
[32m+[m[32m _ Copyright (c) 2001-2017. Matteo Bicocchi (Pupunzi);[m[41m [m
[32m+[m[32m _ blog: http://pupunzi.open-lab.com[m[41m [m
[32m+[m[32m _ Open Lab s.r.l., Florence - Italy[m[41m [m
[32m+[m[32m */[m[41m[m
[32m+[m[32mfunction onYouTubeIframeAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}function uncamel(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function setUnit(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+jQuery/)?""+a+b:a}function setFilter(a,b,c){var d=uncamel(b),e=jQuery.browser.mozilla?"":jQuery.CSS.sfx;a[e+"filter"]=a[e+"filter"]||"",c=setUnit(c>jQuery.CSS.filters[b].max?jQuery.CSS.filters[b].max:c,jQuery.CSS.filters[b].unit),a[e+"filter"]+=d+"("+c+") ",delete a[b]}function isTouchSupported(){var a=nAgt.msMaxTouchPoints,b="ontouchstart"in document.createElement("div");return a||b?!0:!1}var ytp=ytp||{},getYTPVideoID=function(a){var b,c;return a.indexOf("youtu.be")>0?(b=a.substr(a.lastIndexOf("/")+1,a.length),c=b.indexOf("?list=")>0?b.substr(b.lastIndexOf("="),b.length):null,b=c?b.substr(0,b.lastIndexOf("?")):b):a.indexOf("http")>-1?(b=a.match(/[\\?&]v=([^&#]*)/)[1],c=a.indexOf("list=")>0?a.match(/[\\?&]list=([^&#]*)/)[1]:null):(b=a.length>15?null:a,c=b?null:a),{videoID:b,playlistID:c}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"3.0.20",build:"6258",author:"Matteo Bicocchi (pupunzi)",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,mask:!1,opacity:1,quality:"default",mute:!1,loop:!0,fadeOnStartTime:500,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,mobileFallbackImage:null,gaTrack:!0,optimizeDisplay:!0,remember_last_time:!1,anchor:"center,center",onReady:function(a){},onError:function(a,b){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},controlBar:null,loading:null,locationProtocol:"https:",filters:{grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filters=jQuery.mbYTPlayer.filters,YTPlayer.filtersEnabled=!0,YTPlayer.id=YTPlayer.id||"YTP_"+(new Date).getTime(),$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options)),"true"==YTPlayer.opt.loop&&(YTPlayer.opt.loop=9999),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var a=!1;try{self.location.href!=top.location.href&&(a=!0)}catch(b){a=!0}return a};YTPlayer.canGoFullScreen=!(jQuery.mbBrowser.msie||jQuery.mbBrowser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","ytp_"+(new Date).getTime());var playerID="iframe_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0,YTPlayer.videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,YTPlayer.playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"1":"3";var start_from_last=0;jQuery.mbCookie.get("YTPlayer_"+YTPlayer.videoID)&&(start_from_last=parseFloat(jQuery.mbCookie.get("YTPlayer_"+YTPlayer.videoID))),YTPlayer.opt.remember_last_time&&start_from_last&&(YTPlayer.start_from_last=start_from_last,jQuery.mbCookie.remove("YTPlayer_"+YTPlayer.videoID));var playerVars={modestbranding:1,autoplay:0,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};if(document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.mbBrowser.msie&&jQuery.mbBrowser.version<9&&(this.opt.opacity=1),YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground=YTPlayer.opt.containment.is("body"),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,YTPlayer.isPlayer=!1,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide();var overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");YTPlayer.isPlayer&&overlay.on("click",function(){$YTPlayer.YTPTogglePlay()});var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+YTPlayer.id);wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0});var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox");if(playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.mbBrowser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.length&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.length&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}if(jQuery.mbBrowser.mobile&&!YTPlayer.canPlayOnMobile)return YTPlayer.opt.mobileFallbackImage&&wrapper.css({backgroundImage:"url("+YTPlayer.opt.mobileFallbackImage+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundRepeat:"no-repeat",opacity:1}),YTPlayer.isPlayer||$YTPlayer.remove(),void jQuery(document).trigger("YTPUnavailable");jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?YTPlayer.isBackground?!0:!1:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.mbBrowser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.563*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),width:"100%",height:h,playerVars:playerVars,events:{onReady:function(a){YTPlayer.player=a.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(a){YTPlayer.player=a.target,YTPlayer.isReady||(YTPlayer.isReady=YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay?!1:!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),jQuery(YTPlayer.playerEl).unselectable(),$YTPlayer.optimizeDisplay(),jQuery(window).off("resize.YTP_"+YTPlayer.id).on("resize.YTP_"+YTPlayer.id,function(){$YTPlayer.optimizeDisplay()}),YTPlayer.opt.remember_last_time&&jQuery(window).on("unload.YTP_"+YTPlayer.id,function(){var a=YTPlayer.player.getCurrentTime();jQuery.mbCookie.set("YTPlayer_"+YTPlayer.videoID,a,0)}),jQuery.mbYTPlayer.checkForState(YTPlayer))},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.preventTrigger)return void(YTPlayer.preventTrigger=!1);YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPRealEnd";break;case 1:eventType="YTPPlay",YTPlayer.controlBar.length&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar.length&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar.length&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.currentTime,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}},onPlaybackQualityChange:function(a){var b=a.target.getPlaybackQuality(),c=jQuery.Event("YTPQualityChange");c.quality=b,jQuery(YTPlayer).trigger(c)},onError:function(a){150==a.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==a.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,a)}}})}}))}),$YTPlayer.off("YTPTime.mask"),jQuery.mbYTPlayer.applyMask(YTPlayer)}})},getDataFromAPI:function(a){if(a.videoData=jQuery.mbStorage.get("YTPlayer_data_"+a.videoID),jQuery(a).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(a.hasData&&a.isPlayer&&!a.opt.autoPlay){var b=a.videoData.thumb_max||a.videoData.thumb_high||a.videoData.thumb_medium;a.opt.containment.css({background:"rgba(0,0,0,0.5) url("+b+") center center",backgroundSize:"cover"}),a.opt.backgroundUrl=b}}),a.videoData)setTimeout(function(){a.opt.ratio="auto"==a.opt.ratio?"16/9":a.opt.ratio,a.dataReceived=!0,jQuery(a).trigger("YTPChanged");var b=jQuery.Event("YTPData");b.prop={};for(var c in a.videoData)b.prop[c]=a.videoData[c];jQuery(a).trigger(b)},a.opt.fadeOnStartTime),a.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+a.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(b){function c(b){a.videoData={},a.videoData.id=a.videoID,a.videoData.channelTitle=b.channelTitle,a.videoData.title=b.title,a.videoData.description=b.description.length<400?b.description:b.description.substring(0,400)+" ...",a.videoData.aspectratio="auto"==a.opt.ratio?"16/9":a.opt.ratio,a.opt.ratio=a.videoData.aspectratio,a.videoData.thumb_max=b.thumbnails.maxres?b.thumbnails.maxres.url:null,a.videoData.thumb_high=b.thumbnails.high?b.thumbnails.high.url:null,a.videoData.thumb_medium=b.thumbnails.medium?b.thumbnails.medium.url:null,jQuery.mbStorage.set("YTPlayer_data_"+a.videoID,a.videoData)}a.dataReceived=!0,jQuery(a).trigger("YTPChanged"),c(b.items[0].snippet),a.hasData=!0;var d=jQuery.Event("YTPData");d.prop={};for(var e in a.videoData)d.prop[e]=a.videoData[e];jQuery(a).trigger(d)});else{if(setTimeout(function(){jQuery(a).trigger("YTPChanged")},50),a.isPlayer&&!a.opt.autoPlay){var b=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+a.videoID+"/hqdefault.jpg";b&&a.opt.containment.css({background:"rgba(0,0,0,0.5) url("+b+") center center",backgroundSize:"cover"}),a.opt.backgroundUrl=b}a.videoData=null,a.opt.ratio="auto"==a.opt.ratio?"16/9":a.opt.ratio}!a.isPlayer||a.opt.autoPlay||jQuery.mbBrowser.mobile||(a.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(a).append(a.loading),a.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){var a=this.get(0);return a.videoData},getVideoID:function(){var a=this.get(0);return a.videoID||!1},setVideoQuality:function(a){var b=this.get(0);b.player.setPlaybackQuality(a)},playlist:function(a,b,c){var d=this,e=d.get(0);return e.isPlayList=!0,b&&(a=jQuery.shuffle(a)),e.videoID||(e.videos=a,e.videoCounter=0,e.videoLength=a.length,jQuery(e).data("property",a[0]),jQuery(e).mb_YTPlayer()),"function"==typeof c&&jQuery(e).one("YTPChanged",function(){c(e)}),jQuery(e).on("YTPEnd",function(){jQuery(e).playNext()}),this},playNext:function(){var a=this.get(0);return a.checkForStartAt&&(clearInterval(a.checkForStartAt),clearInterval(a.getState)),a.videoCounter++,a.videoCounter>=a.videoLength&&(a.videoCounter=0),jQuery(a).YTPChangeMovie(a.videos[a.videoCounter]),this},playPrev:function(){var a=this.get(0);return a.checkForStartAt&&(clearInterval(a.checkForStartAt),clearInterval(a.getState)),a.videoCounter--,a.videoCounter<0&&(a.videoCounter=a.videoLength-1),jQuery(a).YTPChangeMovie(a.videos[a.videoCounter]),this},playIndex:function(a){var b=this.get(0);return a-=1,b.checkForStartAt&&(clearInterval(b.checkForStartAt),clearInterval(b.getState)),b.videoCounter=a,b.videoCounter>=b.videoLength-1&&(b.videoCounter=b.videoLength-1),jQuery(b).YTPChangeMovie(b.videos[b.videoCounter]),this},changeMovie:function(a){var b=this,c=b.get(0);c.opt.startAt=0,c.opt.stopAt=0,c.opt.mask=!1,c.opt.mute=!0,c.hasData=!1,c.hasChanged=!0,c.player.loopTime=void 0,a&&jQuery.extend(c.opt,a),c.videoID=getYTPVideoID(c.opt.videoURL).videoID,"true"==c.opt.loop&&(c.opt.loop=9999),jQuery(c.playerEl).CSSAnimate({opacity:0},c.opt.fadeOnStartTime,function(){var a=jQuery.Event("YTPChangeMovie");a.time=c.currentTime,a.videoId=c.videoID,jQuery(c).trigger(a),jQuery(c).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+c.videoID),1,c.opt.quality),jQuery(c).optimizeDisplay(),jQuery.mbYTPlayer.checkForState(c),jQuery.mbYTPlayer.getDataFromAPI(c)}),jQuery.mbYTPlayer.applyMask(c)},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var a=this.get(0);ytp.YTAPIReady=!0,ytp.backgroundIsInited=!1,a.isInit=!1,a.videoID=null,a.isReady=!1;var b=a.wrapper;return b.remove(),jQuery("#controlBar_"+a.id).remove(),clearInterval(a.checkForStartAt),clearInterval(a.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(a,b){for(var c,d,e=["webkit","moz","ms","o",""],f=0;f<e.length&&!a[c];){if(c=b,""==e[f]&&(c=c.substr(0,1).toLowerCase()+c.substr(1)),c=e[f]+c,d=typeof a[c],"undefined"!=d)return e=[e[f]],"function"==d?a[c]():a[c];f++}}function launchFullscreen(a){RunPrefixMethod(a,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.mbBrowser.mozilla?"mozfullscreenchange":jQuery.mbBrowser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var a=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");a?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("YTPFullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},YTPlayer.opt.fadeOnStartTime),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),clearTimeout(YTPlayer.hideCursor),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},YTPlayer.opt.fadeOnStartTime),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(a){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(a.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("YTPFullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},2*YTPlayer.opt.fadeOnStartTime),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},YTPlayer.opt.fadeOnStartTime)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},2*YTPlayer.opt.fadeOnStartTime),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var a=this.get(0),b=a.opt;return 1==b.loop?b.loop=0:(b.startAt?a.player.seekTo(b.startAt):a.player.playVideo(),b.loop=1),this},play:function(){var a=this.get(0);if(!a.isReady)return this;a.player.playVideo(),a.wrapper.CSSAnimate({opacity:a.isAlone?1:a.opt.opacity},4*a.opt.fadeOnStartTime),jQuery(a.playerEl).CSSAnimate({opacity:1},2*a.opt.fadeOnStartTime);var b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPPlaypause");return c.html(jQuery.mbYTPlayer.controls.pause),a.state=1,a.orig_background=jQuery(a).css("background-image"),this},togglePlay:function(a){var b=this.get(0);return 1==b.state?this.YTPPause():this.YTPPlay(),"function"==typeof a&&a(b.state),this},stop:function(){var a=this.get(0),b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPPlaypause");return c.html(jQuery.mbYTPlayer.controls.play),a.player.stopVideo(),this},pause:function(){var a=this.get(0);return a.player.pauseVideo(),a.state=2,this},seekTo:function(a){var b=this.get(0);return b.player.seekTo(a,!0),this},setVolume:function(a){var b=this.get(0);return a||b.opt.vol||0!=b.player.getVolume()?!a&&b.player.getVolume()>0||a&&b.opt.vol==a?b.isMute?jQuery(b).YTPUnmute():jQuery(b).YTPMute():(b.opt.vol=a,b.player.setVolume(b.opt.vol),b.volumeBar&&b.volumeBar.length&&b.volumeBar.updateSliderVal(a)):jQuery(b).YTPUnmute(),this},toggleVolume:function(){var a=this.get(0);if(a)return a.player.isMuted()?(jQuery(a).YTPUnmute(),!0):(jQuery(a).YTPMute(),!1)},mute:function(){var a=this.get(0);if(!a.isMute){a.player.mute(),a.isMute=!0,a.player.setVolume(0),a.volumeBar&&a.volumeBar.length&&a.volumeBar.width()>10&&a.volumeBar.updateSliderVal(0);var b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPMuteUnmute");c.html(jQuery.mbYTPlayer.controls.unmute),jQuery(a).addClass("isMuted"),a.volumeBar&&a.volumeBar.length&&a.volumeBar.addClass("muted");var d=jQuery.Event("YTPMuted");return d.time=a.currentTime,a.canTrigger&&jQuery(a).trigger(d),this}},unmute:function(){var a=this.get(0);if(a.isMute){a.player.unMute(),a.isMute=!1,a.player.setVolume(a.opt.vol),a.volumeBar&&a.volumeBar.length&&a.volumeBar.updateSliderVal(a.opt.vol>10?a.opt.vol:10);var b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPMuteUnmute");c.html(jQuery.mbYTPlayer.controls.mute),jQuery(a).removeClass("isMuted"),a.volumeBar&&a.volumeBar.length&&a.volumeBar.removeClass("muted");var d=jQuery.Event("YTPUnmuted");return d.time=a.currentTime,a.canTrigger&&jQuery(a).trigger(d),this}},applyFilter:function(a,b){return this.each(function(){var c=this;c.filters[a].value=b,c.filtersEnabled&&jQuery(c).YTPEnableFilters()})},applyFilters:function(a){return this.each(function(){var b=this;if(!b.isReady)return void jQuery(b).on("YTPReady",function(){jQuery(b).YTPApplyFilters(a)});for(var c in a)jQuery(b).YTPApplyFilter(c,a[c]);jQuery(b).trigger("YTPFiltersApplied")})},toggleFilter:function(a,b){return this.each(function(){var c=this;c.filters[a].value?c.filters[a].value=0:c.filters[a].value=b,c.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(a){return this.each(function(){var b=this;b.filtersEnabled?(jQuery(b).trigger("YTPDisableFilters"),jQuery(b).YTPDisableFilters()):(jQuery(b).YTPEnableFilters(),jQuery(b).trigger("YTPEnableFilters")),"function"==typeof a&&a(b.filtersEnabled)})},disableFilters:function(){return this.each(function(){var a=this,b=jQuery(a.playerEl);b.css("-webkit-filter",""),b.css("filter",""),a.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var a=this,b=jQuery(a.playerEl),c="";for(var d in a.filters)a.filters[d].value&&(c+=d.replace("_","-")+"("+a.filters[d].value+a.filters[d].unit+") ");b.css("-webkit-filter",c),b.css("filter",c),a.filtersEnabled=!0})},removeFilter:function(a,b){return this.each(function(){var c=this;if("function"==typeof a&&(b=a,a=null),a)jQuery(this).YTPApplyFilter(a,0),"function"==typeof b&&b(a);else for(var d in c.filters)jQuery(this).YTPApplyFilter(d,0),"function"==typeof b&&b(d)})},getFilters:function(){var a=this.get(0);return a.filters},addMask:function(a){var b=this.get(0),c=b.overlay;a||(a=b.actualMask);var d=jQuery("<img/>").attr("src",a).on("load",function(){c.CSSAnimate({opacity:0},b.opt.fadeOnStartTime,function(){b.hasMask=!0,d.remove(),c.css({backgroundImage:"url("+a+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover"}),c.CSSAnimate({opacity:1},b.opt.fadeOnStartTime)})});return this},removeMask:function(){var a=this.get(0),b=a.overlay;return b.CSSAnimate({opacity:0},a.opt.fadeOnStartTime,function(){a.hasMask=!1,b.css({backgroundImage:"",backgroundRepeat:"",backgroundPosition:"",backgroundSize:""}),b.CSSAnimate({opacity:1},a.opt.fadeOnStartTime)}),this},applyMask:function(a){var b=jQuery(a);if(b.off("YTPTime.mask"),a.opt.mask)if("string"==typeof a.opt.mask)b.YTPAddMask(a.opt.mask),a.actualMask=a.opt.mask;else if("object"==typeof a.opt.mask){for(var c in a.opt.mask)if(a.opt.mask[c]){jQuery("<img/>").attr("src",a.opt.mask[c])}a.opt.mask[0]&&b.YTPAddMask(a.opt.mask[0]),b.on("YTPTime.mask",function(c){for(var d in a.opt.mask)c.time==d&&(a.opt.mask[d]?(b.YTPAddMask(a.opt.mask[d]),a.actualMask=a.opt.mask[d]):b.YTPRemoveMask())})}},toggleMask:function(){var a=this.get(0),b=$(a);return a.hasMask?b.YTPRemoveMask():b.YTPAddMask(),this},manageProgress:function(){var a=this.get(0),b=jQuery("#controlBar_"+a.id),c=b.find(".mb_YTPProgress"),d=b.find(".mb_YTPLoaded"),e=b.find(".mb_YTPseekbar"),f=c.outerWidth(),g=Math.floor(a.player.getCurrentTime()),h=Math.floor(a.player.getDuration()),i=g*f/h,j=0,k=100*a.player.getVideoLoadedFraction();return d.css({left:j,width:k+"%"}),e.css({left:0,width:i}),{totalTime:h,currentTime:g}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(a){timeBar.css({width:a.clientX-timeBar.offset().left}),YTPlayer.timeW=a.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var b=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*b/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(a){0==a.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(a.value),YTPlayer.isMute||(YTPlayer.opt.vol=a.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:400;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.start_from_last?YTPlayer.start_from_last:YTPlayer.opt.startAt?YTPlayer.opt.startAt:1;YTPlayer.start_from_last=null;var stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.currentTime!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.currentTime,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.currentTime=prog.currentTime,YTPlayer.totalTime=YTPlayer.player.getDuration(),0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar.length&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar.length&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-.5)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){if(!data.loop||data.loop>0&&YTPlayer.player.loopTime===data.loop-1){YTPlayer.player.loopTime=void 0,clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.currentTime,void jQuery(YTPlayer).trigger(YTPEnd)}}else if(!data.loop||data.loop>0&&YTPlayer.player.loopTime===data.loop-1)return YTPlayer.player.loopTime=void 0,YTPlayer.preventTrigger=!0,YTPlayer.state=2,jQuery(YTPlayer).YTPPause(),void YTPlayer.wrapper.CSSAnimate({opacity:0},YTPlayer.opt.fadeOnStartTime,function(){YTPlayer.controlBar.length&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);var a=jQuery.Event("YTPEnd");a.time=YTPlayer.currentTime,jQuery(YTPlayer).trigger(a),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground?YTPlayer.orig_background&&jQuery(YTPlayer).css("background-image",YTPlayer.orig_background):YTPlayer.opt.backgroundUrl&&YTPlayer.isPlayer&&(YTPlayer.opt.backgroundUrl=YTPlayer.opt.backgroundUrl||YTPlayer.orig_background,YTPlayer.opt.containment.css({background:"url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"}))});YTPlayer.player.loopTime=YTPlayer.player.loopTime?++YTPlayer.player.loopTime:1,startAt=startAt||1,YTPlayer.preventTrigger=!0,YTPlayer.state=2,jQuery(YTPlayer).YTPPause(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},getTime:function(){var a=this.get(0);return jQuery.mbYTPlayer.formatTime(a.currentTime)},getTotalTime:function(){var a=this.get(0);return jQuery.mbYTPlayer.formatTime(a.totalTime)},checkForStart:function(a){var b=jQuery(a);if(!jQuery.contains(document,a))return void jQuery(a).YTPPlayerDestroy();if(a.preventTrigger=!0,a.state=2,jQuery(a).YTPPause(),jQuery(a).muteYTPVolume(),jQuery("#controlBar_"+a.id).remove(),a.controlBar=!1,a.opt.showControls&&jQuery.mbYTPlayer.buildControls(a),a.opt.addRaster){var c="dot"==a.opt.addRaster?"raster-dot":"raster";a.overlay.addClass(a.isRetina?c+" retina":c)}else a.overlay.removeClass(function(a,b){var c=b.split(" "),d=[];return jQuery.each(c,function(a,b){/raster.*/.test(b)&&d.push(b)}),d.push("retina"),d.join(" ")});var d=a.start_from_last?a.start_from_last:a.opt.startAt?a.opt.startAt:1;a.start_from_last=null,a.player.playVideo(),a.player.seekTo(d,!0),clearInterval(a.checkForStartAt),a.checkForStartAt=setInterval(function(){jQuery(a).YTPMute();var c=a.player.getVideoLoadedFraction()>=d/a.player.getDuration();if(a.player.getDuration()>0&&a.player.getCurrentTime()>=d&&c){clearInterval(a.checkForStartAt),"function"==typeof a.opt.onReady&&a.opt.onReady(a),a.isReady=!0;var e=jQuery.Event("YTPReady");if(e.time=a.currentTime,jQuery(a).trigger(e),a.preventTrigger=!0,a.state=2,jQuery(a).YTPPause(),a.opt.mute||jQuery(a).YTPUnmute(),a.canTrigger=!0,a.opt.autoPlay){var f=jQuery.Event("YTPStart");f.time=a.currentTime,jQuery(a).trigger(f),jQuery(a.playerEl).CSSAnimate({opacity:1},1e3),b.YTPPlay(),a.wrapper.CSSAnimate({opacity:a.isAlone?1:a.opt.opacity},2*a.opt.fadeOnStartTime),"mac"==jQuery.mbBrowser.os.name&&jQuery.mbBrowser.safari&&jQuery.mbBrowser.versionCompare(jQuery.mbBrowser.fullVersion,"10.1")<0&&(a.safariPlay=setInterval(function(){1!=a.state?b.YTPPlay():clearInterval(a.safariPlay)},10)),b.one("YTPReady",function(){b.YTPPlay()})}else a.player.pauseVideo(),a.isPlayer||(jQuery(a.playerEl).CSSAnimate({opacity:1[m[41m[m
 },a.opt.fadeOnStartTime),a.wrapper.CSSAnimate({opacity:a.isAlone?1:a.opt.opacity},a.opt.fadeOnStartTime)),a.controlBar.length&&a.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);a.isPlayer&&!a.opt.autoPlay&&a.loading&&a.loading.length&&(a.loading.html("Ready"),setTimeout(function(){a.loading.fadeOut()},100)),a.controlBar&&a.controlBar.length&&a.controlBar.slideDown(1e3)}else"mac"==jQuery.mbBrowser.os.name&&jQuery.mbBrowser.safari&&jQuery.mbBrowser.fullVersion&&jQuery.mbBrowser.versionCompare(jQuery.mbBrowser.fullVersion,"10.1")<0&&(a.player.playVideo(),d>=0&&a.player.seekTo(d,!0))},10)},setAnchor:function(a){var b=this;b.optimizeDisplay(a)},getAnchor:function(){var a=this.get(0);return a.opt.anchor},formatTime:function(a){var b=Math.floor(a/60),c=Math.floor(a-60*b);return(9>=b?"0"+b:b)+" : "+(9>=c?"0"+c:c)}},jQuery.fn.optimizeDisplay=function(anchor){var YTPlayer=this.get(0),playerBox=jQuery(YTPlayer.playerEl),vid={};YTPlayer.opt.anchor=anchor||YTPlayer.opt.anchor,YTPlayer.opt.anchor="undefined "!=typeof YTPlayer.opt.anchor?YTPlayer.opt.anchor:"center,center";var YTPAlign=YTPlayer.opt.anchor.split(",");if(YTPlayer.opt.optimizeDisplay){var abundance=YTPlayer.isPlayer?0:80,win={},el=YTPlayer.wrapper;win.width=el.outerWidth(),win.height=el.outerHeight()+abundance,YTPlayer.opt.ratio=eval(YTPlayer.opt.ratio),vid.width=win.width,vid.height=Math.ceil(vid.width/YTPlayer.opt.ratio),vid.marginTop=Math.ceil(-((vid.height-win.height)/2)),vid.marginLeft=0;var lowest=vid.height<win.height;lowest&&(vid.height=win.height,vid.width=Math.ceil(vid.height*YTPlayer.opt.ratio),vid.marginTop=0,vid.marginLeft=Math.ceil(-((vid.width-win.width)/2)));for(var a in YTPAlign)if(YTPAlign.hasOwnProperty(a)){var al=YTPAlign[a].replace(/ /g,"");switch(al){case"top":vid.marginTop=lowest?-((vid.height-win.height)/2):0;break;case"bottom":vid.marginTop=lowest?0:-(vid.height-win.height);break;case"left":vid.marginLeft=0;break;case"right":vid.marginLeft=lowest?-(vid.width-win.width):0;break;default:vid.width>win.width&&(vid.marginLeft=-((vid.width-win.width)/2))}}}else vid.width="100%",vid.height="100%",vid.marginTop=0,vid.marginLeft=0;playerBox.css({width:vid.width,height:vid.height,marginTop:vid.marginTop,marginLeft:vid.marginLeft,maxWidth:"initial"})},jQuery.shuffle=function(a){for(var b=a.slice(),c=b.length,d=c;d--;){var e=parseInt(Math.random()*c),f=b[d];b[d]=b[e],b[e]=f}return b},jQuery.fn.unselectable=function(){return this.each(function(){jQuery(this).css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).attr("unselectable","on")})},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play,jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay,jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop,jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause,jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist,jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext,jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.YTPPlayIndex=jQuery.mbYTPlayer.playIndex,jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute,jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute,jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume,jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData,jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter,jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters,jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter,jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters,jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter,jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters,jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters,jQuery.fn.YTPGetFilters=jQuery.mbYTPlayer.getFilters,jQuery.fn.YTPGetTime=jQuery.mbYTPlayer.getTime,jQuery.fn.YTPGetTotalTime=jQuery.mbYTPlayer.getTotalTime,jQuery.fn.YTPAddMask=jQuery.mbYTPlayer.addMask,jQuery.fn.YTPRemoveMask=jQuery.mbYTPlayer.removeMask,jQuery.fn.YTPToggleMask=jQuery.mbYTPlayer.toggleMask,jQuery.fn.YTPSetAnchor=jQuery.mbYTPlayer.setAnchor,jQuery.fn.YTPGetAnchor=jQuery.mbYTPlayer.getAnchor,jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.play,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData}(jQuery,ytp),jQuery.support.CSStransition=function(){var a=document.body||document.documentElement,b=a.style;return void 0!==b.transition||void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.MsTransition||void 0!==b.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(a){var b=jQuery.extend(!0,{},a);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var c in b){"transform"===c&&(b[jQuery.CSS.sfx+"transform"]=b[c],delete b[c]),"transform-origin"===c&&(b[jQuery.CSS.sfx+"transform-origin"]=a[c],delete b[c]),"filter"!==c||jQuery.browser.mozilla||(b[jQuery.CSS.sfx+"filter"]=a[c],delete b[c]),"blur"===c&&setFilter(b,"blur",a[c]),"brightness"===c&&setFilter(b,"brightness",a[c]),"contrast"===c&&setFilter(b,"contrast",a[c]),"grayscale"===c&&setFilter(b,"grayscale",a[c]),"hueRotate"===c&&setFilter(b,"hueRotate",a[c]),"invert"===c&&setFilter(b,"invert",a[c]),"saturate"===c&&setFilter(b,"saturate",a[c]),"sepia"===c&&setFilter(b,"sepia",a[c]);var d="";"x"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateX("+setUnit(a[c],"px")+")",delete b[c]),"y"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateY("+setUnit(a[c],"px")+")",delete b[c]),"z"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateZ("+setUnit(a[c],"px")+")",delete b[c]),"rotate"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotate("+setUnit(a[c],"deg")+")",delete b[c]),"rotateX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateX("+setUnit(a[c],"deg")+")",delete b[c]),"rotateY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateY("+setUnit(a[c],"deg")+")",delete b[c]),"rotateZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateZ("+setUnit(a[c],"deg")+")",delete b[c]),"scale"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scale("+setUnit(a[c],"")+")",delete b[c]),"scaleX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleX("+setUnit(a[c],"")+")",delete b[c]),"scaleY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleY("+setUnit(a[c],"")+")",delete b[c]),"scaleZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleZ("+setUnit(a[c],"")+")",delete b[c]),"skew"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skew("+setUnit(a[c],"deg")+")",delete b[c]),"skewX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewX("+setUnit(a[c],"deg")+")",delete b[c]),"skewY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewY("+setUnit(a[c],"deg")+")",delete b[c]),"perspective"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" perspective("+setUnit(a[c],"px")+")",delete b[c])}return b},getProp:function(a){var b=[];for(var c in a)b.indexOf(c)<0&&b.push(uncamel(c));return b.join(",")},animate:function(a,b,c,d,e){return this.each(function(){function f(){g.called=!0,g.CSSAIsRunning=!1,h.off(jQuery.CSS.transitionEnd+"."+g.id),clearTimeout(g.timeout),h.css(jQuery.CSS.sfx+"transition",""),"function"==typeof e&&e.apply(g),"function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)}var g=this,h=jQuery(this);g.id=g.id||"CSSA_"+(new Date).getTime();var i=i||{type:"noEvent"};if(g.CSSAIsRunning&&g.eventType==i.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(g.CSSqueue=function(){h.CSSAnimate(a,b,c,d,e)});if(g.CSSqueue=null,g.eventType=i.type,0!==h.length&&a){if(a=jQuery.normalizeCss(a),g.CSSAIsRunning=!0,"function"==typeof b&&(e=b,b=jQuery.fx.speeds._default),"function"==typeof c&&(d=c,c=0),"string"==typeof c&&(e=c,c=0),"function"==typeof d&&(e=d,d="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof b)for(var j in jQuery.fx.speeds){if(b==j){b=jQuery.fx.speeds[j];break}b=jQuery.fx.speeds._default}if(b||(b=jQuery.fx.speeds._default),"string"==typeof e&&(d=e,e=null),!jQuery.support.CSStransition){for(var k in a){if("transform"===k&&delete a[k],"filter"===k&&delete a[k],"transform-origin"===k&&delete a[k],"auto"===a[k]&&delete a[k],"x"===k){var l=a[k],m="left";a[m]=l,delete a[k]}if("y"===k){var l=a[k],m="top";a[m]=l,delete a[k]}("-ms-transform"===k||"-ms-filter"===k)&&delete a[k]}return void h.delay(c).animate(a,b,e)}var n={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};n[d]&&(d=n[d]),h.off(jQuery.CSS.transitionEnd+"."+g.id);var o=jQuery.CSS.getProp(a),p={};jQuery.extend(p,a),p[jQuery.CSS.sfx+"transition-property"]=o,p[jQuery.CSS.sfx+"transition-duration"]=b+"ms",p[jQuery.CSS.sfx+"transition-delay"]=c+"ms",p[jQuery.CSS.sfx+"transition-timing-function"]=d,setTimeout(function(){h.one(jQuery.CSS.transitionEnd+"."+g.id,f),h.css(p)},1),g.timeout=setTimeout(function(){return g.called||!e?(g.called=!1,void(g.CSSAIsRunning=!1)):(h.css(jQuery.CSS.sfx+"transition",""),e.apply(g),g.CSSAIsRunning=!1,void("function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)))},b+c+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(a){return this.each(function(){var b=jQuery(this),c=jQuery.normalizeCss(a);b.css(c)})};var nAgt=navigator.userAgent;jQuery.browser=jQuery.browser||{},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.androidStock=!1,jQuery.browser.msie=!1,jQuery.browser.edge=!1,jQuery.browser.ua=nAgt;var getOS=function(){var a={version:"Unknown version",name:"Unknown OS"};return-1!=navigator.appVersion.indexOf("Win")&&(a.name="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&0>navigator.appVersion.indexOf("Mobile")&&(a.name="Mac"),-1!=navigator.appVersion.indexOf("Linux")&&(a.name="Linux"),/Mac OS X/.test(nAgt)&&!/Mobile/.test(nAgt)&&(a.version=/Mac OS X (10[\.\_\d]+)/.exec(nAgt)[1],a.version=a.version.replace(/_/g,".").substring(0,5)),/Windows/.test(nAgt)&&(a.version="Unknown.Unknown"),/Windows NT 5.1/.test(nAgt)&&(a.version="5.1"),/Windows NT 6.0/.test(nAgt)&&(a.version="6.0"),/Windows NT 6.1/.test(nAgt)&&(a.version="6.1"),/Windows NT 6.2/.test(nAgt)&&(a.version="6.2"),/Windows NT 10.0/.test(nAgt)&&(a.version="10.0"),/Linux/.test(nAgt)&&/Linux/.test(nAgt)&&(a.version="Unknown.Unknown"),a.name=a.name.toLowerCase(),a.major_version="Unknown",a.minor_version="Unknown","Unknown.Unknown"!=a.version&&(a.major_version=parseFloat(a.version.split(".")[0]),a.minor_version=parseFloat(a.version.split(".")[1])),a};jQuery.browser.os=getOS(),jQuery.browser.hasTouch=isTouchSupported(),jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Edge"))?(jQuery.browser.edge=!0,jQuery.browser.name="Microsoft Edge",jQuery.browser.fullVersion=nAgt.substring(verOffset+5)):-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1<nAgt.indexOf("mozilla/5.0")&&-1<nAgt.indexOf("android ")&&-1<nAgt.indexOf("applewebkit")&&!(-1<nAgt.indexOf("chrome"))?(verOffset=nAgt.indexOf("Chrome"),jQuery.browser.webkit=!0,jQuery.browser.androidStock=!0,jQuery.browser.name="androidStock",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion,jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&765<jQuery(window).width(),jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),jQuery.mbBrowser=jQuery.browser,jQuery.browser.versionCompare=function(a,b){if("stringstring"!=typeof a+typeof b)return!1;for(var c=a.split("."),d=b.split("."),e=0,f=Math.max(c.length,d.length);f>e;e++){if(c[e]&&!d[e]&&0<parseInt(c[e])||parseInt(c[e])>parseInt(d[e]))return 1;if(d[e]&&!c[e]&&0<parseInt(d[e])||parseInt(c[e])<parseInt(d[e]))return-1}return 0},function(a){a.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:a.browser.mobile?"touchstart":"mousedown",end:a.browser.mobile?"touchend":"mouseup",move:a.browser.mobile?"touchmove":"mousemove"},init:function(b){return this.each(function(){var c=this,d=a(c);d.addClass("simpleSlider"),c.opt={},a.extend(c.opt,a.simpleSlider.defaults,b),a.extend(c.opt,d.data());var e="h"==c.opt.orientation?"horizontal":"vertical",e=a("<div/>").addClass("level").addClass(e);d.prepend(e),c.level=e,d.css({cursor:"default"}),"auto"==c.opt.scale&&(c.opt.scale=a(c).outerWidth()),d.updateSliderVal(),c.opt.readonly||(d.on(a.simpleSlider.events.start,function(b){a.browser.mobile&&(b=b.changedTouches[0]),c.canSlide=!0,d.updateSliderVal(b),"h"==c.opt.orientation?d.css({cursor:"col-resize"}):d.css({cursor:"row-resize"}),b.preventDefault(),b.stopPropagation()}),a(document).on(a.simpleSlider.events.move,function(b){a.browser.mobile&&(b=b.changedTouches[0]),c.canSlide&&(a(document).css({cursor:"default"}),d.updateSliderVal(b),b.preventDefault(),b.stopPropagation())}).on(a.simpleSlider.events.end,function(){a(document).css({cursor:"auto"}),c.canSlide=!1,d.css({cursor:"auto"})}))})},updateSliderVal:function(b){var c=this.get(0);if(c.opt){c.opt.initialval="number"==typeof c.opt.initialval?c.opt.initialval:c.opt.initialval(c);var d=a(c).outerWidth(),e=a(c).outerHeight();c.x="object"==typeof b?b.clientX+document.body.scrollLeft-this.offset().left:"number"==typeof b?b*d/c.opt.scale:c.opt.initialval*d/c.opt.scale,c.y="object"==typeof b?b.clientY+document.body.scrollTop-this.offset().top:"number"==typeof b?(c.opt.scale-c.opt.initialval-b)*e/c.opt.scale:c.opt.initialval*e/c.opt.scale,c.y=this.outerHeight()-c.y,c.scaleX=c.x*c.opt.scale/d,c.scaleY=c.y*c.opt.scale/e,c.outOfRangeX=c.scaleX>c.opt.scale?c.scaleX-c.opt.scale:0>c.scaleX?c.scaleX:0,c.outOfRangeY=c.scaleY>c.opt.scale?c.scaleY-c.opt.scale:0>c.scaleY?c.scaleY:0,c.outOfRange="h"==c.opt.orientation?c.outOfRangeX:c.outOfRangeY,c.value="undefined"!=typeof b?"h"==c.opt.orientation?c.x>=this.outerWidth()?c.opt.scale:0>=c.x?0:c.scaleX:c.y>=this.outerHeight()?c.opt.scale:0>=c.y?0:c.scaleY:"h"==c.opt.orientation?c.scaleX:c.scaleY,"h"==c.opt.orientation?c.level.width(Math.floor(100*c.x/d)+"%"):c.level.height(Math.floor(100*c.y/e)),"function"==typeof c.opt.callback&&c.opt.callback(c)}}},a.fn.simpleSlider=a.simpleSlider.init,a.fn.updateSliderVal=a.simpleSlider.updateSliderVal}(jQuery),function(a){a.mbCookie={set:function(a,b,c,d){"object"==typeof b&&(b=JSON.stringify(b)),d=d?"; domain="+d:"";var e=new Date,f="";c>0&&(e.setTime(e.getTime()+864e5*c),f="; expires="+e.toGMTString()),document.cookie=a+"="+b+f+"; path=/"+d},get:function(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))try{return JSON.parse(d.substring(a.length,d.length))}catch(e){return d.substring(a.length,d.length)}}return null},remove:function(b){a.mbCookie.set(b,"",-1)}},a.mbStorage={set:function(a,b){"object"==typeof b&&(b=JSON.stringify(b)),localStorage.setItem(a,b)},get:function(a){if(!localStorage[a])return null;try{return JSON.parse(localStorage[a])}catch(b){return localStorage[a]}},remove:function(a){a?localStorage.removeItem(a):localStorage.clear()}}}(jQuery);[m
\ No newline at end of file[m
[1mdiff --git a/app/assets/stylesheets/player.scss b/app/assets/stylesheets/player.scss[m
[1mindex deb9c59..50df202 100644[m
[1m--- a/app/assets/stylesheets/player.scss[m
[1m+++ b/app/assets/stylesheets/player.scss[m
[36m@@ -1,13 +1,13 @@[m
[31m-.radio-player-ulis {[m
[31m-[m
[31m-	position: fixed;[m
[31m-	bottom:0;[m
[31m-	width:100%;[m
[31m-	height:100px;[m
[31m-	padding:30px;[m
[31m-}[m
[31m-[m
[31m-.radio-player-ulis > audio {[m
[31m-[m
[31m-	width:100%;[m
[32m+[m[32m.radio-player-ulis {[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mposition: fixed;[m[41m[m
[32m+[m	[32mbottom:0;[m[41m[m
[32m+[m	[32mwidth:100%;[m[41m[m
[32m+[m	[32mheight:100px;[m[41m[m
[32m+[m	[32mpadding:30px;[m[41m[m
[32m+[m[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[32m.radio-player-ulis > audio {[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mwidth:100%;[m[41m[m
 }[m
\ No newline at end of file[m
[1mdiff --git a/app/views/admin/playlist_sounds/_new.html.erb b/app/views/admin/playlist_sounds/_new.html.erb[m
[1mindex 218c47e..ae66409 100644[m
[1m--- a/app/views/admin/playlist_sounds/_new.html.erb[m
[1m+++ b/app/views/admin/playlist_sounds/_new.html.erb[m
[36m@@ -1,49 +1,49 @@[m
[31m-[m
[31m-<h2>Actuellement en ligne</h2>[m
[31m-<table style="text-align:left; width:33%;">[m
[31m-	<% Playlist.all.each do |playlist| %>[m
[31m-	<thread>[m
[31m-		<tr>[m
[31m-			<th>[m
[31m-				<h4><%= playlist.title %></h4>[m
[31m-			</th>[m
[31m-			<th>[m
[31m-				titre[m
[31m-			</th>[m
[31m-			<th>[m
[31m-				position[m
[31m-			</th>[m
[31m-		</tr>[m
[31m-	</thread>[m
[31m-	<% playlist.playlist_sound.each do |play_sound| %>[m
[31m-	<tbody>[m
[31m-		<tr>[m
[31m-			<td></td>[m
[31m-			<td>[m
[31m-				<%= Sound.find(play_sound.sound_id).title %>[m
[31m-			</td>[m
[31m-			<td>[m
[31m-				<%= play_sound.order %>[m
[31m-			</td>[m
[31m-		</tr>[m
[31m-	</tbody>[m
[31m-	<tbody>	[m
[31m-	</tbody>[m
[31m-	<% end %>[m
[31m-	<% end %>[m
[31m-</table>[m
[31m-[m
[31m-<style>[m
[31m-[m
[31m-	form fieldset.inputs {[m
[31m-		width:33%;[m
[31m-	}[m
[31m-	label, select {[m
[31m-		width:200px!important;[m
[31m-	}[m
[31m-	input {[m
[31m-		width:55px!important;[m
[31m-	}[m
[31m-[m
[31m-[m
[32m+[m[41m[m
[32m+[m[32m<h2>Actuellement en ligne</h2>[m[41m[m
[32m+[m[32m<table style="text-align:left; width:33%;">[m[41m[m
[32m+[m	[32m<% Playlist.all.each do |playlist| %>[m[41m[m
[32m+[m	[32m<thread>[m[41m[m
[32m+[m		[32m<tr>[m[41m[m
[32m+[m			[32m<th>[m[41m[m
[32m+[m				[32m<h4><%= playlist.title %></h4>[m[41m[m
[32m+[m			[32m</th>[m[41m[m
[32m+[m			[32m<th>[m[41m[m
[32m+[m				[32mtitre[m[41m[m
[32m+[m			[32m</th>[m[41m[m
[32m+[m			[32m<th>[m[41m[m
[32m+[m				[32mposition[m[41m[m
[32m+[m			[32m</th>[m[41m[m
[32m+[m		[32m</tr>[m[41m[m
[32m+[m	[32m</thread>[m[41m[m
[32m+[m	[32m<% playlist.playlist_sound.each do |play_sound| %>[m[41m[m
[32m+[m	[32m<tbody>[m[41m[m
[32m+[m		[32m<tr>[m[41m[m
[32m+[m			[32m<td></td>[m[41m[m
[32m+[m			[32m<td>[m[41m[m
[32m+[m				[32m<%= Sound.find(play_sound.sound_id).title %>[m[41m[m
[32m+[m			[32m</td>[m[41m[m
[32m+[m			[32m<td>[m[41m[m
[32m+[m				[32m<%= play_sound.order %>[m[41m[m
[32m+[m			[32m</td>[m[41m[m
[32m+[m		[32m</tr>[m[41m[m
[32m+[m	[32m</tbody>[m[41m[m
[32m+[m	[32m<tbody>[m[41m	[m
[32m+[m	[32m</tbody>[m[41m[m
[32m+[m	[32m<% end %>[m[41m[m
[32m+[m	[32m<% end %>[m[41m[m
[32m+[m[32m</table>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m<style>[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mform fieldset.inputs {[m[41m[m
[32m+[m		[32mwidth:33%;[m[41m[m
[32m+[m	[32m}[m[41m[m
[32m+[m	[32mlabel, select {[m[41m[m
[32m+[m		[32mwidth:200px!important;[m[41m[m
[32m+[m	[32m}[m[41m[m
[32m+[m	[32minput {[m[41m[m
[32m+[m		[32mwidth:55px!important;[m[41m[m
[32m+[m	[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
 </style>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/admin/sounds/upload.html.erb b/app/views/admin/sounds/upload.html.erb[m
[1mindex 9c02d1c..372e4ea 100644[m
[1m--- a/app/views/admin/sounds/upload.html.erb[m
[1m+++ b/app/views/admin/sounds/upload.html.erb[m
[36m@@ -1,130 +1,130 @@[m
[31m-<div class="section-upload">[m
[31m-	<div class="row-upload">[m
[31m-		<div class="title-upload">[m
[31m-			<h3><%= resource.title %></h3>[m
[31m-		</div>[m
[31m-	</div>[m
[31m-	<div class="row-upload">[m
[31m-		<div class="button-upload">[m
[31m-			<button id="upload_mp3" class="cloudinary-button">Upload mp3</button>[m
[31m-		</div>[m
[31m-		<div class="preview-upload">[m
[31m-			<audio id="sound_audio" src="<%= resource.source unless resource.source.nil? %>" controls="true"></audio>[m
[31m-		</div>[m
[31m-	</div>[m
[31m-	<div class="row-upload">[m
[31m-		<div class="button-upload">[m
[31m-			<button id="upload_poster" class="cloudinary-button">Upload image</button>[m
[31m-		</div>[m
[31m-		<div class="preview-upload">[m
[31m-			<image id="sound_preview" src="<%= resource.poster unless resource.poster.nil? %>"></image>[m
[31m-		</div>[m
[31m-	</div>[m
[31m-</div>[m
[31m-[m
[31m-  [m
[31m- [m
[31m-[m
[31m-<script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>[m
[31m-[m
[31m-[m
[31m-[m
[31m-<div class="hidden-form">[m
[31m-<%= semantic_form_for [:admin, Sound.find(params[:id])] do |f| %>[m
[31m-		<%= hidden_field_tag :par_ici, value: true %>[m
[31m-		<%= 	f.inputs do %>[m
[31m-		<%= 	f.input :poster %>[m
[31m-		<%= 	f.input :source %>[m
[31m-[m
[31m-	<% end %>[m
[31m-	<%= f.actions %>[m
[31m-	[m
[31m-	[m
[31m-<% end %>[m
[31m-</div>[m
[31m-[m
[31m-[m
[31m-<script type="text/javascript">  [m
[31m-	var mp3_widget = cloudinary.createUploadWidget({ [m
[31m-		cloudName: "dvhymcfm3", uploadPreset: "msg2xcck", folder: "radio_ulis/audio", multiple: false }, (error, result) => { [m
[31m-[m
[31m-			if (result.info.url != null) {[m
[31m-				console.log(result.info.url);[m
[31m-				//$("#preview").attr('src', result.info.url);[m
[31m-				$("#sound_source").val(result.info.url);[m
[31m-				$('<%= "#edit_sound_#{params[:id]}" %>').submit();[m
[31m-			}[m
[31m-		});[m
[31m-[m
[31m-[m
[31m-	document.getElementById("upload_mp3").addEventListener("click", function(){[m
[31m-		mp3_widget.open();[m
[31m-	}, false);[m
[31m-[m
[31m-	var poster_widget = cloudinary.createUploadWidget({ [m
[31m-		cloudName: "dvhymcfm3", uploadPreset: "msg2xcck", folder: "radio_ulis/poster", multiple: false }, (error, result) => { [m
[31m-[m
[31m-			if (result.info.url != null) {[m
[31m-				console.log(result.info.url);[m
[31m-				$("#preview").attr('src', result.info.url);[m
[31m-				$("#sound_poster").val(result.info.url);[m
[31m-				$('<%= "#edit_sound_#{params[:id]}" %>').submit();[m
[31m-			}[m
[31m-		});[m
[31m-[m
[31m-[m
[31m-	document.getElementById("upload_poster").addEventListener("click", function(){[m
[31m-		poster_widget.open();[m
[31m-	}, false);[m
[31m-[m
[31m-[m
[31m-	function updateSoundSource(url) {[m
[31m-[m
[31m-		var fd = new FormData();[m
[31m-		fd.append('source', url);[m
[31m-		Rails.ajax({[m
[31m-			type: "PUT",[m
[31m-			url: "/sounds/#{params[:id]}",[m
[31m-			data: fd[m
[31m-		});[m
[31m-[m
[31m-	}[m
[31m-[m
[31m-	function updateSoundPoster(url) {[m
[31m-[m
[31m-		var fd = new FormData();[m
[31m-		fd.append('poster', url);[m
[31m-		Rails.ajax({[m
[31m-			type: "PUT",[m
[31m-			url: "/sounds/#{params[:id]}",[m
[31m-			data: fd[m
[31m-		});[m
[31m-[m
[31m-	}[m
[31m-[m
[31m-	function testUpload(url) {[m
[31m-[m
[31m-[m
[31m-		$.ajax({[m
[31m-			type: 'PATCH',[m
[31m-			dataType: 'json',[m
[31m-			accept: 'json',[m
[31m-			path: '34',[m
[31m-			data: {[m
[31m-				source: url[m
[31m-			},[m
[31m-			beforeSend: (xhr, options) => {[m
[31m-				xhr.setRequestHeader('Content-Type', 'application/json')[m
[31m-				return true[m
[31m-			},[m
[31m-			success: (response) => {[m
[31m-			},[m
[31m-			failure: (response) => {[m
[31m-			}[m
[31m-		});[m
[31m-	}[m
[31m-[m
[31m-[m
[31m-</script>[m
[31m-[m
[31m-[m
[32m+[m[32m<div class="section-upload">[m[41m[m
[32m+[m	[32m<div class="row-upload">[m[41m[m
[32m+[m		[32m<div class="title-upload">[m[41m[m
[32m+[m			[32m<h3><%= resource.title %></h3>[m[41m[m
[32m+[m		[32m</div>[m[41m[m
[32m+[m	[32m</div>[m[41m[m
[32m+[m	[32m<div class="row-upload">[m[41m[m
[32m+[m		[32m<div class="button-upload">[m[41m[m
[32m+[m			[32m<button id="upload_mp3" class="cloudinary-button">Upload mp3</button>[m[41m[m
[32m+[m		[32m</div>[m[41m[m
[32m+[m		[32m<div class="preview-upload">[m[41m[m
[32m+[m			[32m<audio id="sound_audio" src="<%= resource.source unless resource.source.nil? %>" controls="true"></audio>[m[41m[m
[32m+[m		[32m</div>[m[41m[m
[32m+[m	[32m</div>[m[41m[m
[32m+[m	[32m<div class="row-upload">[m[41m[m
[32m+[m		[32m<div class="button-upload">[m[41m[m
[32m+[m			[32m<button id="upload_poster" class="cloudinary-button">Upload image</button>[m[41m[m
[32m+[m		[32m</div>[m[41m[m
[32m+[m		[32m<div class="preview-upload">[m[41m[m
[32m+[m			[32m<image id="sound_preview" src="<%= resource.poster unless resource.poster.nil? %>"></image>[m[41m[m
[32m+[m		[32m</div>[m[41m[m
[32m+[m	[32m</div>[m[41m[m
[32m+[m[32m</div>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m  [m
[32m+[m[41m [m
[32m+[m[41m[m
[32m+[m[32m<script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m<div class="hidden-form">[m[41m[m
[32m+[m[32m<%= semantic_form_for [:admin, Sound.find(params[:id])] do |f| %>[m[41m[m
[32m+[m		[32m<%= hidden_field_tag :par_ici, value: true %>[m[41m[m
[32m+[m		[32m<%= 	f.inputs do %>[m[41m[m
[32m+[m		[32m<%= 	f.input :poster %>[m[41m[m
[32m+[m		[32m<%= 	f.input :source %>[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m<% end %>[m[41m[m
[32m+[m	[32m<%= f.actions %>[m[41m[m
[32m+[m[41m	[m
[32m+[m[41m	[m
[32m+[m[32m<% end %>[m[41m[m
[32m+[m[32m</div>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m<script type="text/javascript">[m[41m  [m
[32m+[m	[32mvar mp3_widget = cloudinary.createUploadWidget({[m[41m [m
[32m+[m		[32mcloudName: "dvhymcfm3", uploadPreset: "msg2xcck", folder: "radio_ulis/audio", multiple: false }, (error, result) => {[m[41m [m
[32m+[m[41m[m
[32m+[m			[32mif (result.info.url != null) {[m[41m[m
[32m+[m				[32mconsole.log(result.info.url);[m[41m[m
[32m+[m				[32m//$("#preview").attr('src', result.info.url);[m[41m[m
[32m+[m				[32m$("#sound_source").val(result.info.url);[m[41m[m
[32m+[m				[32m$('<%= "#edit_sound_#{params[:id]}" %>').submit();[m[41m[m
[32m+[m			[32m}[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mdocument.getElementById("upload_mp3").addEventListener("click", function(){[m[41m[m
[32m+[m		[32mmp3_widget.open();[m[41m[m
[32m+[m	[32m}, false);[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mvar poster_widget = cloudinary.createUploadWidget({[m[41m [m
[32m+[m		[32mcloudName: "dvhymcfm3", uploadPreset: "msg2xcck", folder: "radio_ulis/poster", multiple: false }, (error, result) => {[m[41m [m
[32m+[m[41m[m
[32m+[m			[32mif (result.info.url != null) {[m[41m[m
[32m+[m				[32mconsole.log(result.info.url);[m[41m[m
[32m+[m				[32m$("#preview").attr('src', result.info.url);[m[41m[m
[32m+[m				[32m$("#sound_poster").val(result.info.url);[m[41m[m
[32m+[m				[32m$('<%= "#edit_sound_#{params[:id]}" %>').submit();[m[41m[m
[32m+[m			[32m}[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mdocument.getElementById("upload_poster").addEventListener("click", function(){[m[41m[m
[32m+[m		[32mposter_widget.open();[m[41m[m
[32m+[m	[32m}, false);[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mfunction updateSoundSource(url) {[m[41m[m
[32m+[m[41m[m
[32m+[m		[32mvar fd = new FormData();[m[41m[m
[32m+[m		[32mfd.append('source', url);[m[41m[m
[32m+[m		[32mRails.ajax({[m[41m[m
[32m+[m			[32mtype: "PUT",[m[41m[m
[32m+[m			[32murl: "/sounds/#{params[:id]}",[m[41m[m
[32m+[m			[32mdata: fd[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mfunction updateSoundPoster(url) {[m[41m[m
[32m+[m[41m[m
[32m+[m		[32mvar fd = new FormData();[m[41m[m
[32m+[m		[32mfd.append('poster', url);[m[41m[m
[32m+[m		[32mRails.ajax({[m[41m[m
[32m+[m			[32mtype: "PUT",[m[41m[m
[32m+[m			[32murl: "/sounds/#{params[:id]}",[m[41m[m
[32m+[m			[32mdata: fd[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mfunction testUpload(url) {[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m		[32m$.ajax({[m[41m[m
[32m+[m			[32mtype: 'PATCH',[m[41m[m
[32m+[m			[32mdataType: 'json',[m[41m[m
[32m+[m			[32maccept: 'json',[m[41m[m
[32m+[m			[32mpath: '34',[m[41m[m
[32m+[m			[32mdata: {[m[41m[m
[32m+[m				[32msource: url[m[41m[m
[32m+[m			[32m},[m[41m[m
[32m+[m			[32mbeforeSend: (xhr, options) => {[m[41m[m
[32m+[m				[32mxhr.setRequestHeader('Content-Type', 'application/json')[m[41m[m
[32m+[m				[32mreturn true[m[41m[m
[32m+[m			[32m},[m[41m[m
[32m+[m			[32msuccess: (response) => {[m[41m[m
[32m+[m			[32m},[m[41m[m
[32m+[m			[32mfailure: (response) => {[m[41m[m
[32m+[m			[32m}[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m	[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m</script>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/app/views/playlists/index.html.erb b/app/views/playlists/index.html.erb[m
[1mindex 64f3863..6e8f878 100644[m
[1m--- a/app/views/playlists/index.html.erb[m
[1m+++ b/app/views/playlists/index.html.erb[m
[36m@@ -1,51 +1,51 @@[m
[31m-<div class="section-playlists">[m
[31m-  <div class="tab__content">[m
[31m-    <section class="switchable ">[m
[31m-      <div class="container">[m
[31m-        <div class="row">[m
[31m-         <h2>Ulis de Lastvader</h2>[m
[31m-         <span h3><%= @playlists.count %> Playlists à découvrir </span>[m
[31m-         <span h3>- <%= Sound.all.count %> Sons à écouter </span>[m
[31m-         <div class="col switchable__text">[m
[31m-          <ul class="accordion accordion-1" style="min-height: 0px;">[m
[31m-[m
[31m-            <% @playlists.each do |play| %>[m
[31m-[m
[31m-[m
[31m-            <li>[m
[31m-              <div class="accordion__title">[m
[31m-                <span class="h4"><%= play.title %> </span> - <span class="h5"><%= play.playlist_sound.count %> Émissions</span>[m
[31m-              </div>[m
[31m-              <% play.playlist_sound.each do |play_list| %>[m
[31m-              <div class="accordion__content">[m
[31m-                <div class="section-sounds">[m
[31m-                  <div class="section-sound">[m
[31m-                    <div class="title-sound">[m
[31m-                      <h5><%= Sound.find(play_list.sound_id).title %></h5>[m
[31m-                    </div>[m
[31m-                    <div class="img-sound">[m
[31m-                      <img src="https://res.cloudinary.com/dvhymcfm3/image/upload/v1569358661/radio_ulis/poster/product-small-7.jpg"></img>[m
[31m-                    </div>[m
[31m-                    <div class="play-sound">[m
[31m-                      <%= image_tag('play_btn.svg', class: 'play-js', data: {source: url_audio(Sound.find(play_list.sound_id)) })  %>[m
[31m-                    </div>[m
[31m-                  </div>[m
[31m-                </div>[m
[31m-[m
[31m-              </div>[m
[31m-              <% end %>[m
[31m-            </li>[m
[31m-            <% end %>[m
[31m-[m
[31m-          </ul>[m
[31m-[m
[31m-        </div>[m
[31m-[m
[31m-      </div>[m
[31m-[m
[31m-    </div>[m
[31m-[m
[31m-  </section>[m
[31m-</div>[m
[31m-</div>[m
[32m+[m[32m<div class="section-playlists">[m[41m[m
[32m+[m[32m  <div class="tab__content">[m[41m[m
[32m+[m[32m    <section class="switchable ">[m[41m[m
[32m+[m[32m      <div class="container">[m[41m[m
[32m+[m[32m        <div class="row">[m[41m[m
[32m+[m[32m         <h2>Ulis de Lastvader</h2>[m[41m[m
[32m+[m[32m         <span h3><%= @playlists.count %> Playlists à découvrir </span>[m[41m[m
[32m+[m[32m         <span h3>- <%= Sound.all.count %> Sons à écouter </span>[m[41m[m
[32m+[m[32m         <div class="col switchable__text">[m[41m[m
[32m+[m[32m          <ul class="accordion accordion-1" style="min-height: 0px;">[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            <% @playlists.each do |play| %>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m            <li>[m[41m[m
[32m+[m[32m              <div class="accordion__title">[m[41m[m
[32m+[m[32m                <span class="h4"><%= play.title %> </span> - <span class="h5"><%= play.playlist_sound.count %> Émissions</span>[m[41m[m
[32m+[m[32m              </div>[m[41m[m
[32m+[m[32m              <% play.playlist_sound.each do |play_list| %>[m[41m[m
[32m+[m[32m              <div class="accordion__content">[m[41m[m
[32m+[m[32m                <div class="section-sounds">[m[41m[m
[32m+[m[32m                  <div class="section-sound">[m[41m[m
[32m+[m[32m                    <div class="title-sound">[m[41m[m
[32m+[m[32m                      <h5><%= Sound.find(play_list.sound_id).title %></h5>[m[41m[m
[32m+[m[32m                    </div>[m[41m[m
[32m+[m[32m                    <div class="img-sound">[m[41m[m
[32m+[m[32m                      <img src="https://res.cloudinary.com/dvhymcfm3/image/upload/v1569358661/radio_ulis/poster/product-small-7.jpg"></img>[m[41m[m
[32m+[m[32m                    </div>[m[41m[m
[32m+[m[32m                    <div class="play-sound">[m[41m[m
[32m+[m[32m                      <%= image_tag('play_btn.svg', class: 'play-js', data: {source: url_audio(Sound.find(play_list.sound_id)) })  %>[m[41m[m
[32m+[m[32m                    </div>[m[41m[m
[32m+[m[32m                  </div>[m[41m[m
[32m+[m[32m                </div>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m              </div>[m[41m[m
[32m+[m[32m              <% end %>[m[41m[m
[32m+[m[32m            </li>[m[41m[m
[32m+[m[32m            <% end %>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m          </ul>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m        </div>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m      </div>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m    </div>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m  </section>[m[41m[m
[32m+[m[32m</div>[m[41m[m
[32m+[m[32m</div>[m[41m[m
 <%= render 'shared/player' %>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/shared/_player.html.erb b/app/views/shared/_player.html.erb[m
[1mindex 0cfd52f..da8a38b 100644[m
[1m--- a/app/views/shared/_player.html.erb[m
[1m+++ b/app/views/shared/_player.html.erb[m
[36m@@ -1,4 +1,4 @@[m
[31m-<div class="radio-player-ulis" id="radio_player">[m
[31m-	<audio controls="true" controlsList="nodownload" src="" type="audio/mpeg">[m
[31m-	</audio>[m
[32m+[m[32m<div class="radio-player-ulis" id="radio_player">[m[41m[m
[32m+[m	[32m<audio controls="true" controlsList="nodownload" src="" type="audio/mpeg">[m[41m[m
[32m+[m	[32m</audio>[m[41m[m
 </div>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/sounds/index.html.erb b/app/views/sounds/index.html.erb[m
[1mindex 289373e..99cb299 100644[m
[1m--- a/app/views/sounds/index.html.erb[m
[1m+++ b/app/views/sounds/index.html.erb[m
[36m@@ -1,16 +1,16 @@[m
[31m-<div class="section-sounds">[m
[31m-  <% @sounds.each do |sound| %>[m
[31m-  <div class="section-sound">[m
[31m-    <div class="img-sound">[m
[31m-      <img src="<%= sound.poster %>"></img>[m
[31m-    </div>[m
[31m-    <div class="title-sound">[m
[31m-      <h3><%= sound.title %></h3>[m
[31m-    </div>[m
[31m-    [m
[31m-    <div class="audio-sound">[m
[31m-      <audio controls="true" controlsList="nodownload" src="<%= sound.source %>" type="audio/mpeg"></audio>[m
[31m-    </div>[m
[31m-  </div>[m
[31m-  <% end %>[m
[32m+[m[32m<div class="section-sounds">[m[41m[m
[32m+[m[32m  <% @sounds.each do |sound| %>[m[41m[m
[32m+[m[32m  <div class="section-sound">[m[41m[m
[32m+[m[32m    <div class="img-sound">[m[41m[m
[32m+[m[32m      <img src="<%= sound.poster %>"></img>[m[41m[m
[32m+[m[32m    </div>[m[41m[m
[32m+[m[32m    <div class="title-sound">[m[41m[m
[32m+[m[32m      <h3><%= sound.title %></h3>[m[41m[m
[32m+[m[32m    </div>[m[41m[m
[32m+[m[41m    [m
[32m+[m[32m    <div class="audio-sound">[m[41m[m
[32m+[m[32m      <audio controls="true" controlsList="nodownload" src="<%= sound.source %>" type="audio/mpeg"></audio>[m[41m[m
[32m+[m[32m    </div>[m[41m[m
[32m+[m[32m  </div>[m[41m[m
[32m+[m[32m  <% end %>[m[41m[m
 </div>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/sounds/new.html.erb b/app/views/sounds/new.html.erb[m
[1mindex 4877c08..40ba0b7 100644[m
[1m--- a/app/views/sounds/new.html.erb[m
[1m+++ b/app/views/sounds/new.html.erb[m
[36m@@ -1,95 +1,95 @@[m
[31m-<button id="upload_mp3" class="cloudinary-button">Upload mp3</button>[m
[31m-<button id="upload_poster" class="cloudinary-button">Upload image</button>[m
[31m-[m
[31m-<image id="preview"></image>[m
[31m-[m
[31m-<script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>[m
[31m-[m
[31m-[m
[31m-[m
[31m-<script type="text/javascript">  [m
[31m-	var mp3_widget = cloudinary.createUploadWidget({ [m
[31m-		cloudName: "dvhymcfm3", uploadPreset: "msg2xcck", folder: "radio_ulis/audio", multiple: false }, (error, result) => { [m
[31m-[m
[31m-			if (result.info.url != null) {[m
[31m-				//updateSoundSource(result.info.url);[m
[31m-			}[m
[31m-		});[m
[31m-[m
[31m-[m
[31m-	document.getElementById("upload_mp3").addEventListener("click", function(){[m
[31m-		mp3_widget.open();[m
[31m-	}, false);[m
[31m-[m
[31m-	var poster_widget = cloudinary.createUploadWidget({ [m
[31m-		cloudName: "dvhymcfm3", uploadPreset: "msg2xcck", folder: "radio_ulis/poster", multiple: false }, (error, result) => { [m
[31m-[m
[31m-			if (result.info.url != null) {[m
[31m-				console.log(result.info.url);[m
[31m-[m
[31m-				testUpload(result.info.url);[m
[31m-[m
[31m-				$("#preview").attr('src', result.info.url);[m
[31m-			}[m
[31m-		});[m
[31m-[m
[31m-[m
[31m-	document.getElementById("upload_poster").addEventListener("click", function(){[m
[31m-		poster_widget.open();[m
[31m-	}, false);[m
[31m-[m
[31m-[m
[31m-	function updateSoundSource(url) {[m
[31m-[m
[31m-		var fd = new FormData();[m
[31m-		fd.append('source', url);[m
[31m-		Rails.ajax({[m
[31m-			type: "PUT",[m
[31m-			url: `/sounds/"#{params[:id]}"`,[m
[31m-			data: fd[m
[31m-		});[m
[31m-[m
[31m-	}[m
[31m-[m
[31m-	function updateSoundPoster(url) {[m
[31m-[m
[31m-		var fd = new FormData();[m
[31m-		fd.append('source', url);[m
[31m-		Rails.ajax({[m
[31m-			type: "PATCH",[m
[31m-			url: "/sounds/34",[m
[31m-			data: fd[m
[31m-		});[m
[31m-[m
[31m-	}[m
[31m-[m
[31m-	function testUpload(url) {[m
[31m-[m
[31m-		Rails.ajax({[m
[31m-			type: 'PATCH',[m
[31m-			dataType: 'json',[m
[31m-			accept: 'json',[m
[31m-			url: '/sounds/34',[m
[31m-			data: {[m
[31m-				source: url[m
[31m-			},[m
[31m-			beforeSend: (xhr, options) => {[m
[31m-				xhr.setRequestHeader('Content-Type', 'application/json')[m
[31m-				return true[m
[31m-			},[m
[31m-			success: (response) => {[m
[31m-			},[m
[31m-			failure: (response) => {[m
[31m-			}[m
[31m-		});[m
[31m-[m
[31m-[m
[31m-		[m
[31m-	}[m
[31m-[m
[31m-[m
[31m-</script>[m
[31m-[m
[31m-[m
[31m-[m
[31m-[m
[32m+[m[32m<button id="upload_mp3" class="cloudinary-button">Upload mp3</button>[m[41m[m
[32m+[m[32m<button id="upload_poster" class="cloudinary-button">Upload image</button>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m<image id="preview"></image>[m[41m[m
[32m+[m[41m[m
[32m+[m[32m<script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m<script type="text/javascript">[m[41m  [m
[32m+[m	[32mvar mp3_widget = cloudinary.createUploadWidget({[m[41m [m
[32m+[m		[32mcloudName: "dvhymcfm3", uploadPreset: "msg2xcck", folder: "radio_ulis/audio", multiple: false }, (error, result) => {[m[41m [m
[32m+[m[41m[m
[32m+[m			[32mif (result.info.url != null) {[m[41m[m
[32m+[m				[32m//updateSoundSource(result.info.url);[m[41m[m
[32m+[m			[32m}[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mdocument.getElementById("upload_mp3").addEventListener("click", function(){[m[41m[m
[32m+[m		[32mmp3_widget.open();[m[41m[m
[32m+[m	[32m}, false);[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mvar poster_widget = cloudinary.createUploadWidget({[m[41m [m
[32m+[m		[32mcloudName: "dvhymcfm3", uploadPreset: "msg2xcck", folder: "radio_ulis/poster", multiple: false }, (error, result) => {[m[41m [m
[32m+[m[41m[m
[32m+[m			[32mif (result.info.url != null) {[m[41m[m
[32m+[m				[32mconsole.log(result.info.url);[m[41m[m
[32m+[m[41m[m
[32m+[m				[32mtestUpload(result.info.url);[m[41m[m
[32m+[m[41m[m
[32m+[m				[32m$("#preview").attr('src', result.info.url);[m[41m[m
[32m+[m			[32m}[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mdocument.getElementById("upload_poster").addEventListener("click", function(){[m[41m[m
[32m+[m		[32mposter_widget.open();[m[41m[m
[32m+[m	[32m}, false);[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mfunction updateSoundSource(url) {[m[41m[m
[32m+[m[41m[m
[32m+[m		[32mvar fd = new FormData();[m[41m[m
[32m+[m		[32mfd.append('source', url);[m[41m[m
[32m+[m		[32mRails.ajax({[m[41m[m
[32m+[m			[32mtype: "PUT",[m[41m[m
[32m+[m			[32murl: `/sounds/"#{params[:id]}"`,[m[41m[m
[32m+[m			[32mdata: fd[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mfunction updateSoundPoster(url) {[m[41m[m
[32m+[m[41m[m
[32m+[m		[32mvar fd = new FormData();[m[41m[m
[32m+[m		[32mfd.append('source', url);[m[41m[m
[32m+[m		[32mRails.ajax({[m[41m[m
[32m+[m			[32mtype: "PATCH",[m[41m[m
[32m+[m			[32murl: "/sounds/34",[m[41m[m
[32m+[m			[32mdata: fd[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m	[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m	[32mfunction testUpload(url) {[m[41m[m
[32m+[m[41m[m
[32m+[m		[32mRails.ajax({[m[41m[m
[32m+[m			[32mtype: 'PATCH',[m[41m[m
[32m+[m			[32mdataType: 'json',[m[41m[m
[32m+[m			[32maccept: 'json',[m[41m[m
[32m+[m			[32murl: '/sounds/34',[m[41m[m
[32m+[m			[32mdata: {[m[41m[m
[32m+[m				[32msource: url[m[41m[m
[32m+[m			[32m},[m[41m[m
[32m+[m			[32mbeforeSend: (xhr, options) => {[m[41m[m
[32m+[m				[32mxhr.setRequestHeader('Content-Type', 'application/json')[m[41m[m
[32m+[m				[32mreturn true[m[41m[m
[32m+[m			[32m},[m[41m[m
[32m+[m			[32msuccess: (response) => {[m[41m[m
[32m+[m			[32m},[m[41m[m
[32m+[m			[32mfailure: (response) => {[m[41m[m
[32m+[m			[32m}[m[41m[m
[32m+[m		[32m});[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m		[m
[32m+[m	[32m}[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[32m</script>[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[32m+[m[41m[m
[1mdiff --git a/config/initializers/cloudinary.rb b/config/initializers/cloudinary.rb[m
[1mindex e48deec..f2b515b 100644[m
[1m--- a/config/initializers/cloudinary.rb[m
[1m+++ b/config/initializers/cloudinary.rb[m
[36m@@ -1,3 +1,3 @@[m
[31m-Cloudinary.config do |config|[m
[31m-  config.secure = true[m
[32m+[m[32mCloudinary.config do |config|[m[41m[m
[32m+[m[32m  config.secure = true[m[41m[m
 end[m
\ No newline at end of file[m
[1mdiff --git a/db/migrate/20190925202843_add_order_to_p_laylis_sounds.rb b/db/migrate/20190925202843_add_order_to_p_laylis_sounds.rb[m
[1mindex 81d3c45..508ca54 100644[m
[1m--- a/db/migrate/20190925202843_add_order_to_p_laylis_sounds.rb[m
[1m+++ b/db/migrate/20190925202843_add_order_to_p_laylis_sounds.rb[m
[36m@@ -1,5 +1,5 @@[m
[31m-class AddOrderToPLaylisSounds < ActiveRecord::Migration[5.2][m
[31m-  def change[m
[31m-  	add_column :playlist_sounds, :order, :integer[m
[31m-  end[m
[31m-end[m
[32m+[m[32mclass AddOrderToPLaylisSounds < ActiveRecord::Migration[5.2][m[41m[m
[32m+[m[32m  def change[m[41m[m
[32m+[m[41m  [m	[32madd_column :playlist_sounds, :order, :integer[m[41m[m
[32m+[m[32m  end[m[41m[m
[32m+[m[32mend[m[41m[m
